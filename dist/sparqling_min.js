var palette,state_buffer_max_length;palette=["b58900","cb4b16","dc322f","d33682","6c71c4","268bd2","2aa198","859900"],state_buffer_max_length=20,function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).cola=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),i(t("./src/adaptor")),i(t("./src/d3adaptor")),i(t("./src/descent")),i(t("./src/geom")),i(t("./src/gridrouter")),i(t("./src/handledisconnected")),i(t("./src/layout")),i(t("./src/layout3d")),i(t("./src/linklengths")),i(t("./src/powergraph")),i(t("./src/pqueue")),i(t("./src/rbtree")),i(t("./src/rectangle")),i(t("./src/shortestpaths")),i(t("./src/vpsc")),i(t("./src/batch"))},{"./src/adaptor":2,"./src/batch":3,"./src/d3adaptor":4,"./src/descent":7,"./src/geom":8,"./src/gridrouter":9,"./src/handledisconnected":10,"./src/layout":11,"./src/layout3d":12,"./src/linklengths":13,"./src/powergraph":14,"./src/pqueue":15,"./src/rbtree":16,"./src/rectangle":17,"./src/shortestpaths":18,"./src/vpsc":19}],2:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./layout"),s=function(t){function e(e){var n=t.call(this)||this,i=e;return i.trigger&&(n.trigger=i.trigger),i.kick&&(n.kick=i.kick),i.drag&&(n.drag=i.drag),i.on&&(n.on=i.on),n.dragstart=n.dragStart=o.Layout.dragStart,n.dragend=n.dragEnd=o.Layout.dragEnd,n}return r(e,t),e.prototype.trigger=function(t){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(t,e){return this},e}(o.Layout);n.LayoutAdaptor=s,n.adaptor=function(t){return new s(t)}},{"./layout":11}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./layout"),r=t("./gridrouter");n.gridify=function(t,e,n,i){return t.cola.start(0,0,0,10,!1),function(t,e,n,i){t.forEach(function(t){t.routerNode={name:t.name,bounds:t.bounds.inflate(-n)}}),e.forEach(function(e){e.routerNode={bounds:e.bounds.inflate(-i),children:(void 0!==e.groups?e.groups.map(function(e){return t.length+e.id}):[]).concat(void 0!==e.leaves?e.leaves.map(function(t){return t.index}):[])}});var o=t.concat(e).map(function(t,e){return t.routerNode.id=e,t.routerNode});return new r.GridRouter(o,{getChildren:function(t){return t.children},getBounds:function(t){return t.bounds}},n-i)}(t.cola.nodes(),t.cola.groups(),n,i).routeEdges(t.powerGraph.powerEdges,e,function(t){return t.source.routerNode.id},function(t){return t.target.routerNode.id})},n.powerGraphGridLayout=function(t,e,n){var r;t.nodes.forEach(function(t,e){return t.index=e}),(new i.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(t){(r=t).groups.forEach(function(t){return t.padding=n})});var o=t.nodes.length,s=[],a=t.nodes.slice(0);return a.forEach(function(t,e){return t.index=e}),r.groups.forEach(function(t){var e=t.index=t.id+o;a.push(t),void 0!==t.leaves&&t.leaves.forEach(function(t){return s.push({source:e,target:t.index})}),void 0!==t.groups&&t.groups.forEach(function(t){return s.push({source:e,target:t.id+o})})}),r.powerEdges.forEach(function(t){s.push({source:t.source.index,target:t.target.index})}),(new i.Layout).size(e).nodes(a).links(s).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new i.Layout).convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(t){(r=t).groups.forEach(function(t){t.padding=n})}).start(50,0,100,0,!1),powerGraph:r}}},{"./gridrouter":9,"./layout":11}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./d3v3adaptor"),r=t("./d3v4adaptor");n.d3adaptor=function(t){return!t||function(t){return t.version&&null!==t.version.match(/^3\./)}(t)?new i.D3StyleLayoutAdaptor:new r.D3StyleLayoutAdaptor(t)}},{"./d3v3adaptor":5,"./d3v4adaptor":6}],5:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./layout"),s=function(t){function e(){var e=t.call(this)||this;e.event=d3.dispatch(o.EventType[o.EventType.start],o.EventType[o.EventType.tick],o.EventType[o.EventType.end]);var n=e;return e.drag=function(){if(!t)var t=d3.behavior.drag().origin(o.Layout.dragOrigin).on("dragstart.d3adaptor",o.Layout.dragStart).on("drag.d3adaptor",function(t){o.Layout.drag(t,d3.event),n.resume()}).on("dragend.d3adaptor",o.Layout.dragEnd);if(!arguments.length)return t;this.call(t)},e}return r(e,t),e.prototype.trigger=function(t){var e={type:o.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[e.type](e)},e.prototype.kick=function(){var e=this;d3.timer(function(){return t.prototype.tick.call(e)})},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(o.EventType[t],e),this},e}(o.Layout);n.D3StyleLayoutAdaptor=s,n.d3adaptor=function(){return new s}},{"./layout":11}],6:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./layout"),s=function(t){function e(e){var n=t.call(this)||this;n.d3Context=e,n.event=e.dispatch(o.EventType[o.EventType.start],o.EventType[o.EventType.tick],o.EventType[o.EventType.end]);var i=n;return n.drag=function(){if(!t)var t=e.drag().subject(o.Layout.dragOrigin).on("start.d3adaptor",o.Layout.dragStart).on("drag.d3adaptor",function(t){o.Layout.drag(t,e.event),i.resume()}).on("end.d3adaptor",o.Layout.dragEnd);if(!arguments.length)return t;arguments[0].call(t)},n}return r(e,t),e.prototype.trigger=function(t){var e={type:o.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(e.type,e)},e.prototype.kick=function(){var e=this,n=this.d3Context.timer(function(){return t.prototype.tick.call(e)&&n.stop()})},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(o.EventType[t],e),this},e}(o.Layout);n.D3StyleLayoutAdaptor=s},{"./layout":11}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.locks={}}return t.prototype.add=function(t,e){this.locks[t]=e},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},t.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},t}();n.Locks=i;var r=function(){function t(t,e,n){void 0===n&&(n=null),this.D=e,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new o,this.project=null,this.x=t,this.k=t.length;var r=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new i,this.minD=Number.MAX_VALUE;for(var s,a=r;a--;)for(s=r;--s>a;){var u=e[a][s];u>0&&u<this.minD&&(this.minD=u)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),a=this.k;a--;){for(this.g[a]=new Array(r),this.H[a]=new Array(r),s=r;s--;)this.H[a][s]=new Array(r);this.Hd[a]=new Array(r),this.a[a]=new Array(r),this.b[a]=new Array(r),this.c[a]=new Array(r),this.d[a]=new Array(r),this.e[a]=new Array(r),this.ia[a]=new Array(r),this.ib[a]=new Array(r),this.xtmp[a]=new Array(r)}}return t.createSquareMatrix=function(t,e){for(var n=new Array(t),i=0;i<t;++i){n[i]=new Array(t);for(var r=0;r<t;++r)n[i][r]=e(i,r)}return n},t.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),n=0,i=0;i<this.k;++i){var r=e[i]=this.random.getNextBetween(.01,1)-.5;n+=r*r}return n=Math.sqrt(n),e.map(function(e){return e*(t.minD/n)})},t.prototype.computeDerivatives=function(t){var e=this,n=this.n;if(!(n<1)){for(var i,r=new Array(this.k),o=new Array(this.k),s=new Array(this.k),a=0,u=0;u<n;++u){for(i=0;i<this.k;++i)s[i]=this.g[i][u]=0;for(var c=0;c<n;++c)if(u!==c){for(var l=n;l--;){var h=0;for(i=0;i<this.k;++i){var d=r[i]=t[i][u]-t[i][c];h+=o[i]=d*d}if(h>1e-9)break;var p=this.offsetDir();for(i=0;i<this.k;++i)t[i][c]+=p[i]}var f=Math.sqrt(h),g=this.D[u][c],v=null!=this.G?this.G[u][c]:1;if(v>1&&f>g||!isFinite(g))for(i=0;i<this.k;++i)this.H[i][u][c]=0;else{v>1&&(v=1);var y=g*g,_=2*v*(f-g)/(y*f),m=f*f*f,b=2*-v/(y*m);for(isFinite(_)||console.log(_),i=0;i<this.k;++i)this.g[i][u]+=r[i]*_,s[i]-=this.H[i][u][c]=b*(m+g*(o[i]-h)+f*h)}}for(i=0;i<this.k;++i)a=Math.max(a,this.H[i][u][u]=s[i])}var x=this.snapGridSize/2,E=this.snapGridSize,w=this.snapStrength/(x*x),k=this.numGridSnapNodes;for(u=0;u<k;++u)for(i=0;i<this.k;++i){var F=this.x[i][u],A=F/E,S=A%1,C=A-S;-x<(d=Math.abs(S)<=.5?F-C*E:F>0?F-(C+1)*E:F-(C-1)*E)&&d<=x&&(this.scaleSnapByMaxH?(this.g[i][u]+=a*w*d,this.H[i][u][u]+=a*w):(this.g[i][u]+=w*d,this.H[i][u][u]+=w))}this.locks.isEmpty()||this.locks.apply(function(n,r){for(i=0;i<e.k;++i)e.H[i][n][n]+=a,e.g[i][n]-=a*(r[i]-t[i][n])})}},t.dotProd=function(t,e){for(var n=0,i=t.length;i--;)n+=t[i]*e[i];return n},t.rightMultiply=function(e,n,i){for(var r=e.length;r--;)i[r]=t.dotProd(e[r],n)},t.prototype.computeStepSize=function(e){for(var n=0,i=0,r=0;r<this.k;++r)n+=t.dotProd(this.g[r],e[r]),t.rightMultiply(this.H[r],e[r],this.Hd[r]),i+=t.dotProd(e[r],this.Hd[r]);return 0!==i&&isFinite(i)?1*n/i:0},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},t.copy=function(t,e){for(var n=t.length,i=e[0].length,r=0;r<n;++r)for(var o=0;o<i;++o)e[r][o]=t[r][o]},t.prototype.stepAndProject=function(e,n,i,r){t.copy(e,n),this.takeDescentStep(n[0],i[0],r),this.project&&this.project[0](e[0],e[1],n[0]),this.takeDescentStep(n[1],i[1],r),this.project&&this.project[1](n[0],e[1],n[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(n[o],i[o],r)},t.mApply=function(t,e,n){for(var i=t;i-- >0;)for(var r=e;r-- >0;)n(i,r)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(t,e){var n=this;this.computeDerivatives(t);var i=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,i),this.project){this.matrixApply(function(i,r){return n.e[i][r]=t[i][r]-e[i][r]});var r=this.computeStepSize(this.e);r=Math.max(.2,Math.min(r,1)),this.stepAndProject(t,e,this.e,r)}},t.prototype.run=function(t){for(var e=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var i=this.rungeKutta();n=Math.abs(e/i-1)<this.threshold,e=i}return e},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply(function(t,i){var r=(e.a[t][i]+2*e.b[t][i]+2*e.c[t][i]+e.d[t][i])/6,o=e.x[t][i]-r;n+=o*o,e.x[t][i]=r}),n},t.mid=function(e,n,i){t.mApply(e.length,e[0].length,function(t,r){return i[t][r]=e[t][r]+(n[t][r]-e[t][r])/2})},t.prototype.takeDescentStep=function(t,e,n){for(var i=0;i<this.n;++i)t[i]=t[i]-n*e[i]},t.prototype.computeStress=function(){for(var t=0,e=0,n=this.n-1;e<n;++e)for(var i=e+1,r=this.n;i<r;++i){for(var o=0,s=0;s<this.k;++s){var a=this.x[s][e]-this.x[s][i];o+=a*a}o=Math.sqrt(o);var u=this.D[e][i];if(isFinite(u)){var c=u-o;t+=c*c/(u*u)}}return t},t.zeroDistance=1e-10,t}();n.Descent=r;var o=function(){function t(t){void 0===t&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},t}();n.PseudoRandom=o},{}],8:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./rectangle"),s=function(){return function(){}}();n.Point=s;var a=function(){return function(t,e,n,i){this.x1=t,this.y1=e,this.x2=n,this.y2=i}}();n.LineSegment=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);function c(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function l(t,e,n){return c(t,e,n)>0}function h(t,e,n){return c(t,e,n)<0}function d(t,e){var n,i,r,o,s=e.length-1;if(h(t,e[1],e[0])&&!l(t,e[s-1],e[0]))return 0;for(n=0,i=s;;){if(i-n==1)return l(t,e[n],e[i])?n:i;if((o=h(t,e[(r=Math.floor((n+i)/2))+1],e[r]))&&!l(t,e[r-1],e[r]))return r;l(t,e[n+1],e[n])?o?i=r:l(t,e[n],e[r])?i=r:n=r:o&&h(t,e[n],e[r])?i=r:n=r}}function p(t,e){var n,i,r,o,s=e.length-1;if(l(t,e[s-1],e[0])&&!h(t,e[1],e[0]))return 0;for(n=0,i=s;;){if(i-n==1)return h(t,e[n],e[i])?n:i;if(o=h(t,e[(r=Math.floor((n+i)/2))+1],e[r]),l(t,e[r-1],e[r])&&!o)return r;h(t,e[n+1],e[n])?o?h(t,e[n],e[r])?i=r:n=r:i=r:o?n=r:l(t,e[n],e[r])?i=r:n=r}}function f(t,e,n,i,r,o){var s,a;a=i(t[s=n(e[0],t)],e);for(var u=!1;!u;){for(u=!0;s===t.length-1&&(s=0),!r(e[a],t[s],t[s+1]);)++s;for(;0===a&&(a=e.length-1),!o(t[s],e[a],e[a-1]);)--a,u=!1}return{t1:s,t2:a}}function g(t,e){return f(t,e,d,p,l,h)}n.PolyPoint=u,n.isLeft=c,n.ConvexHull=function(t){var e,n=t.slice(0).sort(function(t,e){return t.x!==e.x?e.x-t.x:e.y-t.y}),i=t.length,r=n[0].x;for(e=1;e<i&&n[e].x===r;++e);var o=e-1,s=[];if(s.push(n[0]),o===i-1)n[o].y!==n[0].y&&s.push(n[o]);else{var a,u=i-1,l=n[i-1].x;for(e=i-2;e>=0&&n[e].x===l;e--);for(a=e+1,e=o;++e<=a;)if(!(c(n[0],n[a],n[e])>=0&&e<a)){for(;s.length>1&&!(c(s[s.length-2],s[s.length-1],n[e])>0);)s.length-=1;0!=e&&s.push(n[e])}u!=a&&s.push(n[u]);var h=s.length;for(e=a;--e>=o;)if(!(c(n[u],n[o],n[e])>=0&&e>o)){for(;s.length>h&&!(c(s[s.length-2],s[s.length-1],n[e])>0);)s.length-=1;0!=e&&s.push(n[e])}}return s},n.clockwiseRadialSweep=function(t,e,n){e.slice(0).sort(function(e,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)}).forEach(n)},n.tangent_PolyPolyC=f,n.LRtangent_PolyPolyC=function(t,e){var n=g(e,t);return{t1:n.t2,t2:n.t1}},n.RLtangent_PolyPolyC=g,n.LLtangent_PolyPolyC=function(t,e){return f(t,e,p,p,h,h)},n.RRtangent_PolyPolyC=function(t,e){return f(t,e,d,d,l,l)};var v=function(){return function(t,e){this.t1=t,this.t2=e}}();n.BiTangent=v;var y=function(){return function(){}}();n.BiTangents=y;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);n.TVGPoint=_;var m=function(){return function(t,e,n,i){this.id=t,this.polyid=e,this.polyvertid=n,this.p=i,i.vv=this}}();n.VisibilityVertex=m;var b=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},t}();n.VisibilityEdge=b;var x=function(){function t(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var n=t.length,i=0;i<n;i++){for(var r=t[i],o=0;o<r.length;++o){var s=r[o],a=new m(this.V.length,i,o,s);this.V.push(a),o>0&&this.E.push(new b(r[o-1].vv,a))}r.length>1&&this.E.push(new b(r[0].vv,r[r.length-1].vv))}for(i=0;i<n-1;i++){var u=t[i];for(o=i+1;o<n;o++){var c=t[o],l=w(u,c);for(var h in l){var d=l[h],p=u[d.t1],f=c[d.t2];this.addEdgeIfVisible(p,f,i,o)}}}}}return t.prototype.addEdgeIfVisible=function(t,e,n,i){this.intersectsPolys(new a(t.x,t.y,e.x,e.y),n,i)||this.E.push(new b(t.vv,e.vv))},t.prototype.addPoint=function(t,e){var n,i,r,o=this.P.length;this.V.push(new m(this.V.length,o,0,t));for(var s=0;s<o;++s)if(s!==e){var a=this.P[s],u=(n=t,r=void 0,(r=(i=a).slice(0)).push(i[0]),{rtan:d(n,r),ltan:p(n,r)});this.addEdgeIfVisible(t,a[u.ltan],e,s),this.addEdgeIfVisible(t,a[u.rtan],e,s)}return t.vv},t.prototype.intersectsPolys=function(t,e,n){for(var i=0,r=this.P.length;i<r;++i)if(i!=e&&i!=n&&E(t,this.P[i]).length>0)return!0;return!1},t}();function E(t,e){for(var n=[],i=1,r=e.length;i<r;++i){var s=o.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[i-1].x,e[i-1].y,e[i].x,e[i].y);s&&n.push(s)}return n}function w(t,e){for(var n=t.length-1,i=e.length-1,r=new y,o=0;o<n;++o)for(var s=0;s<i;++s){var a=t[0==o?n-1:o-1],u=t[o],l=t[o+1],h=e[0==s?i-1:s-1],d=e[s],p=e[s+1],f=c(a,u,d),g=c(u,h,d),_=c(u,d,p),m=c(h,d,u),b=c(d,a,u),x=c(d,u,l);f>=0&&g>=0&&_<0&&m>=0&&b>=0&&x<0?r.ll=new v(o,s):f<=0&&g<=0&&_>0&&m<=0&&b<=0&&x>0?r.rr=new v(o,s):f<=0&&g>0&&_<=0&&m>=0&&b<0&&x>=0?r.rl=new v(o,s):f>=0&&g<0&&_>=0&&m<=0&&b>0&&x<=0&&(r.lr=new v(o,s))}return r}function k(t,e){return!t.every(function(t){return!function(t,e){for(var n=1,i=e.length;n<i;++n)if(h(e[n-1],e[n],t))return!1;return!0}(t,e)})}n.TangentVisibilityGraph=x,n.tangents=w,n.polysOverlap=function(t,e){if(k(t,e))return!0;if(k(e,t))return!0;for(var n=1,i=t.length;n<i;++n){var r=t[n],o=t[n-1];if(E(new a(o.x,o.y,r.x,r.y),e).length>0)return!0}return!1}},{"./rectangle":17}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./rectangle"),r=t("./vpsc"),o=t("./shortestpaths"),s=function(){return function(t,e,n){this.id=t,this.rect=e,this.children=n,this.leaf=void 0===n||0===n.length}}();n.NodeWrapper=s;var a=function(){return function(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.id=t,this.x=e,this.y=n,this.node=i,this.line=r}}();n.Vert=a;var u=function(){function t(e,n){this.s=e,this.t=n;var i=t.findMatch(e,n),r=n.slice(0).reverse(),o=t.findMatch(e,r);i.length>=o.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=n.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(t,e){for(var n=t.length,i=e.length,r={length:0,si:-1,ti:-1},o=new Array(n),s=0;s<n;s++){o[s]=new Array(i);for(var a=0;a<i;a++)if(t[s]===e[a]){var u=o[s][a]=0===s||0===a?1:o[s-1][a-1]+1;u>r.length&&(r.length=u,r.si=s-u+1,r.ti=a-u+1)}else o[s][a]=0}return r},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();n.LongestCommonSubsequence=u;var c=function(){function t(t,e,n){void 0===n&&(n=12);var r=this;this.originalnodes=t,this.groupPadding=n,this.leaves=null,this.nodes=t.map(function(t,n){return new s(n,e.getBounds(t),e.getChildren(t))}),this.leaves=this.nodes.filter(function(t){return t.leaf}),this.groups=this.nodes.filter(function(t){return!t.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(t){return t.children.forEach(function(e){return r.nodes[e].parent=t})}),this.root={children:[]},this.nodes.forEach(function(t){void 0===t.parent&&(t.parent=r.root,r.root.children.push(t.id)),t.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(t,e){return r.getDepth(t)-r.getDepth(e)}),this.backToFront.slice(0).reverse().filter(function(t){return!t.leaf}).forEach(function(t){var e=i.Rectangle.empty();t.children.forEach(function(t){return e=e.union(r.nodes[t].rect)}),t.rect=e.inflate(r.groupPadding)});var o=this.midPoints(this.cols.map(function(t){return t.pos})),u=this.midPoints(this.rows.map(function(t){return t.pos})),c=o[0],l=o[o.length-1],h=u[0],d=u[u.length-1],p=this.rows.map(function(t){return{x1:c,x2:l,y1:t.pos,y2:t.pos}}).concat(u.map(function(t){return{x1:c,x2:l,y1:t,y2:t}})),f=this.cols.map(function(t){return{x1:t.pos,x2:t.pos,y1:h,y2:d}}).concat(o.map(function(t){return{x1:t,x2:t,y1:h,y2:d}})),g=p.concat(f);g.forEach(function(t){return t.verts=[]}),this.verts=[],this.edges=[],p.forEach(function(t){return f.forEach(function(e){var n=new a(r.verts.length,e.x1,t.y1);t.verts.push(n),e.verts.push(n),r.verts.push(n);for(var i=r.backToFront.length;i-- >0;){var o=r.backToFront[i],s=o.rect,u=Math.abs(n.x-s.cx()),c=Math.abs(n.y-s.cy());if(u<s.width()/2&&c<s.height()/2){n.node=o;break}}})}),g.forEach(function(t,e){r.nodes.forEach(function(e,n){e.rect.lineIntersections(t.x1,t.y1,t.x2,t.y2).forEach(function(n,i){var o=new a(r.verts.length,n.x,n.y,e,t);r.verts.push(o),t.verts.push(o),e.ports.push(o)})});var n=Math.abs(t.y1-t.y2)<.1,i=function(t,e){return n?e.x-t.x:e.y-t.y};t.verts.sort(i);for(var o=1;o<t.verts.length;o++){var s=t.verts[o-1],u=t.verts[o];s.node&&s.node===u.node&&s.node.leaf||r.edges.push({source:s.id,target:u.id,length:Math.abs(i(s,u))})}})}return t.prototype.avg=function(t){return t.reduce(function(t,e){return t+e})/t.length},t.prototype.getGridLines=function(t){for(var e=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var i=n.filter(function(e){return e.rect["overlap"+t.toUpperCase()](n[0].rect)}),r={nodes:i,pos:this.avg(i.map(function(e){return e.rect["c"+t]()}))};e.push(r),r.nodes.forEach(function(t){return n.splice(n.indexOf(t),1)})}return e.sort(function(t,e){return t.pos-e.pos}),e},t.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},t.prototype.midPoints=function(t){for(var e=t[1]-t[0],n=[t[0]-e/2],i=1;i<t.length;i++)n.push((t[i]+t[i-1])/2);return n.push(t[t.length-1]+e/2),n},t.prototype.findLineage=function(t){var e=[t];do{t=t.parent,e.push(t)}while(t!==this.root);return e.reverse()},t.prototype.findAncestorPathBetween=function(t,e){for(var n=this.findLineage(t),i=this.findLineage(e),r=0;n[r]===i[r];)r++;return{commonAncestor:n[r-1],lineages:n.slice(r).concat(i.slice(r))}},t.prototype.siblingObstacles=function(t,e){var n=this,i=this.findAncestorPathBetween(t,e),r={};i.lineages.forEach(function(t){return r[t.id]={}});var o=i.commonAncestor.children.filter(function(t){return!(t in r)});return i.lineages.filter(function(t){return t.parent!==i.commonAncestor}).forEach(function(t){return o=o.concat(t.parent.children.filter(function(e){return e!==t.id}))}),o.map(function(t){return n.nodes[t]})},t.getSegmentSets=function(t,e,n){for(var i=[],r=0;r<t.length;r++)for(var o=t[r],s=0;s<o.length;s++){(h=o[s]).edgeid=r,h.i=s;var a=h[1][e]-h[0][e];Math.abs(a)<.1&&i.push(h)}i.sort(function(t,n){return t[0][e]-n[0][e]});for(var u=[],c=null,l=0;l<i.length;l++){var h=i[l];(!c||Math.abs(h[0][e]-c.pos)>.1)&&(c={pos:h[0][e],segments:[]},u.push(c)),c.segments.push(h)}return u},t.nudgeSegs=function(t,e,n,i,o,s){var a=i.length;if(!(a<=1)){for(var u=i.map(function(e){return new r.Variable(e[0][t])}),c=[],l=0;l<a;l++)for(var h=0;h<a;h++)if(l!==h){var d=i[l],p=i[h],f=d.edgeid,g=p.edgeid,v=-1,y=-1;"x"==t?o(f,g)&&(d[0][e]<d[1][e]?(v=h,y=l):(v=l,y=h)):o(f,g)&&(d[0][e]<d[1][e]?(v=l,y=h):(v=h,y=l)),v>=0&&c.push(new r.Constraint(u[v],u[y],s))}new r.Solver(u,c).solve(),u.forEach(function(e,r){var o=i[r],s=e.position();o[0][t]=o[1][t]=s;var a=n[o.edgeid];o.i>0&&(a[o.i-1][1][t]=s),o.i<a.length-1&&(a[o.i+1][0][t]=s)})}},t.nudgeSegments=function(e,n,i,r,o){for(var s=t.getSegmentSets(e,n,i),a=0;a<s.length;a++){for(var u=s[a],c=[],l=0;l<u.segments.length;l++){var h=u.segments[l];c.push({type:0,s:h,pos:Math.min(h[0][i],h[1][i])}),c.push({type:1,s:h,pos:Math.max(h[0][i],h[1][i])})}c.sort(function(t,e){return t.pos-e.pos+t.type-e.type});var d=[],p=0;c.forEach(function(s){0===s.type?(d.push(s.s),p++):p--,0==p&&(t.nudgeSegs(n,i,e,d,r,o),d=[])})}},t.prototype.routeEdges=function(e,n,i,r){var o=this,s=e.map(function(t){return o.route(i(t),r(t))}),a=t.orderEdges(s),u=s.map(function(e){return t.makeSegments(e)});return t.nudgeSegments(u,"x","y",a,n),t.nudgeSegments(u,"y","x",a,n),t.unreverseEdges(u,s),u},t.unreverseEdges=function(t,e){t.forEach(function(t,n){e[n].reversed&&(t.reverse(),t.forEach(function(t){t.reverse()}))})},t.angleBetween2Lines=function(t,e){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),i=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=n-i;return(r>Math.PI||r<-Math.PI)&&(r=i-n),r},t.isLeft=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)<=0},t.getOrder=function(t){for(var e={},n=0;n<t.length;n++){var i=t[n];void 0===e[i.l]&&(e[i.l]={}),e[i.l][i.r]=!0}return function(t,n){return void 0!==e[t]&&e[t][n]}},t.orderEdges=function(e){for(var n=[],i=0;i<e.length-1;i++)for(var r=i+1;r<e.length;r++){var o,s,a,c=e[i],l=e[r],h=new u(c,l);0!==h.length&&(h.reversed&&(l.reverse(),l.reversed=!0,h=new u(c,l)),(h.si<=0||h.ti<=0)&&(h.si+h.length>=c.length||h.ti+h.length>=l.length)?n.push({l:i,r:r}):(h.si+h.length>=c.length||h.ti+h.length>=l.length?(o=c[h.si+1],a=c[h.si-1],s=l[h.ti-1]):(o=c[h.si+h.length-2],s=c[h.si+h.length],a=l[h.ti+h.length]),t.isLeft(o,s,a)?n.push({l:r,r:i}):n.push({l:i,r:r})))}return t.getOrder(n)},t.makeSegments=function(t){function e(t){return{x:t.x,y:t.y}}for(var n=function(t,e,n){return Math.abs((e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x))<.001},i=[],r=e(t[0]),o=1;o<t.length;o++){var s=e(t[o]),a=o<t.length-1?t[o+1]:null;a&&n(r,s,a)||(i.push([r,s]),r=s)}return i},t.prototype.route=function(t,e){var n=this,i=this.nodes[t],r=this.nodes[e];this.obstacles=this.siblingObstacles(i,r);var s={};this.obstacles.forEach(function(t){return s[t.id]=t}),this.passableEdges=this.edges.filter(function(t){var e=n.verts[t.source],i=n.verts[t.target];return!(e.node&&e.node.id in s||i.node&&i.node.id in s)});for(var a=1;a<i.ports.length;a++){var u=i.ports[0].id,c=i.ports[a].id;this.passableEdges.push({source:u,target:c,length:0})}for(a=1;a<r.ports.length;a++){u=r.ports[0].id,c=r.ports[a].id;this.passableEdges.push({source:u,target:c,length:0})}var l=new o.Calculator(this.verts.length,this.passableEdges,function(t){return t.source},function(t){return t.target},function(t){return t.length}).PathFromNodeToNodeWithPrevCost(i.ports[0].id,r.ports[0].id,function(t,e,o){var s=n.verts[t],a=n.verts[e],u=n.verts[o],c=Math.abs(u.x-s.x),l=Math.abs(u.y-s.y);return s.node===i&&s.node===a.node||a.node===r&&a.node===u.node?0:c>1&&l>1?1e3:0}).reverse().map(function(t){return n.verts[t]});return l.push(this.nodes[r.id].ports[0]),l.filter(function(t,e){return!(e<l.length-1&&l[e+1].node===i&&t.node===i||e>0&&t.node===r&&l[e-1].node===r)})},t.getRoutePath=function(e,n,i,r){var o={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var s=0;s<e.length;s++){var a=(b=e[s])[1].x,u=b[1].y,c=a-b[0].x,l=u-b[0].y;if(s<e.length-1){Math.abs(c)>0?a-=c/Math.abs(c)*n:u-=l/Math.abs(l)*n,o.routepath+="L "+a+" "+u+" ";var h=e[s+1],d=h[0].x,p=h[0].y;c=h[1].x-d,l=h[1].y-p;var f,g,v=t.angleBetween2Lines(b,h)<0?1:0;Math.abs(c)>0?(f=d+c/Math.abs(c)*n,g=p):(f=d,g=p+l/Math.abs(l)*n);var y=Math.abs(f-a),_=Math.abs(g-u);o.routepath+="A "+y+" "+_+" 0 0 "+v+" "+f+" "+g+" "}else{var m=[a,u];Math.abs(c)>0?(x=[a-=c/Math.abs(c)*r,u+i],E=[a,u-i]):(x=[a+i,u-=l/Math.abs(l)*r],E=[a-i,u]),o.routepath+="L "+a+" "+u+" ",r>0&&(o.arrowpath="M "+m[0]+" "+m[1]+" L "+x[0]+" "+x[1]+" L "+E[0]+" "+E[1])}}else{var b,x,E;a=(b=e[0])[1].x,u=b[1].y,c=a-b[0].x,l=u-b[0].y,m=[a,u];Math.abs(c)>0?(x=[a-=c/Math.abs(c)*r,u+i],E=[a,u-i]):(x=[a+i,u-=l/Math.abs(l)*r],E=[a-i,u]),o.routepath+="L "+a+" "+u+" ",r>0&&(o.arrowpath="M "+m[0]+" "+m[1]+" L "+x[0]+" "+x[1]+" L "+E[0]+" "+E[1])}return o},t}();n.GridRouter=c},{"./rectangle":17,"./shortestpaths":18,"./vpsc":19}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};n.applyPacking=function(t,e,n,r,o){void 0===o&&(o=1);var s=0,a=0,u=e,c=n,l=(o=void 0!==o?o:1,r=void 0!==r?r:0,0),h=0,d=0,p=0,f=[];function g(t,e){f=[],l=0,h=0,p=a;for(var n=0;n<t.length;n++)v(t[n],e);return Math.abs(l/h-o)}function v(t,e){for(var n=void 0,r=0;r<f.length;r++)if(f[r].space_left>=t.height&&f[r].x+f[r].width+t.width+i.PADDING-e<=i.FLOAT_EPSILON){n=f[r];break}f.push(t),void 0!==n?(t.x=n.x+n.width+i.PADDING,t.y=n.bottom,t.space_left=t.height,t.bottom=t.y,n.space_left-=t.height+i.PADDING,n.bottom+=t.height+i.PADDING):(t.y=p,p+=t.height+i.PADDING,t.x=s,t.bottom=t.y,t.space_left=t.height),t.y+t.height-h>-i.FLOAT_EPSILON&&(h=t.y+t.height-a),t.x+t.width-l>-i.FLOAT_EPSILON&&(l=t.x+t.width-s)}0!=t.length&&(function(t){t.forEach(function(t){var e,n,i,o,s;e=t,n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,s=0,e.array.forEach(function(t){var e=void 0!==t.width?t.width:r,a=void 0!==t.height?t.height:r;e/=2,a/=2,o=Math.max(t.x+e,o),n=Math.min(t.x-e,n),s=Math.max(t.y+a,s),i=Math.min(t.y-a,i)}),e.width=o-n,e.height=s-i})}(t),function(t,e){var n=Number.POSITIVE_INFINITY,r=0;t.sort(function(t,e){return e.height-t.height}),d=t.reduce(function(t,e){return t.width<e.width?t.width:e.width});for(var o=f=d,s=v=function(t){var e=0;return t.forEach(function(t){return e+=t.width+i.PADDING}),e}(t),a=0,u=Number.MAX_VALUE,c=Number.MAX_VALUE,l=-1,h=Number.MAX_VALUE,p=Number.MAX_VALUE;h>d||p>i.FLOAT_EPSILON;){if(1!=l)var f=s-(s-o)/i.GOLDEN_SECTION,u=g(t,f);if(0!=l)var v=o+(s-o)/i.GOLDEN_SECTION,c=g(t,v);if(h=Math.abs(f-v),p=Math.abs(u-c),u<n&&(n=u,r=f),c<n&&(n=c,r=v),u>c?(o=f,f=v,u=c,l=1):(s=v,v=f,c=u,l=0),a++>100)break}g(t,r)}(t),function(t){t.forEach(function(t){var e={x:0,y:0};t.array.forEach(function(t){e.x+=t.x,e.y+=t.y}),e.x/=t.array.length,e.y/=t.array.length;var n={x:e.x-t.width/2,y:e.y-t.height/2},i={x:t.x-n.x+u/2-l/2,y:t.y-n.y+c/2-h/2};t.array.forEach(function(t){t.x+=i.x,t.y+=i.y})})}(t))},n.separateGraphs=function(t,e){for(var n={},i={},r=[],o=0,s=0;s<e.length;s++){var a=e[s],u=a.source,c=a.target;i[u.index]?i[u.index].push(c):i[u.index]=[c],i[c.index]?i[c.index].push(u):i[c.index]=[u]}for(s=0;s<t.length;s++){var l=t[s];n[l.index]||h(l,!0)}function h(t,e){if(void 0===n[t.index]){e&&(o++,r.push({array:[]})),n[t.index]=o,r[o-1].array.push(t);var s=i[t.index];if(s)for(var a=0;a<s.length;a++)h(s[a],!1)}}return r}},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./powergraph"),o=t("./linklengths"),s=t("./descent"),a=t("./rectangle"),u=t("./shortestpaths"),c=t("./geom"),l=t("./handledisconnected");function h(t){return void 0!==t.leaves||void 0!==t.groups}!function(t){t[t.start=0]="start",t[t.tick=1]="tick",t[t.end=2]="end"}(i=n.EventType||(n.EventType={}));var d=function(){function t(){var e=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:t.getSourceIndex,getTargetIndex:t.getTargetIndex,setLength:t.setLinkLength,getType:function(t){return"function"==typeof e._linkType?e._linkType(t):0}}}return t.prototype.on=function(t,e){return this.event||(this.event={}),"string"==typeof t?this.event[i[t]]=e:this.event[t]=e,this},t.prototype.trigger=function(t){this.event&&void 0!==this.event[t.type]&&this.event[t.type](t)},t.prototype.kick=function(){for(;!this.tick(););},t.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:i.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t,e,n=this._nodes.length;this._links.length;for(this._descent.locks.clear(),e=0;e<n;++e)if((t=this._nodes[e]).fixed){void 0!==t.px&&void 0!==t.py||(t.px=t.x,t.py=t.y);var r=[t.px,t.py];this._descent.locks.add(e,r)}var o=this._descent.rungeKutta();return 0===o?this._alpha=0:void 0!==this._lastStress&&(this._alpha=o),this._lastStress=o,this.updateNodePositions(),this.trigger({type:i.tick,alpha:this._alpha,stress:this._lastStress}),!1},t.prototype.updateNodePositions=function(){for(var t,e=this._descent.x[0],n=this._descent.x[1],i=this._nodes.length;i--;)(t=this._nodes[i]).x=e[i],t.y=n[i]},t.prototype.nodes=function(t){if(!t){if(0===this._nodes.length&&this._links.length>0){var e=0;this._links.forEach(function(t){e=Math.max(e,t.source,t.target)}),this._nodes=new Array(++e);for(var n=0;n<e;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},t.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(t){void 0===t.padding&&(t.padding=1),void 0!==t.leaves&&t.leaves.forEach(function(n,i){"number"==typeof n&&((t.leaves[i]=e._nodes[n]).parent=t)}),void 0!==t.groups&&t.groups.forEach(function(n,i){"number"==typeof n&&((t.groups[i]=e._groups[n]).parent=t)})}),this._rootGroup.leaves=this._nodes.filter(function(t){return void 0===t.parent}),this._rootGroup.groups=this._groups.filter(function(t){return void 0===t.parent}),this):this._groups},t.prototype.powerGraphGroups=function(t){var e=r.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},t.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},t.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},t.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:"number"==typeof e?function(){return e}:e},this},t.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},t.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},t.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},t.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},t.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},t.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},t.prototype.linkDistance=function(t){return t?(this._linkDistance="function"==typeof t?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},t.prototype.linkType=function(t){return this._linkType=t,this},t.prototype.convergenceThreshold=function(t){return t?(this._threshold="function"==typeof t?t:+t,this):this._threshold},t.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?this._alpha=t>0?t:0:t>0&&(this._running||(this._running=!0,this.trigger({type:i.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},t.prototype.getLinkLength=function(t){return"function"==typeof this._linkDistance?+this._linkDistance(t):this._linkDistance},t.setLinkLength=function(t,e){t.length=e},t.prototype.getLinkType=function(t){return"function"==typeof this._linkType?this._linkType(t):0},t.prototype.symmetricDiffLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance(function(e){return t*e.length}),this._linkLengthCalculator=function(){return o.symmetricDiffLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.jaccardLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance(function(e){return t*e.length}),this._linkLengthCalculator=function(){return o.jaccardLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.start=function(e,n,i,r,c){var l=this;void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===c&&(c=!0);var h,d=this.nodes().length,p=d+2*this._groups.length,f=(this._links.length,this._canvasSize[0]),g=this._canvasSize[1],v=new Array(p),y=new Array(p),_=null,m=this._avoidOverlaps;this._nodes.forEach(function(t,e){t.index=e,void 0===t.x&&(t.x=f/2,t.y=g/2),v[e]=t.x,y[e]=t.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?h=this._distanceMatrix:(h=new u.Calculator(p,this._links,t.getSourceIndex,t.getTargetIndex,function(t){return l.getLinkLength(t)}).DistanceMatrix(),_=s.Descent.createSquareMatrix(p,function(){return 2}),this._links.forEach(function(t){"number"==typeof t.source&&(t.source=l._nodes[t.source]),"number"==typeof t.target&&(t.target=l._nodes[t.target])}),this._links.forEach(function(e){var n=t.getSourceIndex(e),i=t.getTargetIndex(e);_[n][i]=_[i][n]=e.weight||1}));var b=s.Descent.createSquareMatrix(p,function(t,e){return h[t][e]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var x=d;this._groups.forEach(function(t){!function(t,e,n,i){_[t][e]=_[e][t]=n,b[t][e]=b[e][t]=i}(x,x+1,l._groupCompactness,.1),v[x]=0,y[x++]=0,v[x]=0,y[x++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var E=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,E=E.concat(o.generateDirectedEdgeConstraints(d,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new s.Descent([v,y],b),this._descent.locks.clear();for(x=0;x<d;++x){var w=this._nodes[x];if(w.fixed){w.px=w.x,w.py=w.y;var k=[w.x,w.y];this._descent.locks.add(x,k)}}if(this._descent.threshold=this._threshold,this.initialLayout(e,v,y),E.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,E).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(f,g),this.avoidOverlaps(m),m&&(this._nodes.forEach(function(t,e){t.x=v[e],t.y=y[e]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,E,!0).projectFunctions(),this._nodes.forEach(function(t,e){v[e]=t.x,y[e]=t.y})),this._descent.G=_,this._descent.run(i),r){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=d,this._descent.scaleSnapByMaxH=d!=p;var F=s.Descent.createSquareMatrix(p,function(t,e){return t>=d||e>=d?_[t][e]:0});this._descent.G=F,this._descent.run(r)}return this.updateNodePositions(),this.separateOverlappingComponents(f,g),c?this.resume():this},t.prototype.initialLayout=function(e,n,i){if(this._groups.length>0&&e>0){var r=this._nodes.length,o=this._links.map(function(t){return{source:t.source.index,target:t.target.index}}),s=this._nodes.map(function(t){return{index:t.index}});this._groups.forEach(function(t,e){s.push({index:t.index=r+e})}),this._groups.forEach(function(t,e){void 0!==t.leaves&&t.leaves.forEach(function(e){return o.push({source:t.index,target:e.index})}),void 0!==t.groups&&t.groups.forEach(function(e){return o.push({source:t.index,target:e.index})})}),(new t).size(this.size()).nodes(s).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(e,0,0,0,!1),this._nodes.forEach(function(t){n[t.index]=s[t.index].x,i[t.index]=s[t.index].y})}else this._descent.run(e)},t.prototype.separateOverlappingComponents=function(t,e){var n=this;if(!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],r=this._descent.x[1];this._nodes.forEach(function(t,e){t.x=i[e],t.y=r[e]});var o=l.separateGraphs(this._nodes,this._links);l.applyPacking(o,t,e,this._defaultNodeSize),this._nodes.forEach(function(t,e){n._descent.x[0][e]=t.x,n._descent.x[1][e]=t.y,t.bounds&&(t.bounds.setXCentre(t.x),t.bounds.setYCentre(t.y))})}},t.prototype.resume=function(){return this.alpha(.1)},t.prototype.stop=function(){return this.alpha(0)},t.prototype.prepareEdgeRouting=function(t){void 0===t&&(t=0),this._visibilityGraph=new c.TangentVisibilityGraph(this._nodes.map(function(e){return e.bounds.inflate(-t).vertices()}))},t.prototype.routeEdge=function(t,e,n){void 0===e&&(e=5);var i=[],r=new c.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},s={x:t.target.x,y:t.target.y},l=r.addPoint(o,t.source.index),h=r.addPoint(s,t.target.index);r.addEdgeIfVisible(o,s,t.source.index,t.target.index),void 0!==n&&n(r);var d=new u.Calculator(r.V.length,r.E,function(t){return t.source.id},function(t){return t.target.id},function(t){return t.length()}).PathFromNodeToNode(l.id,h.id);if(1===d.length||d.length===r.V.length){var p=a.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);i=[p.sourceIntersection,p.arrowStart]}else{for(var f=d.length-2,g=r.V[d[f]].p,v=r.V[d[0]].p,y=(i=[t.source.innerBounds.rayIntersection(g.x,g.y)],f);y>=0;--y)i.push(r.V[d[y]].p);i.push(a.makeEdgeTo(v,t.target.innerBounds,e))}return i},t.getSourceIndex=function(t){return"number"==typeof t.source?t.source:t.source.index},t.getTargetIndex=function(t){return"number"==typeof t.target?t.target:t.target.index},t.linkId=function(e){return t.getSourceIndex(e)+"-"+t.getTargetIndex(e)},t.dragStart=function(e){h(e)?t.storeOffset(e,t.dragOrigin(e)):(t.stopNode(e),e.fixed|=2)},t.stopNode=function(t){t.px=t.x,t.py=t.y},t.storeOffset=function(e,n){void 0!==e.leaves&&e.leaves.forEach(function(e){e.fixed|=2,t.stopNode(e),e._dragGroupOffsetX=e.x-n.x,e._dragGroupOffsetY=e.y-n.y}),void 0!==e.groups&&e.groups.forEach(function(e){return t.storeOffset(e,n)})},t.dragOrigin=function(t){return h(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},t.drag=function(e,n){h(e)?(void 0!==e.leaves&&e.leaves.forEach(function(t){e.bounds.setXCentre(n.x),e.bounds.setYCentre(n.y),t.px=t._dragGroupOffsetX+n.x,t.py=t._dragGroupOffsetY+n.y}),void 0!==e.groups&&e.groups.forEach(function(e){return t.drag(e,n)})):(e.px=n.x,e.py=n.y)},t.dragEnd=function(e){h(e)?(void 0!==e.leaves&&e.leaves.forEach(function(e){t.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY}),void 0!==e.groups&&e.groups.forEach(t.dragEnd)):e.fixed&=-7},t.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},t.mouseOut=function(t){t.fixed&=-5},t}();n.Layout=d},{"./descent":7,"./geom":8,"./handledisconnected":10,"./linklengths":13,"./powergraph":14,"./rectangle":17,"./shortestpaths":18}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./shortestpaths"),r=t("./descent"),o=t("./rectangle"),s=t("./linklengths"),a=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce(function(t,n){var i=n[e.target]-n[e.source];return t+i*i},0))},t}();n.Link3D=a;var u=function(){return function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n}}();n.Node3D=u;var c=function(){function t(e,n,i){void 0===i&&(i=1);var r=this;this.nodes=e,this.links=n,this.idealLinkLength=i,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach(function(e,n){for(var i=0,o=t.dims;i<o.length;i++){var s=o[i];void 0===e[s]&&(e[s]=Math.random())}r.result[0][n]=e.x,r.result[1][n]=e.y,r.result[2][n]=e.z})}return t.prototype.linkLength=function(t){return t.actualLength(this.result)},t.prototype.start=function(t){var e=this;void 0===t&&(t=100);var n=this.nodes.length,a=new l;this.useJaccardLinkLengths&&s.jaccardLinkLengths(this.links,a,1.5),this.links.forEach(function(t){return t.length*=e.idealLinkLength});var u=new i.Calculator(n,this.links,function(t){return t.source},function(t){return t.target},function(t){return t.length}).DistanceMatrix(),c=r.Descent.createSquareMatrix(n,function(t,e){return u[t][e]}),h=r.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(t){var e=t.source,n=t.target;return h[e][n]=h[n][e]=1}),this.descent=new r.Descent(this.result,c),this.descent.threshold=.001,this.descent.G=h,this.constraints&&(this.descent.project=new o.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var d=0;d<this.nodes.length;d++){var p=this.nodes[d];p.fixed&&this.descent.locks.add(d,[p.x,p.y,p.z])}return this.descent.run(t),this},t.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},t.dims=["x","y","z"],t.k=t.dims.length,t}();n.Layout3D=c;var l=function(){function t(){}return t.prototype.getSourceIndex=function(t){return t.source},t.prototype.getTargetIndex=function(t){return t.target},t.prototype.getLength=function(t){return t.length},t.prototype.setLength=function(t,e){t.length=e},t}()},{"./descent":7,"./linklengths":13,"./rectangle":17,"./shortestpaths":18}],13:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)n[i]={};for(var i in e)n[i]={};return Object.keys(n).length}function r(t,e){var n=0;for(var i in t)void 0!==e[i]&&++n;return n}function o(t,e,n,i){var r=function(t,e){var n={},i=function(t,e){void 0===n[t]&&(n[t]={}),n[t][e]={}};return t.forEach(function(t){var n=e.getSourceIndex(t),r=e.getTargetIndex(t);i(n,r),i(r,n)}),n}(t,i);t.forEach(function(t){var o=r[i.getSourceIndex(t)],s=r[i.getTargetIndex(t)];i.setLength(t,1+e*n(o,s))})}function s(t,e,n){var i=[],r=0,o=[],s=[];function a(t){t.index=t.lowlink=r++,o.push(t),t.onStack=!0;for(var e=0,n=t.out;e<n.length;e++){var i=n[e];void 0===i.index?(a(i),t.lowlink=Math.min(t.lowlink,i.lowlink)):i.onStack&&(t.lowlink=Math.min(t.lowlink,i.index))}if(t.lowlink===t.index){for(var u=[];o.length&&((i=o.pop()).onStack=!1,u.push(i),i!==t););s.push(u.map(function(t){return t.id}))}}for(var u=0;u<t;u++)i.push({id:u,out:[]});for(var c=0,l=e;c<l.length;c++){var h=l[c],d=i[n.getSourceIndex(h)],p=i[n.getTargetIndex(h)];d.out.push(p)}for(var f=0,g=i;f<g.length;f++){var v=g[f];void 0===v.index&&a(v)}return s}Object.defineProperty(n,"__esModule",{value:!0}),n.symmetricDiffLinkLengths=function(t,e,n){void 0===n&&(n=1),o(t,n,function(t,e){return Math.sqrt(i(t,e)-r(t,e))},e)},n.jaccardLinkLengths=function(t,e,n){void 0===n&&(n=1),o(t,n,function(t,e){return Math.min(Object.keys(t).length,Object.keys(e).length)<1.1?0:r(t,e)/i(t,e)},e)},n.generateDirectedEdgeConstraints=function(t,e,n,i){var r=s(t,e,i),o={};r.forEach(function(t,e){return t.forEach(function(t){return o[t]=e})});var a=[];return e.forEach(function(t){var e=i.getSourceIndex(t),r=i.getTargetIndex(t);o[e]!==o[r]&&a.push({axis:n,left:e,right:r,gap:i.getMinSeparation(t)})}),a},n.stronglyConnectedComponents=s},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,e,n){this.source=t,this.target=e,this.type=n}}();n.PowerEdge=i;var r=function(){function t(t,e,n,i){var r=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],i)this.initModulesFromGroup(i);else{this.roots.push(new a);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new o(s))}this.R=e.length,e.forEach(function(t){var e=r.modules[n.getSourceIndex(t)],i=r.modules[n.getTargetIndex(t)],o=n.getType(t);e.outgoing.add(o,i),i.incoming.add(o,e)})}return t.prototype.initModulesFromGroup=function(t){var e=new a;this.roots.push(e);for(var n=0;n<t.leaves.length;++n){var i=t.leaves[n],r=new o(i.id);this.modules[i.id]=r,e.add(r)}if(t.groups)for(var s=0;s<t.groups.length;++s){var c=t.groups[s],l={};for(var h in c)"leaves"!==h&&"groups"!==h&&c.hasOwnProperty(h)&&(l[h]=c[h]);e.add(new o(-1-s,new u,new u,this.initModulesFromGroup(c),l))}return e},t.prototype.merge=function(t,e,n){void 0===n&&(n=0);var i=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing),s=new a;s.add(t),s.add(e);var u=new o(this.modules.length,r,i,s);this.modules.push(u);var c=function(n,i,r){n.forAll(function(n,o){n.forAll(function(n){var s=n[i];s.add(o,u),s.remove(o,t),s.remove(o,e),t[r].remove(o,n),e[r].remove(o,n)})})};return c(r,"incoming","outgoing"),c(i,"outgoing","incoming"),this.R-=i.count()+r.count(),this.roots[n].remove(t),this.roots[n].remove(e),this.roots[n].add(u),u},t.prototype.rootMerges=function(t){void 0===t&&(t=0);for(var e=this.roots[t].modules(),n=e.length,i=new Array(n*(n-1)),r=0,o=0,s=n-1;o<s;++o)for(var a=o+1;a<n;++a){var u=e[o],c=e[a];i[r]={id:r,nEdges:this.nEdges(u,c),a:u,b:c},r++}return i},t.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort(function(t,e){return t.nEdges==e.nEdges?t.id-e.id:t.nEdges-e.nEdges})[0];if(!(e.nEdges>=this.R))return this.merge(e.a,e.b,t),!0}},t.prototype.nEdges=function(t,e){var n=t.incoming.intersection(e.incoming),i=t.outgoing.intersection(e.outgoing);return this.R-n.count()-i.count()},t.prototype.getGroupHierarchy=function(t){var e=this,n=[];return function t(e,n,i){e.forAll(function(e){if(e.isLeaf())n.leaves||(n.leaves=[]),n.leaves.push(e.id);else{var r=n;if(e.gid=i.length,!e.isIsland()||e.isPredefined()){if(r={id:e.gid},e.isPredefined())for(var o in e.definition)r[o]=e.definition[o];n.groups||(n.groups=[]),n.groups.push(e.gid),i.push(r)}t(e.children,r,i)}})}(this.roots[0],{},n),this.allEdges().forEach(function(r){var o=e.modules[r.source],s=e.modules[r.target];t.push(new i(void 0===o.gid?r.source:n[o.gid],void 0===s.gid?r.target:n[s.gid],r.type))}),n},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,n){e.forAll(function(e){e.getEdges(n),t.getEdges(e.children,n)})},t}();n.Configuration=r;var o=function(){function t(t,e,n,i,r){void 0===e&&(e=new u),void 0===n&&(n=new u),void 0===i&&(i=new a),this.id=t,this.outgoing=e,this.incoming=n,this.children=i,this.definition=r}return t.prototype.getEdges=function(t){var e=this;this.outgoing.forAll(function(n,r){n.forAll(function(n){t.push(new i(e.id,n.id,r))})})},t.prototype.isLeaf=function(){return 0===this.children.count()},t.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},t.prototype.isPredefined=function(){return void 0!==this.definition},t}();function s(t,e){var n={};for(var i in t)i in e&&(n[i]=t[i]);return n}n.Module=o;var a=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var n=new t;return n.table=s(this.table,e.table),n},t.prototype.intersectionCount=function(t){return this.intersection(t).count()},t.prototype.contains=function(t){return t in this.table},t.prototype.add=function(t){this.table[t.id]=t},t.prototype.remove=function(t){delete this.table[t.id]},t.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},t.prototype.modules=function(){var t=[];return this.forAll(function(e){e.isPredefined()||t.push(e)}),t},t}();n.ModuleSet=a;var u=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(t){var e=!1;return this.forAllModules(function(n){e||n.id!=t||(e=!0)}),e},t.prototype.add=function(t,e){(t in this.sets?this.sets[t]:this.sets[t]=new a).add(e),++this.n},t.prototype.remove=function(t,e){var n=this.sets[t];n.remove(e),0===n.count()&&delete this.sets[t],--this.n},t.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},t.prototype.forAllModules=function(t){this.forAll(function(e,n){return e.forAll(t)})},t.prototype.intersection=function(e){var n=new t;return this.forAll(function(t,i){if(i in e.sets){var r=t.intersection(e.sets[i]),o=r.count();o>0&&(n.sets[i]=r,n.n+=o)}}),n},t}();n.LinkSets=u,n.getGroups=function(t,e,n,i){for(var o=t.length,s=new r(o,e,n,i);s.greedyMerge(););var a=[],u=s.getGroupHierarchy(a);return a.forEach(function(e){var n=function(n){var i=e[n];"number"==typeof i&&(e[n]=t[i])};n("source"),n("target")}),{groups:u,powerEdges:a}}},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.elem=t,this.subheaps=[]}return t.prototype.toString=function(t){for(var e="",n=!1,i=0;i<this.subheaps.length;++i){var r=this.subheaps[i];r.elem?(n&&(e+=","),e+=r.toString(t),n=!0):n=!1}return""!==e&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},t.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(e){return e.forEach(t)}))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,e){return t+e.count()},0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return null==this.elem},t.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},t.prototype.isHeap=function(t){var e=this;return this.subheaps.every(function(n){return t(e.elem,n.elem)&&n.isHeap(t)})},t.prototype.insert=function(e,n){return this.merge(new t(e),n)},t.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},t.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},t.prototype.mergePairs=function(e){if(0==this.subheaps.length)return new t(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),e),i=this.mergePairs(e);return n.merge(i,e)},t.prototype.decreaseKey=function(e,n,i,r){var o=e.removeMin(r);e.elem=o.elem,e.subheaps=o.subheaps,null!==i&&null!==o.elem&&i(e.elem,e);var s=new t(n);return null!==i&&i(n,s),this.merge(s,r)},t}();n.PairingHeap=i;var r=function(){function t(t){this.lessThan=t}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r,o=0;r=e[o];++o)t=new i(r),this.root=this.empty()?t:this.root.merge(t,this.lessThan);return t},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(t){this.root.forEach(t)},t.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},t.prototype.reduceKey=function(t,e,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(t,e,n,this.lessThan)},t.prototype.toString=function(t){return this.root.toString(t)},t.prototype.count=function(){return this.root.count()},t}();n.PriorityQueue=r},{}],16:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.findIter=function(t){for(var e=this._root,n=this.iterator();null!==e;){var i=this._comparator(t,e.data);if(0===i)return n._cursor=e,n;n._ancestors.push(e),e=e.get_child(i>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(t){for(var e=this._root;null!==e;){var n=this._comparator(t,e.data);if(0===n)return e.data;e=e.get_child(n>0)}return null},t.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},t.prototype.upperBound=function(t){var e=this._comparator;return this._bound(t,function(t,n){return e(n,t)})},t.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},t.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},t.prototype.iterator=function(){return new s(this)},t.prototype.each=function(t){for(var e,n=this.iterator();null!==(e=n.next());)t(e)},t.prototype.reach=function(t){for(var e,n=this.iterator();null!==(e=n.prev());)t(e)},t.prototype._bound=function(t,e){for(var n=this._root,i=this.iterator();null!==n;){var r=this._comparator(t,n.data);if(0===r)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(r>0)}for(var o=i._ancestors.length-1;o>=0;--o)if(e(t,(n=i._ancestors[o]).data)>0)return i._cursor=n,i._ancestors.length=o,i;return i._ancestors.length=0,i},t}();n.TreeBase=o;var s=function(){function t(t){this._tree=t,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var e;if(null===this._cursor.right)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var e;if(null===this._cursor.left)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}();n.Iterator=s;var a=function(){function t(t){this.data=t,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(t){return t?this.right:this.left},t.prototype.set_child=function(t,e){t?this.right=e:this.left=e},t}(),u=function(t){function e(e){var n=t.call(this)||this;return n._root=null,n._comparator=e,n.size=0,n}return r(e,t),e.prototype.insert=function(t){var n=!1;if(null===this._root)this._root=new a(t),n=!0,this.size++;else{var i=new a(void 0),r=!1,o=!1,s=null,u=i,c=null,l=this._root;for(u.right=this._root;;){if(null===l?(l=new a(t),c.set_child(r,l),n=!0,this.size++):e.is_red(l.left)&&e.is_red(l.right)&&(l.red=!0,l.left.red=!1,l.right.red=!1),e.is_red(l)&&e.is_red(c)){var h=u.right===s;l===c.get_child(o)?u.set_child(h,e.single_rotate(s,!o)):u.set_child(h,e.double_rotate(s,!o))}var d=this._comparator(l.data,t);if(0===d)break;o=r,r=d<0,null!==s&&(u=s),s=c,c=l,l=l.get_child(r)}this._root=i.right}return this._root.red=!1,n},e.prototype.remove=function(t){if(null===this._root)return!1;var n=new a(void 0),i=n;i.right=this._root;for(var r=null,o=null,s=null,u=!0;null!==i.get_child(u);){var c=u;o=r,r=i,i=i.get_child(u);var l=this._comparator(t,i.data);if(u=l>0,0===l&&(s=i),!e.is_red(i)&&!e.is_red(i.get_child(u)))if(e.is_red(i.get_child(!u))){var h=e.single_rotate(i,u);r.set_child(c,h),r=h}else if(!e.is_red(i.get_child(!u))){var d=r.get_child(!c);if(null!==d)if(e.is_red(d.get_child(!c))||e.is_red(d.get_child(c))){var p=o.right===r;e.is_red(d.get_child(c))?o.set_child(p,e.double_rotate(r,c)):e.is_red(d.get_child(!c))&&o.set_child(p,e.single_rotate(r,c));var f=o.get_child(p);f.red=!0,i.red=!0,f.left.red=!1,f.right.red=!1}else r.red=!1,d.red=!0,i.red=!0}}return null!==s&&(s.data=i.data,r.set_child(r.right===i,i.get_child(null===i.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==s},e.is_red=function(t){return null!==t&&t.red},e.single_rotate=function(t,e){var n=t.get_child(!e);return t.set_child(!e,n.get_child(e)),n.set_child(e,t),t.red=!0,n.red=!1,n},e.double_rotate=function(t,n){return t.set_child(!n,e.single_rotate(t.get_child(!n),!n)),e.single_rotate(t,n)},e}(o);n.RBTree=u},{}],17:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./vpsc"),s=t("./rbtree");function a(t){return t.bounds=void 0!==t.leaves?t.leaves.reduce(function(t,e){return e.bounds.union(t)},u.empty()):u.empty(),void 0!==t.groups&&(t.bounds=t.groups.reduce(function(t,e){return a(e).union(t)},t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}n.computeGroupBounds=a;var u=function(){function t(t,e,n,i){this.x=t,this.X=e,this.y=n,this.Y=i}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(t){var e=this.cx(),n=t.cx();return e<=n&&t.x<this.X?this.X-t.x:n<=e&&this.x<t.X?t.X-this.x:0},t.prototype.overlapY=function(t){var e=this.cy(),n=t.cy();return e<=n&&t.y<this.Y?this.Y-t.y:n<=e&&this.y<t.Y?t.Y-this.y:0},t.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},t.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,n,i,r){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var u=t.lineIntersection(e,n,i,r,o[a][0],o[a][1],o[a][2],o[a][3]);null!==u&&s.push({x:u.x,y:u.y})}return s},t.prototype.rayIntersection=function(t,e){var n=this.lineIntersections(this.cx(),this.cy(),t,e);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(t,e,n,i,r,o,s,a){var u=n-t,c=s-r,l=i-e,h=a-o,d=h*u-c*l;if(0==d)return null;var p=t-r,f=e-o,g=(c*f-h*p)/d,v=(u*f-l*p)/d;return g>=0&&g<=1&&v>=0&&v<=1?{x:t+g*u,y:e+g*l}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();n.Rectangle=u,n.makeEdgeBetween=function(t,e,n){var i=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},r=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=r.x-i.x,s=r.y-i.y,a=Math.sqrt(o*o+s*s),u=a-n;return{sourceIntersection:i,targetIntersection:r,arrowStart:{x:i.x+u*o/a,y:i.y+u*s/a}}},n.makeEdgeTo=function(t,e,n){var i=e.rayIntersection(t.x,t.y);i||(i={x:e.cx(),y:e.cy()});var r=i.x-t.x,o=i.y-t.y,s=Math.sqrt(r*r+o*o);return{x:i.x-n*r/s,y:i.y-n*o/s}};var c=function(){return function(t,e,n){this.v=t,this.r=e,this.pos=n,this.prev=d(),this.next=d()}}(),l=function(){return function(t,e,n){this.isOpen=t,this.v=e,this.pos=n}}();function h(t,e){return t.pos>e.pos?1:t.pos<e.pos?-1:t.isOpen?-1:e.isOpen?1:0}function d(){return new s.RBTree(function(t,e){return t.pos-e.pos})}var p={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,n,i){return new u(n-i/2,n+i/2,t,e)},findNeighbours:function(t,e){var n=function(n,i){for(var r,o=e.findIter(t);null!==(r=o[n]());){var s=r.r.overlapX(t.r);if((s<=0||s<=r.r.overlapY(t.r))&&(t[n].insert(r),r[i].insert(t)),s<=0)break}};n("next","prev"),n("prev","next")}},f={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,n,i){return new u(t,e,n-i/2,n+i/2)},findNeighbours:function(t,e){var n=function(n,i){var r=e.findIter(t)[n]();null!==r&&r.r.overlapX(t.r)>0&&(t[n].insert(r),r[i].insert(t))};n("next","prev"),n("prev","next")}};function g(t,e,n,i){void 0===i&&(i=!1);var r=t.padding,o=void 0!==t.groups?t.groups.length:0,s=void 0!==t.leaves?t.leaves.length:0,a=o?t.groups.reduce(function(t,i){return t.concat(g(i,e,n,!0))},[]):[],u=(i?2:0)+s+o,c=new Array(u),l=new Array(u),h=0,d=function(t,e){l[h]=t,c[h++]=e};if(i){var p=t.bounds,f=e.getCentre(p),y=e.getSize(p)/2,_=e.getOpen(p),m=e.getClose(p),b=f-y+r/2,x=f+y-r/2;t.minVar.desiredPosition=b,d(e.makeRect(_,m,b,r),t.minVar),t.maxVar.desiredPosition=x,d(e.makeRect(_,m,x,r),t.maxVar)}s&&t.leaves.forEach(function(t){return d(t.bounds,t.variable)}),o&&t.groups.forEach(function(t){var n=t.bounds;d(e.makeRect(e.getOpen(n),e.getClose(n),e.getCentre(n),e.getSize(n)),t.minVar)});var E=v(l,c,e,n);return o&&(c.forEach(function(t){t.cOut=[],t.cIn=[]}),E.forEach(function(t){t.left.cOut.push(t),t.right.cIn.push(t)}),t.groups.forEach(function(t){var n=(t.padding-e.getSize(t.bounds))/2;t.minVar.cIn.forEach(function(t){return t.gap+=n}),t.minVar.cOut.forEach(function(e){e.left=t.maxVar,e.gap+=n})})),a.concat(E)}function v(t,e,n,i){var r,s=t.length,a=2*s;console.assert(e.length>=s);var u=new Array(a);for(r=0;r<s;++r){var p=t[r],f=new c(e[r],p,n.getCentre(p));u[r]=new l(!0,f,n.getOpen(p)),u[r+s]=new l(!1,f,n.getClose(p))}u.sort(h);var g=new Array,v=d();for(r=0;r<a;++r){var y=u[r];f=y.v;if(y.isOpen)v.insert(f),n.findNeighbours(f,v);else{v.remove(f);var _=function(t,e){var r=(n.getSize(t.r)+n.getSize(e.r))/2+i;g.push(new o.Constraint(t.v,e.v,r))},m=function(t,e,n){for(var i,r=f[t].iterator();null!==(i=r[t]());)n(i,f),i[e].remove(f)};m("prev","next",function(t,e){return _(t,e)}),m("next","prev",function(t,e){return _(e,t)})}}return console.assert(0===v.size),g}function y(t,e){return v(t,e,p,1e-6)}function _(t,e){return v(t,e,f,1e-6)}function m(t){return g(t,p,1e-6)}function b(t){return g(t,f,1e-6)}n.generateXConstraints=y,n.generateYConstraints=_,n.generateXGroupConstraints=m,n.generateYGroupConstraints=b,n.removeOverlaps=function(t){var e=t.map(function(t){return new o.Variable(t.cx())}),n=y(t,e),i=new o.Solver(e,n);i.solve(),e.forEach(function(e,n){return t[n].setXCentre(e.position())}),e=t.map(function(t){return new o.Variable(t.cy())}),n=_(t,e),(i=new o.Solver(e,n)).solve(),e.forEach(function(e,n){return t[n].setYCentre(e.position())})};var x=function(t){function e(e,n){var i=t.call(this,0,n)||this;return i.index=e,i}return r(e,t),e}(o.Variable);n.IndexedVariable=x;var E=function(){function t(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!1);var o=this;if(this.nodes=t,this.groups=e,this.rootGroup=n,this.avoidOverlaps=r,this.variables=t.map(function(t,e){return t.variable=new x(e,1)}),i&&this.createConstraints(i),r&&n&&void 0!==n.groups){t.forEach(function(t){if(t.width&&t.height){var e=t.width/2,n=t.height/2;t.bounds=new u(t.x-e,t.x+e,t.y-n,t.y+n)}else t.bounds=new u(t.x,t.x,t.y,t.y)}),a(n);var s=t.length;e.forEach(function(t){o.variables[s]=t.minVar=new x(s++,void 0!==t.stiffness?t.stiffness:.01),o.variables[s]=t.maxVar=new x(s++,void 0!==t.stiffness?t.stiffness:.01)})}}return t.prototype.createSeparation=function(t){return new o.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,void 0!==t.equality&&t.equality)},t.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var n="x",i="width";"x"===t.axis&&(n="y",i="height");var r=t.offsets.map(function(t){return e.nodes[t.node]}).sort(function(t,e){return t[n]-e[n]}),o=null;r.forEach(function(t){if(o){var e=o[n]+o[i];e>t[n]&&(t[n]=e)}o=t})}},t.prototype.createAlignment=function(t){var e=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var i="x"===t.axis?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(t){var r=e.nodes[t.node].variable;i.push(new o.Constraint(n,r,t.offset,!0))})},t.prototype.createConstraints=function(t){var e=this,n=function(t){return void 0===t.type||"separation"===t.type};this.xConstraints=t.filter(function(t){return"x"===t.axis&&n(t)}).map(function(t){return e.createSeparation(t)}),this.yConstraints=t.filter(function(t){return"y"===t.axis&&n(t)}).map(function(t){return e.createSeparation(t)}),t.filter(function(t){return"alignment"===t.type}).forEach(function(t){return e.createAlignment(t)})},t.prototype.setupVariablesAndBounds=function(t,e,n,i){this.nodes.forEach(function(r,o){r.fixed?(r.variable.weight=r.fixedWeight?r.fixedWeight:1e3,n[o]=i(r)):r.variable.weight=1;var s=(r.width||0)/2,a=(r.height||0)/2,c=t[o],l=e[o];r.bounds=new u(c-s,c+s,l-a,l+a)})},t.prototype.xProject=function(t,e,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(t,e,t,n,function(t){return t.px},this.xConstraints,m,function(t){return t.bounds.setXCentre(n[t.variable.index]=t.variable.position())},function(t){var e=n[t.minVar.index]=t.minVar.position(),i=n[t.maxVar.index]=t.maxVar.position(),r=t.padding/2;t.bounds.x=e-r,t.bounds.X=i+r})},t.prototype.yProject=function(t,e,n){(this.rootGroup||this.yConstraints)&&this.project(t,e,e,n,function(t){return t.py},this.yConstraints,b,function(t){return t.bounds.setYCentre(n[t.variable.index]=t.variable.position())},function(t){var e=n[t.minVar.index]=t.minVar.position(),i=n[t.maxVar.index]=t.maxVar.position(),r=t.padding/2;t.bounds.y=e-r,t.bounds.Y=i+r})},t.prototype.projectFunctions=function(){var t=this;return[function(e,n,i){return t.xProject(e,n,i)},function(e,n,i){return t.yProject(e,n,i)}]},t.prototype.project=function(t,e,n,i,r,o,s,u,c){this.setupVariablesAndBounds(t,e,i,r),this.rootGroup&&this.avoidOverlaps&&(a(this.rootGroup),o=o.concat(s(this.rootGroup))),this.solve(this.variables,o,n,i),this.nodes.forEach(u),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),a(this.rootGroup))},t.prototype.solve=function(t,e,n,i){var r=new o.Solver(t,e);r.setStartingPositions(n),r.setDesiredPositions(i),r.solve()},t}();n.Projection=E},{"./rbtree":16,"./vpsc":19}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./pqueue"),r=function(){return function(t,e){this.id=t,this.distance=e}}(),o=function(){return function(t){this.id=t,this.neighbours=[]}}(),s=function(){return function(t,e,n){this.node=t,this.prev=e,this.d=n}}(),a=function(){function t(t,e,n,i,s){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var a=this.n;a--;)this.neighbours[a]=new o(a);for(a=this.es.length;a--;){var u=this.es[a],c=n(u),l=i(u),h=s(u);this.neighbours[c].neighbours.push(new r(l,h)),this.neighbours[l].neighbours.push(new r(c,h))}}return t.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},t.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},t.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},t.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,n){var r=new i.PriorityQueue(function(t,e){return t.d<=e.d}),o=this.neighbours[t],a=new s(o,null,0),u={};for(r.push(a);!r.empty()&&(o=(a=r.pop()).node).id!==e;)for(var c=o.neighbours.length;c--;){var l=o.neighbours[c],h=this.neighbours[l.id];if(!a.prev||h.id!==a.prev.node.id){var d=h.id+","+o.id;if(!(d in u&&u[d]<=a.d)){var p=a.prev?n(a.prev.node.id,o.id,h.id):0,f=a.d+l.distance+p;u[d]=f,r.push(new s(h,a,f))}}}for(var g=[];a.prev;)a=a.prev,g.push(a.node.id);return g},t.prototype.dijkstraNeighbours=function(t,e){void 0===e&&(e=-1);for(var n=new i.PriorityQueue(function(t,e){return t.d<=e.d}),r=this.neighbours.length,o=new Array(r);r--;){var s=this.neighbours[r];s.d=r===t?0:Number.POSITIVE_INFINITY,s.q=n.push(s)}for(;!n.empty();){var a=n.pop();if(o[a.id]=a.d,a.id===e){for(var u=[],c=a;void 0!==c.prev;)u.push(c.prev.id),c=c.prev;return u}for(r=a.neighbours.length;r--;){var l=a.neighbours[r],h=(c=this.neighbours[l.id],a.d+l.distance);a.d!==Number.MAX_VALUE&&c.d>h&&(c.d=h,c.prev=a,n.reduceKey(c.q,c,function(t,e){return t.q=e}))}}return o},t}();n.Calculator=a},{"./pqueue":15}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(t){var e=this.scale/t.scale,n=t.offset/t.scale,i=t.weight;this.AB+=i*e*n,this.AD+=i*e*t.desiredPosition,this.A2+=i*e*e},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();n.PositionStats=i;var r=function(){function t(t,e,n,i){void 0===i&&(i=!1),this.left=t,this.right=e,this.gap=n,this.equality=i,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=n,this.equality=i}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();n.Constraint=r;var o=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.desiredPosition=t,this.weight=e,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(t,e){var n=function(n,i){return n.active&&t!==i&&e(n,i)};this.cOut.forEach(function(t){return n(t,t.right)}),this.cIn.forEach(function(t){return n(t,t.left)})},t}();n.Variable=o;var s=function(){function t(t){this.vars=[],t.offset=0,this.ps=new i(t.scale),this.addVariable(t)}return t.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(t,e,n){var i=this,r=t.dfdv();return t.visitNeighbours(e,function(e,o){var s=i.compute_lm(o,t,n);o===e.right?(r+=s*e.left.scale,e.lm=s):(r+=s*e.right.scale,e.lm=-s),n(e)}),r/t.scale},t.prototype.populateSplitBlock=function(t,e){var n=this;t.visitNeighbours(e,function(e,i){i.offset=t.offset+(i===e.right?e.gap:-e.gap),n.addVariable(i),n.populateSplitBlock(i,t)})},t.prototype.traverse=function(t,e,n,i){var r=this;void 0===n&&(n=this.vars[0]),void 0===i&&(i=null),n.visitNeighbours(i,function(i,o){e.push(t(i)),r.traverse(t,e,o,n)})},t.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(e){!e.equality&&(null===t||e.lm<t.lm)&&(t=e)}),t},t.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,function(){});var n=null;return this.findPath(t,null,e,function(t,e){!t.equality&&t.right===e&&(null===n||t.lm<n.lm)&&(n=t)}),n},t.prototype.findPath=function(t,e,n,i){var r=this,o=!1;return t.visitNeighbours(e,function(e,s){o||s!==n&&!r.findPath(s,t,n,i)||(o=!0,i(e,s))}),o},t.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var n=t.cOut.length;n--;){var i=t.cOut[n];if(i.active&&this.isActiveDirectedPathBetween(i.right,e))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var n=new t(e);return n.populateSplitBlock(e,null),n},t.prototype.splitBetween=function(e,n){var i=this.findMinLMBetween(e,n);if(null!==i){var r=t.split(i);return{constraint:i,lb:r[0],rb:r[1]}}return null},t.prototype.mergeAcross=function(t,e,n){e.active=!0;for(var i=0,r=t.vars.length;i<r;++i){var o=t.vars[i];o.offset+=n,this.addVariable(o)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var n=this.vars[e],i=n.position()-n.desiredPosition;t+=i*i*n.weight}return t},t}();n.Block=s;var a=function(){function t(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var n=new s(t[e]);this.list[e]=n,n.blockInd=e}}return t.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},t.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},t.prototype.remove=function(t){var e=this.list.length-1,n=this.list[e];this.list.length=e,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},t.prototype.merge=function(t){var e=t.left.block,n=t.right.block,i=t.right.offset-t.left.offset-t.gap;e.vars.length<n.vars.length?(n.mergeAcross(e,t,i),this.remove(e)):(e.mergeAcross(n,t,-i),this.remove(n))},t.prototype.forEach=function(t){this.list.forEach(t)},t.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},t.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach(function(n){var i=n.findMinLM();null!==i&&i.lm<u.LAGRANGIAN_TOLERANCE&&(n=i.left.block,s.split(i).forEach(function(t){return e.insert(t)}),e.remove(n),t.push(i))})},t}();n.Blocks=a;var u=function(){function t(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach(function(t){t.cIn=[],t.cOut=[]}),this.cs=e,e.forEach(function(t){t.left.cOut.push(t),t.right.cIn.push(t)}),this.inactive=e.map(function(t){return t.active=!1,t}),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(t){return t.active=!1,t}),this.bs=new a(this.vs),this.bs.forEach(function(e,n){return e.posn=t[n]})},t.prototype.setDesiredPositions=function(t){this.vs.forEach(function(e,n){return e.desiredPosition=t[n]})},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,n=null,i=this.inactive,r=i.length,o=r,s=0;s<r;++s){var a=i[s];if(!a.unsatisfiable){var u=a.slack();if((a.equality||u<e)&&(e=u,n=a,o=s,a.equality))break}}return o!==r&&(e<t.ZERO_UPPERBOUND&&!n.active||n.equality)&&(i[o]=i[r-1],i.length=r-1),n},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var n=e.left.block;if(n!==e.right.block)this.bs.merge(e);else{if(n.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var i=n.splitBetween(e.left,e.right);if(null===i){e.unsatisfiable=!0;continue}this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(n),this.inactive.push(i.constraint),e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();n.Solver=u,n.removeOverlapInOneDimension=function(t,e,n){for(var i=t.map(function(t){return new o(t.desiredCenter)}),s=[],a=t.length,c=0;c<a-1;c++){var l=t[c],h=t[c+1];s.push(new r(i[c],i[c+1],(l.size+h.size)/2))}var d=i[0],p=i[a-1],f=t[0].size/2,g=t[a-1].size/2,v=null,y=null;return e&&(v=new o(e,1e3*d.weight),i.push(v),s.push(new r(v,d,f))),n&&(y=new o(n,1e3*p.weight),i.push(y),s.push(new r(p,y,g))),new u(i,s).solve(),{newCenters:i.slice(0,t.length).map(function(t){return t.position()}),lowerBound:v?v.position():d.position()-f,upperBound:y?y.position():p.position()+g}}},{}]},{},[1])(1)}),window.HlBox=class{constructor(t){this.to_html=this.to_html.bind(this),this.node=t}to_html(){var t;return(t=document.createElement("div")).innerHTML="?"+this.node.id(),t.className="highlighting_box",t.style.backgroundColor=this.node.data("color"),t}},function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("webcola")):"function"==typeof define&&define.amd?define(["webcola"],e):"object"==typeof exports?exports.cytoscapeCola=e(require("webcola")):t.cytoscapeCola=e(t.webcola)}(this,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(1),o=n(2),s=n(5)||("undefined"!=typeof window?window.cola:null),a=n(4),u=function(t){return(void 0===t?"undefined":i(t))===i(0)},c=function(){},l=function(t,e){var n;return null!=(n=t)&&(void 0===n?"undefined":i(n))===i(function(){})?t.apply(e,[e]):t};function h(t){this.options=r({},o,t)}h.prototype.run=function(){var t=this,e=this.options;t.manuallyStopped=!1;var n=e.cy,r=e.eles,o=r.nodes(),h=r.edges(),d=!1,p=o.filter(function(t){return t.isParent()}),f=o.subtract(p),g=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===g.x2&&(g.x2=g.x1+g.w),void 0===g.w&&(g.w=g.x2-g.x1),void 0===g.y2&&(g.y2=g.y1+g.h),void 0===g.h&&(g.h=g.y2-g.y1);var v=function(){for(var t=0;t<o.length;t++){var i=o[t],r=i.layoutDimensions(e),s=i.scratch("cola");if(!s.updatedDims){var a=l(e.nodeSpacing,i);s.width=r.w+2*a,s.height=r.h+2*a}}o.positions(function(t){var e=t.scratch().cola,n=void 0;return!t.grabbed()&&f.contains(t)&&(n={x:g.x1+e.x,y:g.y1+e.y},u(n.x)&&u(n.y)||(n=void 0)),n}),o.updateCompoundBounds(),d||(_(),d=!0),e.fit&&n.fit(e.padding)},y=function(){e.ungrabifyWhileSimulating&&x.grabify(),n.off("destroy",E),o.off("grab free position",w),o.off("lock unlock",k),t.one("layoutstop",e.stop),t.trigger({type:"layoutstop",layout:t})},_=function(){t.one("layoutready",e.ready),t.trigger({type:"layoutready",layout:t})},m=e.refresh;m=e.refresh<0?1:Math.max(1,m);var b=t.adaptor=s.adaptor({trigger:function(t){var n=s.EventType?s.EventType.tick:null,i=s.EventType?s.EventType.end:null;switch(t.type){case"tick":case n:e.animate&&v();break;case"end":case i:v(),e.infinite||y()}},kick:function(){var n=function(){if(t.manuallyStopped)return y(),!0;var n=b.tick();return n&&e.infinite&&b.resume(),n};if(e.animate){a(function t(){(function(){for(var t=void 0,e=0;e<m&&!t;e++)t=t||n();return t})()||a(t)})}else for(;!n(););},on:c,drag:c});t.adaptor=b;var x=o.filter(":grabbable");e.ungrabifyWhileSimulating&&x.ungrabify();var E=void 0;n.one("destroy",E=function(){t.stop()});var w=void 0;o.on("grab free position",w=function(t){var e=this.scratch().cola,n=this.position();if(t.cyTarget===this||t.target===this)switch(t.type){case"grab":b.dragstart(e);break;case"free":b.dragend(e);break;case"position":e.px===n.x-g.x1&&e.py===n.y-g.y1||(e.px=n.x-g.x1,e.py=n.y-g.y1)}});var k=void 0;o.on("lock unlock",k=function(){var t=this.scratch().cola;t.fixed=this.locked(),this.locked()?b.dragstart(t):b.dragend(t)}),b.nodes(f.map(function(t,n){var i=l(e.nodeSpacing,t),r=t.position(),o=t.layoutDimensions(e);return t.scratch().cola={x:e.randomize||void 0===r.x?Math.round(Math.random()*g.w):r.x,y:e.randomize||void 0===r.y?Math.round(Math.random()*g.h):r.y,width:o.w+2*i,height:o.h+2*i,index:n,fixed:t.locked()}}));var F=[];if(e.alignment){var A=[],S=[];f.forEach(function(t){var n=l(e.alignment,t),i=t.scratch().cola.index;n&&(null!=n.x&&A.push({node:i,offset:n.x}),null!=n.y&&S.push({node:i,offset:n.y}))}),A.length>0&&F.push({type:"alignment",axis:"x",offsets:A}),S.length>0&&F.push({type:"alignment",axis:"y",offsets:S})}e.gapInequalities&&e.gapInequalities.forEach(function(t){var e=t.left.scratch().cola.index,n=t.right.scratch().cola.index;F.push({axis:t.axis,left:e,right:n,gap:t.gap,equality:t.equality})}),F.length>0&&b.constraints(F),b.groups(p.map(function(t,n){var i=l(e.nodeSpacing,t),r=function(e){return parseFloat(t.style("padding-"+e))},o=r("left")+i,s=r("right")+i,a=r("top")+i,u=r("bottom")+i;return t.scratch().cola={index:n,padding:Math.max(o,s,a,u),leaves:t.children().intersection(f).map(function(t){return t[0].scratch().cola.index}),fixed:t.locked()},t}).map(function(t){return t.scratch().cola.groups=t.children().intersection(p).map(function(t){return t.scratch().cola.index}),t.scratch().cola}));var C=void 0,T=void 0;null!=e.edgeLength?(C=e.edgeLength,T="linkDistance"):null!=e.edgeSymDiffLength?(C=e.edgeSymDiffLength,T="symmetricDiffLinkLengths"):null!=e.edgeJaccardLength?(C=e.edgeJaccardLength,T="jaccardLinkLengths"):(C=100,T="linkDistance");var L;if(b.links(h.stdFilter(function(t){return f.contains(t.source())&&f.contains(t.target())}).map(function(t){var e=t.scratch().cola={source:t.source()[0].scratch().cola.index,target:t.target()[0].scratch().cola.index};return null!=C&&(e.calcLength=l(C,t)),e})),b.size([g.w,g.h]),null!=C&&b[T](function(t){return t.calcLength}),e.flow){var D=void 0;(void 0===(L=e.flow)?"undefined":i(L))===i("")?D={axis:e.flow,minSeparation:50}:u(e.flow)?D={axis:"y",minSeparation:e.flow}:!function(t){return null!=t&&(void 0===t?"undefined":i(t))===i({})}(e.flow)?D={axis:"y",minSeparation:50}:((D=e.flow).axis=D.axis||"y",D.minSeparation=null!=D.minSeparation?D.minSeparation:50),b.flowLayout(D.axis,D.minSeparation)}return t.trigger({type:"layoutstart",layout:t}),b.avoidOverlaps(e.avoidOverlap).handleDisconnected(e.handleDisconnected).start(e.unconstrIter,e.userConstIter,e.allConstIter),e.infinite||setTimeout(function(){t.manuallyStopped||b.stop()},e.maxSimulationTime),this},h.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t.exports=h},function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";var i={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.exports=i},function(t,e,n){"use strict";var i=n(0),r=function(t){t&&t("layout","cola",i)};"undefined"!=typeof cytoscape&&r(cytoscape),t.exports=r},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=void 0;r="undefined"!==("undefined"==typeof window?"undefined":i(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame:function(t){t()},t.exports=r},function(e,n){e.exports=t}])}),window.QueryFilter=class{constructor(t,e){this.new_condition=this.new_condition.bind(this),this.to_string=this.to_string.bind(this),this.to_html=this.to_html.bind(this),this.delete=this.delete.bind(this),this.node1=e,this.node2=null,this.v1_val=null,this.v2_val=null,this.datatype="^^xsd:string",this.operator_sym=">=",this.sparql_text=t,this.conditions=[],this.conditions.push(this.new_condition()),this.slots=[]}new_condition(){var t,e,n,i;return this.slots=[],void 0!==this.node1&&null!==this.node1&&this.node1.addClass("filtered"),void 0!==this.node2&&null!==this.node2&&this.node2.addClass("filtered"),(t=document.createElement("div")).style.display="flex",void 0!==this.node1&&null!==this.node1?(e=new window.HlBox(this.node1),t.appendChild(e.to_html()),this.slots.push(e)):(this.v=new window.Void(this,0,this.v1_val),this.v.div.addEventListener("input",()=>(console.log(this.v.div.innerHTML),this.v1_val=this.v.div.innerHTML,this.v.val=this.v.div.innerHTML)),t.appendChild(this.v.to_html()),this.slots.push(this.v)),(n=document.createElement("div")).innerHTML=this.operator_sym,n.style.marginLeft="5px",n.style.marginRight="5px",n.contentEditable="true",n.addEventListener("input",()=>this.operator_sym=n.innerHTML),t.appendChild(n),void 0!==this.node2&&null!==this.node2?(e=new window.HlBox(this.node2),t.appendChild(e.to_html()),this.slots.push(e)):(this.v=new window.Void(this,1,this.v2_val),this.v.div.addEventListener("input",()=>(this.v2_val=this.v.div.innerHTML,this.v.val=this.v.div.innerHTML)),t.appendChild(this.v.to_html()),this.slots.push(this.v)),(i=document.createElement("div")).style.marginLeft="5px",i.style.marginRight="5px",i.innerHTML=this.datatype,i.contentEditable="true",i.addEventListener("input",()=>this.datatype=i.innerHTML),t.appendChild(i),t}to_string(){var t;if(t="filter (",this.slots[0]instanceof HlBox)void 0!==this.node1&&null!==this.node1&&(t+=" "+this.node1.id());else{if(null===this.v1_val)return"";t+=this.v1_val}if(void 0!==this.operator_sym&&null!==this.operator_sym&&(t+=" "+this.operator_sym),this.slots[1]instanceof HlBox)void 0!==this.node2&&null!==this.node2&&(t+=" "+this.node2.id());else{if(null===this.v2_val)return"";t+=this.v2_val}return void 0!==this.datatype&&null!==this.datatype&&(t+=" "+this.datatype),t+" )"}to_html(){var t,e,n,i,r,o,s;for(o=document.createElement("div"),(s=document.createElement("div")).innerHTML="filter ",s.style.display="inline",o.append(s),(t=document.createElement("div")).className="filter_condition_container",e=0,n=(i=this.conditions).length;e<n;e++)i[e],t.appendChild(this.new_condition());return o.append(t),(r=document.createElement("div")).innerHTML="❎",r.style.color="#F08080",r.style.fontSize="large",r.style.marginLeft="8px",r.style.visibility="hidden",r.style.display="inline-block",r.onclick=(()=>this.delete()),o.append(r),o.onmouseover=function(){return r.style.visibility="visible"},o.onmouseout=function(){return r.style.visibility="hidden"},o}delete(){var t;return t=this.sparql_text.filters.indexOf(this),void 0!==this.node1&&null!==this.node1&&this.node1.removeClass("filtered"),void 0!==this.node2&&null!==this.node2&&this.node2.removeClass("filtered"),this.sparql_text.filters.splice(t,1),this.sparql_text.update()}},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i={},r="(?:^|\\s)",o="(?:\\s|$)";function s(t){var e=i[t];return e?e.lastIndex=0:i[t]=e=new RegExp(r+t+o,"g"),e}e.exports={add:function(t,e){var n=t.className;n.length?s(e).test(n)||(t.className+=" "+e):t.className=e},rm:function(t,e){t.className=t.className.replace(s(e)," ").trim()}}},{}],2:[function(t,e,n){(function(n){"use strict";var i=t("contra/emitter"),r=t("crossvent"),o=t("./classes"),s=document,a=s.documentElement;function u(t,e,i,o){n.navigator.pointerEnabled?r[e](t,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[i],o):n.navigator.msPointerEnabled?r[e](t,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[i],o):(r[e](t,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[i],o),r[e](t,i,o))}function c(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function l(t,e){return void 0!==n[e]?n[e]:a.clientHeight?a[t]:s.body[t]}function h(t,e,n){var i,r=t||{},o=r.className;return r.className+=" gu-hide",i=s.elementFromPoint(e,n),r.className=o,i}function d(){return!1}function p(){return!0}function f(t){return t.width||t.right-t.left}function g(t){return t.height||t.bottom-t.top}function v(t){return t.parentNode===s?null:t.parentNode}function y(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function t(e){if(!e)return!1;if("false"===e.contentEditable)return!1;if("true"===e.contentEditable)return!0;return t(v(e))}(t)}function _(t){return t.nextElementSibling||function(){var e=t;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}()}function m(t,e){var n=function(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}(e),i={pageX:"clientX",pageY:"clientY"};return t in i&&!(t in n)&&i[t]in n&&(t=i[t]),n[t]}e.exports=function(t,e){var n,b,x,E,w,k,F,A,S,C,T;1===arguments.length&&!1===Array.isArray(t)&&(e=t,t=[]);var L,D=null,I=e||{};void 0===I.moves&&(I.moves=p),void 0===I.accepts&&(I.accepts=p),void 0===I.invalid&&(I.invalid=function(){return!1}),void 0===I.containers&&(I.containers=t||[]),void 0===I.isContainer&&(I.isContainer=d),void 0===I.copy&&(I.copy=!1),void 0===I.copySortSource&&(I.copySortSource=!1),void 0===I.revertOnSpill&&(I.revertOnSpill=!1),void 0===I.removeOnSpill&&(I.removeOnSpill=!1),void 0===I.direction&&(I.direction="vertical"),void 0===I.ignoreInputTextSelection&&(I.ignoreInputTextSelection=!0),void 0===I.mirrorContainer&&(I.mirrorContainer=s.body);var P=i({containers:I.containers,start:function(t){var e=z(t);e&&j(e)},end:U,cancel:Y,remove:X,destroy:function(){O(!0),$({})},canMove:function(t){return!!z(t)},dragging:!1});return!0===I.removeOnSpill&&P.on("over",function(t){o.rm(t,"gu-hide")}).on("out",function(t){P.dragging&&o.add(t,"gu-hide")}),O(),P;function N(t){return-1!==P.containers.indexOf(t)||I.isContainer(t)}function O(t){var e=t?"remove":"add";u(a,e,"mousedown",q),u(a,e,"mouseup",$)}function M(t){u(a,t?"remove":"add","mousemove",G)}function R(t){var e=t?"remove":"add";r[e](a,"selectstart",B),r[e](a,"click",B)}function B(t){L&&t.preventDefault()}function q(t){if(k=t.clientX,F=t.clientY,1===c(t)&&!t.metaKey&&!t.ctrlKey){var e=t.target,n=z(e);n&&(L=n,M(),"mousedown"===t.type&&(y(e)?e.focus():t.preventDefault()))}}function G(t){if(L)if(0!==c(t)){if(void 0===t.clientX||t.clientX!==k||void 0===t.clientY||t.clientY!==F){if(I.ignoreInputTextSelection){var e=m("clientX",t),i=m("clientY",t);if(y(s.elementFromPoint(e,i)))return}var r=L;M(!0),R(),U(),j(r);var h,d={left:(h=x.getBoundingClientRect()).left+l("scrollLeft","pageXOffset"),top:h.top+l("scrollTop","pageYOffset")};E=m("pageX",t)-d.left,w=m("pageY",t)-d.top,o.add(C||x,"gu-transit"),function(){if(!n){var t=x.getBoundingClientRect();(n=x.cloneNode(!0)).style.width=f(t)+"px",n.style.height=g(t)+"px",o.rm(n,"gu-transit"),o.add(n,"gu-mirror"),I.mirrorContainer.appendChild(n),u(a,"add","mousemove",K),o.add(I.mirrorContainer,"gu-unselectable"),P.emit("cloned",n,x,"mirror")}}(),K(t)}}else $({})}function z(t){if(!(P.dragging&&n||N(t))){for(var e=t;v(t)&&!1===N(v(t));){if(I.invalid(t,e))return;if(!(t=v(t)))return}var i=v(t);if(i&&!I.invalid(t,e)&&I.moves(t,i,e,_(t)))return{item:t,source:i}}}function j(t){var e,n;e=t.item,n=t.source,("boolean"==typeof I.copy?I.copy:I.copy(e,n))&&(C=t.item.cloneNode(!0),P.emit("cloned",C,t.item,"copy")),b=t.source,x=t.item,A=S=_(t.item),P.dragging=!0,P.emit("drag",x,b)}function U(){if(P.dragging){var t=C||x;V(t,v(t))}}function H(){L=!1,M(!0),R(!0)}function $(t){if(H(),P.dragging){var e=C||x,i=m("clientX",t),r=m("clientY",t),o=Z(h(n,i,r),i,r);o&&(C&&I.copySortSource||!C||o!==b)?V(e,o):I.removeOnSpill?X():Y()}}function V(t,e){var n=v(t);C&&I.copySortSource&&e===b&&n.removeChild(x),W(e)?P.emit("cancel",t,b,b):P.emit("drop",t,e,b,S),Q()}function X(){if(P.dragging){var t=C||x,e=v(t);e&&e.removeChild(t),P.emit(C?"cancel":"remove",t,e,b),Q()}}function Y(t){if(P.dragging){var e=arguments.length>0?t:I.revertOnSpill,n=C||x,i=v(n),r=W(i);!1===r&&e&&(C?i&&i.removeChild(C):b.insertBefore(n,A)),r||e?P.emit("cancel",n,b,b):P.emit("drop",n,i,b,S),Q()}}function Q(){var t=C||x;H(),n&&(o.rm(I.mirrorContainer,"gu-unselectable"),u(a,"remove","mousemove",K),v(n).removeChild(n),n=null),t&&o.rm(t,"gu-transit"),T&&clearTimeout(T),P.dragging=!1,D&&P.emit("out",t,D,b),P.emit("dragend",t),b=x=C=A=S=T=D=null}function W(t,e){var i;return i=void 0!==e?e:n?S:_(C||x),t===b&&i===A}function Z(t,e,n){for(var i=t;i&&!r();)i=v(i);return i;function r(){if(!1===N(i))return!1;var r=J(i,t),o=tt(i,r,e,n);return!!W(i,o)||I.accepts(x,i,b,o)}}function K(t){if(n){t.preventDefault();var e=m("clientX",t),i=m("clientY",t),r=e-E,o=i-w;n.style.left=r+"px",n.style.top=o+"px";var s=C||x,a=h(n,e,i),u=Z(a,e,i),c=null!==u&&u!==D;(c||null===u)&&(D&&f("out"),D=u,c&&f("over"));var l=v(s);if(u!==b||!C||I.copySortSource){var d,p=J(u,a);if(null!==p)d=tt(u,p,e,i);else{if(!0!==I.revertOnSpill||C)return void(C&&l&&l.removeChild(s));d=A,u=b}(null===d&&c||d!==s&&d!==_(s))&&(S=d,u.insertBefore(s,d),P.emit("shadow",s,u,b))}else l&&l.removeChild(s)}function f(t){P.emit(t,s,D,b)}}function J(t,e){for(var n=e;n!==t&&v(n)!==t;)n=v(n);return n===a?null:n}function tt(t,e,n,i){var r,o="horizontal"===I.direction;return e!==t?(r=e.getBoundingClientRect(),s(o?n>r.left+f(r)/2:i>r.top+g(r)/2)):function(){var e,r,s,a=t.children.length;for(e=0;e<a;e++){if(r=t.children[e],s=r.getBoundingClientRect(),o&&s.left+s.width/2>n)return r;if(!o&&s.top+s.height/2>i)return r}return null}();function s(t){return t?_(e):e}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(t,e,n){e.exports=function(t,e){return Array.prototype.slice.call(t,e)}},{}],4:[function(t,e,n){"use strict";var i=t("ticky");e.exports=function(t,e,n){t&&i(function(){t.apply(n||null,e||[])})}},{ticky:9}],5:[function(t,e,n){"use strict";var i=t("atoa"),r=t("./debounce");e.exports=function(t,e){var n=e||{},o={};return void 0===t&&(t={}),t.on=function(e,n){return o[e]?o[e].push(n):o[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var i=arguments.length;if(1===i)delete o[e];else if(0===i)o={};else{var r=o[e];if(!r)return t;r.splice(r.indexOf(n),1)}return t},t.emit=function(){var e=i(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var s=(o[e]||[]).slice(0);return function(){var o=i(arguments),a=this||t;if("error"===e&&!1!==n.throws&&!s.length)throw 1===o.length?o[0]:o;return s.forEach(function(i){n.async?r(i,o,a):i.apply(a,o),i._once&&t.off(e,i)}),t}},t}},{"./debounce":4,atoa:3}],6:[function(t,e,n){(function(n){"use strict";var i=t("custom-event"),r=t("./eventmap"),o=n.document,s=function(t,e,n,i){return t.addEventListener(e,n,i)},a=function(t,e,n,i){return t.removeEventListener(e,n,i)},u=[];function c(t,e,n){var i=function(t,e,n){var i,r;for(i=0;i<u.length;i++)if((r=u[i]).element===t&&r.type===e&&r.fn===n)return i}(t,e,n);if(i){var r=u[i].wrapper;return u.splice(i,1),r}}n.addEventListener||(s=function(t,e,i){return t.attachEvent("on"+e,function(t,e,i){var r=c(t,e,i)||function(t,e,i){return function(e){var r=e||n.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,i.call(t,r)}}(t,0,i);return u.push({wrapper:r,element:t,type:e,fn:i}),r}(t,e,i))},a=function(t,e,n){var i=c(t,e,n);if(i)return t.detachEvent("on"+e,i)}),e.exports={add:s,remove:a,fabricate:function(t,e,n){var s=-1===r.indexOf(e)?new i(e,{detail:n}):function(){var t;o.createEvent?(t=o.createEvent("Event")).initEvent(e,!0,!0):o.createEventObject&&(t=o.createEventObject());return t}();t.dispatchEvent?t.dispatchEvent(s):t.fireEvent("on"+e,s)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(t,e,n){(function(t){"use strict";var n=[],i="",r=/^on/;for(i in t)r.test(i)&&n.push(i.slice(2));e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?n:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){var i;i="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)},e.exports=i},{}]},{},[2])(2)}),window.QueryLine=class{constructor(t,e){this.to_html=this.to_html.bind(this),this.create_highlighting_box=this.create_highlighting_box.bind(this),this.link=t,this.sparql_text=e}to_html(){var t,e,n,i,r,o;return i=document.createElement("div"),"concept"===this.link.link_type?(i.append(this.create_highlighting_box(this.link.node_var1)),(e=document.createElement("div")).innerHTML="rdf:type "+this.link.node_concept.data("label")+" .",i.append(e)):(i.append(this.create_highlighting_box(this.link.source)),(n=document.createElement("div")).innerHTML=this.link.node_link.data("label")+"&nbsp;",i.append(n),i.append(this.create_highlighting_box(this.link.target)),(e=document.createElement("div")).innerHTML=" .",i.append(e)),(t=document.createElement("div")).style.visibility="hidden","concept"!==this.link.link_type&&((o=document.createElement("div")).innerHTML="🔄",o.style.color="#ADD8E6",o.style.fontSize="large",o.style.marginLeft="8px",o.style.display="inline-block",o.onclick=(()=>(this.link.reverse(),this.sparql_text.update())),t.append(o)),(r=document.createElement("div")).innerHTML="❎",r.style.color="#F08080",r.style.fontSize="large",r.style.marginLeft="8px",r.style.display="inline-block",r.onclick=(()=>(this.link.delete(),this.sparql_text.update())),t.append(r),i.append(t),i.onmouseover=function(){return t.style.visibility="visible"},i.onmouseout=function(){return t.style.visibility="hidden"},i.className="q_line",i}create_highlighting_box(t){var e,n;return(e=document.createElement("div")).className="highlighting_box_container",(n=document.createElement("div")).className="highlighting_box",n.id=t.id()+Math.round(1e3*Math.random()),n.dataset.prevname=t.id(),n.dataset.node_id=t.id(),n.ondblclick=(()=>(n.setAttribute("contenteditable","true"),this.sparql_text.cy.center(t),setTimeout(function(){return n.focus()},0),n.onkeydown=(e=>{if(t.data("label",n.innerHTML),13===e.keyCode)return e.preventDefault(),n.innerHTML.length<=2&&(n.innerHTML=t.id()),n.setAttribute("contenteditable","false"),this.sparql_text.update()}))),n.onmouseover=function(e){return t.addClass("highlight")},n.onmouseout=function(e){return t.removeClass("highlight")},n.onclick=(e=>(this.sparql_text.cy.nodes().unselect(),t.select())),n.innerHTML=t.data("label"),n.style.backgroundColor=t.data("color"),e.append(n),e}},function(t,e){"object"==typeof exports?module.exports=e(window,document):t.SimpleScrollbar=e(window,document)}(this,function(t,e){var n=t.requestAnimationFrame||t.setImmediate||function(t){return setTimeout(t,0)};function i(t){Object.prototype.hasOwnProperty.call(t,"data-simple-scrollbar")||Object.defineProperty(t,"data-simple-scrollbar",{value:new s(t)})}function r(i){for(this.target=i,this.direction=t.getComputedStyle(this.target).direction,this.bar='<div class="ss-scroll">',this.wrapper=e.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=e.createElement("div"),this.el.setAttribute("class","ss-content"),"rtl"===this.direction&&this.el.classList.add("rtl"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,function(t,i){var r;function o(t){var e=t.pageY-r;r=t.pageY,n(function(){i.el.scrollTop+=e/i.scrollRatio})}function s(){t.classList.remove("ss-grabbed"),e.body.classList.remove("ss-grabbed"),e.removeEventListener("mousemove",o),e.removeEventListener("mouseup",s)}t.addEventListener("mousedown",function(n){return r=n.pageY,t.classList.add("ss-grabbed"),e.body.classList.add("ss-grabbed"),e.addEventListener("mousemove",o),e.addEventListener("mouseup",s),!1})}(this.bar,this),this.moveBar(),t.addEventListener("resize",this.moveBar.bind(this)),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var r=t.getComputedStyle(i);"0px"===r.height&&"0px"!==r["max-height"]&&(i.style.height=r["max-height"])}function o(){for(var t=e.querySelectorAll("*[ss-container]"),n=0;n<t.length;n++)i(t[n])}r.prototype={moveBar:function(t){var e=this.el.scrollHeight,i=this.el.clientHeight,r=this;this.scrollRatio=i/e;var o="rtl"===r.direction?r.target.clientWidth-r.bar.clientWidth+18:-1*(r.target.clientWidth-r.bar.clientWidth);n(function(){r.scrollRatio>=1?r.bar.classList.add("ss-hidden"):(r.bar.classList.remove("ss-hidden"),r.bar.style.cssText="height:"+Math.max(100*r.scrollRatio,10)+"%; top:"+r.el.scrollTop/e*100+"%;right:"+o+"px;")})}},e.addEventListener("DOMContentLoaded",o),r.initEl=i,r.initAll=o;var s=r;return s}),window.QueryLoader=class{constructor(t){this.check_existence=this.check_existence.bind(this),this.remove_prefix=this.remove_prefix.bind(this),this.is_valid_triple=this.is_valid_triple.bind(this),this.is_concept_triple=this.is_concept_triple.bind(this),this.load=this.load.bind(this),this.context=t,this.cy=this.context.graph.cy,this.sparql_text=this.context.graph.sparql_text,this.color_index=this.context.graph.color_index,this.links=this.context.graph.links}check_existence(t){var e,n,i,r;for(e=0,n=(r=this.context.graphol.predicates).length;e<n;e++)if(void 0!==(i=r[e]).data("label")&&t===(-1!==i.data("label").indexOf(":")?i.data("label").split(":")[1]:i.data("label")).replace(/[\n\r]+/g,"").replace(/^\s+|\s+$/,""))return!0;return this.context.alert.say("node "+t+" does not exist in current ontology, invalid query"),!1}remove_prefix(t){return t.split("#")[1]}is_valid_triple(t){if(this.is_concept_triple(t)){if(this.check_existence(this.remove_prefix(t.object)))return!0}else if(this.check_existence(this.remove_prefix(t.predicate)))return!0;return!1}is_concept_triple(t){return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===t.predicate}load(t){var e,n,i,r,o,s,a,u;for(e=0,n=(s=(o=window.sparqljs.Parser().parse(t)).where[0].triples).length;e<n;e++){if(u=s[e],!this.is_valid_triple(u))return;0===this.cy.getElementById(u.subject.slice(1)).length?(a=this.cy.add({group:"nodes",classes:"node-variable",data:{id:u.subject.slice(1),label:"?"+u.subject,color:"#"+palette[this.color_index%palette.length],links:[]}}),this.color_index+=1,a=a[0]):a=this.cy.getElementById(u.subject.slice(1)),"?"===u.object.charAt(0)?0===this.cy.getElementById(u.object.slice(1)).length?(r=(r=this.cy.add({group:"nodes",classes:"node-variable",data:{id:u.object.slice(1),label:u.object,color:"#"+palette[this.color_index%palette.length],links:[]}}))[0],this.color_index+=1):r=this.cy.getElementById(u.object.slice(1)):r=(r=this.cy.add({group:"nodes",classes:"node-constant-value",data:{id:u.object,label:u.object,color:"#aaa",links:[]}}))[0],jQuery.each(o.prefixes,t=>{if(-1!==u.predicate.indexOf(o.prefixes[t]))return u.predicate=u.predicate.substr(o.prefixes[t].length)}),i=new PainlessLink(this,this.cy,u.predicate,"role",a,r),this.links.push(i)}return jQuery.each(o.variables,t=>this.sparql_text.select_boxes.push(o.variables[t].slice(1))),this.context.graph.reshape(),this.sparql_text.update()}},function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cytoscapeCxtmenu=e():t.cytoscapeCxtmenu=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";var i=n(2),r=n(1),o=n(3),s=o.removeEles,a=o.setStyles,u=o.createElement,c=o.getPixelRatio,l=o.getOffset;t.exports=function(t){var e=r({},i,t),n=this,o=n.container(),h=void 0,d={options:e,handlers:[],container:u({class:"cxtmenu"})},p=d.container,f=u(),g=u({tag:"canvas"}),v=[],y=g.getContext("2d"),_=e.menuRadius,m=2*(_+e.activePadding),b=void 0,x=void 0;function E(t){F.drawBg=[t]}function w(){var t=c(),e=o.clientWidth,n=o.clientHeight;g.width=e*t,g.height=n*t,g.style.width=e+"px",g.style.height=n+"px",y.setTransform(1,0,0,1,0,0),y.scale(t,t)}o.insertBefore(p,o.firstChild),p.appendChild(f),f.appendChild(g),a(p,{position:"absolute",zIndex:e.zIndex,userSelect:"none"}),a(f,{display:"none",width:m+"px",height:m+"px",position:"absolute",zIndex:1,marginLeft:-e.activePadding+"px",marginTop:-e.activePadding+"px",userSelect:"none"}),g.width=m,g.height=m;var k=!0,F={},A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;w(),function t(){F.drawBg&&function(t){t=void 0!==t?t:R,y.globalCompositeOperation="source-over",y.clearRect(0,0,m,m),y.fillStyle=e.fillColor;for(var n=2*Math.PI/v.length,i=Math.PI/2,r=i+n,o=0;o<v.length;o++){var s=v[o];s.fillColor&&(y.fillStyle=s.fillColor),y.beginPath(),y.moveTo(_+e.activePadding,_+e.activePadding),y.arc(_+e.activePadding,_+e.activePadding,_,2*Math.PI-i,2*Math.PI-r,!0),y.closePath(),y.fill(),i+=n,r+=n,y.fillStyle=e.fillColor}y.globalCompositeOperation="destination-out",y.strokeStyle="white",y.lineWidth=e.separatorWidth,r=(i=Math.PI/2)+n;for(var a=0;a<v.length;a++){var u=_*Math.cos(i),c=_*Math.sin(i);y.beginPath(),y.moveTo(_+e.activePadding,_+e.activePadding),y.lineTo(_+e.activePadding+u,_+e.activePadding-c),y.closePath(),y.stroke(),i+=n,r+=n}y.fillStyle="white",y.globalCompositeOperation="destination-out",y.beginPath(),y.arc(_+e.activePadding,_+e.activePadding,t+e.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill(),y.globalCompositeOperation="source-over"}.apply(null,F.drawBg),F.drawCommands&&function(t,n,i){var r=2*Math.PI/v.length,o=Math.PI/2,s=o+r;o+=r*b,s+=r*b,y.fillStyle=e.activeFillColor,y.strokeStyle="black",y.lineWidth=1,y.beginPath(),y.moveTo(_+e.activePadding,_+e.activePadding),y.arc(_+e.activePadding,_+e.activePadding,_+e.activePadding,2*Math.PI-o,2*Math.PI-s,!0),y.closePath(),y.fill(),y.fillStyle="white",y.globalCompositeOperation="destination-out";var a=_+e.activePadding+t/_*(R+e.spotlightPadding-e.indicatorSize/4),u=_+e.activePadding+n/_*(R+e.spotlightPadding-e.indicatorSize/4),c=Math.PI/4-i;y.translate(a,u),y.rotate(c),y.beginPath(),y.fillRect(-e.indicatorSize/2,-e.indicatorSize/2,e.indicatorSize,e.indicatorSize),y.closePath(),y.fill(),y.rotate(-c),y.translate(-a,-u),y.beginPath(),y.arc(_+e.activePadding,_+e.activePadding,R+e.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill(),y.globalCompositeOperation="source-over"}.apply(null,F.drawCommands),F={},k&&A(t)}();var S,C,T,L,D,I,P,N,O=void 0,M=void 0,R=void 0,B={on:function(t,e,i){var r=i;return"core"===e&&(r=function(t){if(t.cyTarget===n||t.target===n)return i.apply(this,[t])}),d.handlers.push({events:t,selector:e,fn:r}),"core"===e?n.on(t,r):n.on(t,e,r),this}};function q(){k=!1,function(){for(var t=d.handlers,e=0;e<t.length;e++){var i=t[e];"core"===i.selector?n.off(i.events,i.fn):n.off(i.events,i.selector,i.fn)}window.removeEventListener("resize",w)}(),p.remove()}return S=void 0,C=!1,T=void 0,L=void 0,D=void 0,I=void 0,P=void 0,N=function(){S&&h.grabify(),L&&n.userZoomingEnabled(!0),D&&n.userPanningEnabled(!0),I&&n.boxSelectionEnabled(!0)},window.addEventListener("resize",w),B.on("resize",function(){w()}).on(e.openMenuEvents,e.selector,function(t){h=this;var i=this===n;if(C&&(f.style.display="none",C=!1,N()),(v="function"==typeof e.commands?e.commands(h):e.commands)&&0!==v.length){L=n.userZoomingEnabled(),n.userZoomingEnabled(!1),D=n.userPanningEnabled(),n.userPanningEnabled(!1),I=n.boxSelectionEnabled(),n.boxSelectionEnabled(!1),(S=h.grabbable&&h.grabbable())&&h.ungrabify();var r=void 0,c=void 0,d=void 0;i||!this.isNode()||this.isParent()||e.atMouse?(r=t.renderedPosition||t.cyRenderedPosition,c=1,d=1):(r=this.renderedPosition(),c=this.renderedWidth(),d=this.renderedHeight()),x=l(o),O=r.x,M=r.y,function(){s(".cxtmenu-item",f);for(var t=2*Math.PI/v.length,n=Math.PI/2,i=n+t,r=0;r<v.length;r++){var o=v[r],c=(n+i)/2,l=.66*_*Math.cos(c),h=.66*_*Math.sin(c),d=u({class:"cxtmenu-item"});a(d,{color:e.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+e.itemTextShadowColor+", 1px -1px 2px "+e.itemTextShadowColor+", -1px 1px 2px "+e.itemTextShadowColor+", 1px 1px 1px "+e.itemTextShadowColor,left:"50%",top:"50%","min-height":.66*_+"px",width:.66*_+"px",height:.66*_+"px",marginLeft:l-.33*_+"px",marginTop:-h-.33*_+"px"});var p=u({class:"cxtmenu-content"});o.content instanceof HTMLElement?p.appendChild(o.content):p.innerHTML=o.content,a(p,{width:.66*_+"px",height:.66*_+"px","vertical-align":"middle",display:"table-cell"}),a(p,o.contentStyle||{}),!0!==o.disabled&&!1!==o.enabled||p.classList.add("cxtmenu-disabled"),f.appendChild(d),d.appendChild(p),n+=t,i+=t}}(),a(f,{display:"block",left:r.x-_+"px",top:r.y-_+"px"}),R=Math.max(c,d)/2,R=Math.max(R,e.minSpotlightRadius),R=Math.min(R,e.maxSpotlightRadius),E(),b=void 0,C=!0,P=t}}).on("cxtdrag tapdrag",e.selector,T=function(t){if(C){var n=t.originalEvent,i=n.touches&&n.touches.length>0,r=i?n.touches[0].pageX:n.pageX,o=i?n.touches[0].pageY:n.pageY;b=void 0;var s=r-x.left-O,a=o-x.top-M;0===s&&(s=.01);var u=Math.sqrt(s*s+a*a),c=(a*a-u*u-s*s)/(-2*u*s),l=Math.acos(c);if(u<R+e.spotlightPadding)E();else{E();var h=s*_/u,d=a*_/u;a>0&&(l=Math.PI+Math.abs(l-Math.PI));for(var p=2*Math.PI/v.length,f=Math.PI/2,g=f+p,y=0;y<v.length;y++){var m=v[y],w=f<=l&&l<=g||f<=l+2*Math.PI&&l+2*Math.PI<=g;if(!0!==m.disabled&&!1!==m.enabled||(w=!1),w){b=y;break}f+=p,g+=p}!function(t,e,n){F.drawCommands=[t,e,n]}(h,d,l)}}}).on("tapdrag",T).on("cxttapend tapend",function(){if(f.style.display="none",void 0!==b){var t=v[b].select;t&&(t.apply(h,[h,P]),b=void 0)}C=!1,N()}),{destroy:function(){q()}}}},function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";t.exports={menuRadius:100,selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1}},function(t,e,n){"use strict";var i=function(t,e){for(var n=Object.keys(e),i=0,r=n.length;i<r;i++)t.style[n[i]]=e[n[i]]};t.exports={removeEles:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(t).forEach(function(t){return t.parentNode.removeChild(t)})},setStyles:i,createElement:function(t){t=t||{};var e=document.createElement(t.tag||"div");return e.className=t.class||"",t.style&&i(e,t.style),e},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(t){var e=t.getBoundingClientRect();return{left:e.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:e.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},function(t,e,n){"use strict";var i=n(0),r=function(t){t&&t("core","cxtmenu",i)};"undefined"!=typeof cytoscape&&r(cytoscape),t.exports=r}])}),window.SparqlText=function(){var t,e,n;return e=null,n=[],t=null,null,null,class{constructor(i,r){if(this.create_highlighting_box=this.create_highlighting_box.bind(this),this.remove_from_select_boxes=this.remove_from_select_boxes.bind(this),this.generate_plaintext_query=this.generate_plaintext_query.bind(this),this.copy_to_clipboard=this.copy_to_clipboard.bind(this),this.add_filter=this.add_filter.bind(this),this.update=this.update.bind(this),e)return e;(t=document.getElementById("sparql_textbox")).className="unselectable",this.div_sparql_text=t,this.select_boxes=n,this.cy=i,this.links=r,this.filters=[],e=this}add_to_select(t){return n.push(t),this.update()}create_tab(){var t;return(t=document.createElement("div")).innerHTML="&nbsp;",t}rename(t){var e,i,r,o;for(r=this.cy.getElementById(t.dataset.node_id),e=i=0,o=n.length;0<=o?i<o:i>o;e=0<=o?++i:--i)n[e]===t.dataset.prevname&&(n[e]=t.innerHTML.substr(e));return r.data("label",t.innerHTML.substr(1))}create_highlighting_box(t){var e,n,i;return(e=document.createElement("div")).className="highlighting_box_container",(i=document.createElement("div")).className="highlighting_box",i.id=t.id()+Math.round(1e3*Math.random()),i.dataset.prevname=t.id(),i.dataset.node_id=t.id(),i.ondblclick=(()=>(i.setAttribute("contenteditable","true"),this.cy.center(t),setTimeout(function(){return i.focus()},0),i.onkeydown=(e=>{if(t.data("label",i.innerHTML),13===e.keyCode)return e.preventDefault(),i.innerHTML.length<=2&&(i.innerHTML=t.id()),i.setAttribute("contenteditable","false"),this.update()}))),i.onmouseover=function(e){return t.addClass("highlight")},i.onmouseout=function(e){return t.removeClass("highlight")},i.onclick=(e=>(this.cy.nodes().unselect(),t.select())),i.innerHTML=t.data("label"),i.style.backgroundColor=t.data("color"),e.append(i),(n=document.createElement("div")).innerHTML=" x ",n.className="minicross",n.dataset.linkedhbox=i.id,n.dataset.node_id=i.dataset.node_id,n.style.visibility="hidden",n.onclick=(t=>(console.log("a"),this.remove_from_select_boxes(n.dataset.node_id))),e.append(n),e.onmouseover=function(t){return n.style.visibility="visible"},e.onmouseout=function(t){return n.style.visibility="hidden"},e}remove_from_select_boxes(t){return console.log(this.select_boxes),this.select_boxes=this.select_boxes.filter(function(e){return e!==t}),this.update()}generate_plaintext_query(){var t,e,i,r,o,s,a,u,c;if(c="SELECT ",0===n.length)c+="*";else for(t=0,r=n.length;t<r;t++)c+="?"+n[t]+" ";for(c+="\r\nWHERE {",e=0,o=(a=this.links).length;e<o;e++)c+="\r\n  ",c+=a[e].to_string();for(i=0,s=(u=this.filters).length;i<s;i++)c+="\r\n  ",c+=u[i].to_string();return c+="\r\n}",console.log(c),c}copy_to_clipboard(){var t;return(t=document.createElement("textarea")).value=this.generate_plaintext_query(),t.id="tmp_div",document.body.appendChild(t),document.getElementById("tmp_div").select(),document.execCommand("Copy"),t.style.display="none",document.body.removeChild(t)}add_filter(t){return this.filters.push(new window.QueryFilter(this,t)),this.update()}update(){var e,n,i,r,o,s,a,u,c,l,h,d,p,f,g,v,y,_,m,b;if(t.innerHTML="",(s=document.createElement("div")).className="init_string",(_=document.createElement("div")).className="s_line",0===this.select_boxes.length)_.innerHTML="&nbsp;*";else for(_.append(this.create_tab()),a=0,l=(g=this.select_boxes).length;a<l;a++)n=g[a],void 0!==this.cy.getElementById(n).id()&&_.append(this.create_highlighting_box(this.cy.getElementById(n)));for((m=document.createElement("div")).innerHTML="SELECT ",s.append(m),s.append(_),s.append(document.createElement("br")),(b=document.createElement("div")).innerHTML=" WHERE {",s.append(b),t.append(s),u=0,h=(v=this.links).length;u<h;u++)p=v[u],f=new window.QueryLine(p,this),t.append(f.to_html());for(c=0,d=(y=this.filters).length;c<d;c++)r=y[c],t.append(r.to_html());return(i=document.createElement("div")).style.display="inline-block",i.style.marginRight="5px",i.innerHTML="} ",t.append(i),(o=document.createElement("div")).className="filter_button",o.innerHTML="+ filter",o.onclick=(()=>this.add_filter()),t.append(o),e=Array.prototype.slice.call(document.getElementsByClassName("q_line")).concat(Array.prototype.slice.call(document.getElementsByClassName("void_box"))).concat(_),dragula({containers:e,copy:(t,e)=>!!e.classList.contains("q_line"),accepts:function(t,e,n){return!(e.classList.contains("q_line")&&n.classList.contains("q_line")||(e.classList.contains("void_box")&&e.innerHTML.replace("&nbsp;",""),0))},invalid:function(t,e){return!t.classList.contains("highlighting_box")&&!t.classList.contains("highlighting_box_container")},revertOnSpill:!0}).on("drop",(t,e)=>{var n,i,r,o;for(e.classList.contains("void_box")&&("0"===e.dataset.filter_position?(jQuery(e).data("parent").node1=this.cy.getElementById(t.firstChild.dataset.node_id),jQuery(e).data("parent").conditions=[],jQuery(e).data("parent").conditions.push(jQuery(e).data("parent").new_condition())):"1"===e.dataset.filter_position&&(jQuery(e).data("parent").node2=this.cy.getElementById(t.firstChild.dataset.node_id),jQuery(e).data("parent").conditions=[],jQuery(e).data("parent").conditions.push(jQuery(e).data("parent").new_condition()))),this.select_boxes=[],r=0,i=(o=_.children).length;r<i;r++)void 0!==(n=o[r]).firstChild.innerHTML&&this.select_boxes.push(n.firstChild.innerHTML.substr(1));return this.update()})}}}.call(this),function(t){function e(t,i){if(i=i||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,i);var r=n(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=P(100*this._a)/100,this._format=i.format||r.format,this._gradientType=i.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=r.ok,this._tc_id=I++}function n(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,s=null,a=!1,u=!1;return"string"==typeof t&&(t=function(t){t=t.replace(L,"").replace(D,"").toLowerCase();var e,n=!1;if(R[t])t=R[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=q.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=q.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=q.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=q.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=q.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=q.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=q.hex8.exec(t))?{r:k(e[1]),g:k(e[2]),b:k(e[3]),a:C(e[4]),format:n?"name":"hex8"}:(e=q.hex6.exec(t))?{r:k(e[1]),g:k(e[2]),b:k(e[3]),format:n?"name":"hex"}:(e=q.hex4.exec(t))?{r:k(e[1]+""+e[1]),g:k(e[2]+""+e[2]),b:k(e[3]+""+e[3]),a:C(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=q.hex3.exec(t))&&{r:k(e[1]+""+e[1]),g:k(e[2]+""+e[2]),b:k(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(T(t.r)&&T(t.g)&&T(t.b)?(e=function(t,e,n){return{r:255*E(t,255),g:255*E(e,255),b:255*E(n,255)}}(t.r,t.g,t.b),a=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):T(t.h)&&T(t.s)&&T(t.v)?(i=A(t.s),r=A(t.v),e=o(t.h,i,r),a=!0,u="hsv"):T(t.h)&&T(t.s)&&T(t.l)&&(i=A(t.s),s=A(t.l),e=function(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+6*(e-t)*(2/3-n):t}var r,o,s;if(t=E(t,360),e=E(e,100),n=E(n,100),0===e)r=o=s=n;else{var a=.5>n?n*(1+e):n+e-n*e,u=2*n-a;r=i(u,a,t+1/3),o=i(u,a,t),s=i(u,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}(t.h,i,s),a=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=x(n),{ok:a,format:t.format||u,r:N(255,O(e.r,0)),g:N(255,O(e.g,0)),b:N(255,O(e.b,0)),a:n}}function i(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var i,r,o=O(t,e,n),s=N(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var u=o-s;switch(r=a>.5?u/(2-o-s):u/(o+s),o){case t:i=(e-n)/u+(n>e?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:a}}function r(t,e,n){t=E(t,255),e=E(e,255),n=E(n,255);var i,r,o=O(t,e,n),s=N(t,e,n),a=o,u=o-s;if(r=0===o?0:u/o,o==s)i=0;else{switch(o){case t:i=(e-n)/u+(n>e?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:a}}function o(e,n,i){e=6*E(e,360),n=E(n,100),i=E(i,100);var r=t.floor(e),o=e-r,s=i*(1-n),a=i*(1-o*n),u=i*(1-(1-o)*n),c=r%6;return{r:255*[i,a,s,s,u,i][c],g:255*[u,i,i,a,s,s][c],b:255*[s,s,u,i,i,a][c]}}function s(t,e,n,i){var r=[F(P(t).toString(16)),F(P(e).toString(16)),F(P(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){return[F(S(i)),F(P(t).toString(16)),F(P(e).toString(16)),F(P(n).toString(16))].join("")}function u(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.s-=n/100,i.s=w(i.s),e(i)}function c(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.s+=n/100,i.s=w(i.s),e(i)}function l(t){return e(t).desaturate(100)}function h(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.l+=n/100,i.l=w(i.l),e(i)}function d(t,n){n=0===n?0:n||10;var i=e(t).toRgb();return i.r=O(0,N(255,i.r-P(-n/100*255))),i.g=O(0,N(255,i.g-P(-n/100*255))),i.b=O(0,N(255,i.b-P(-n/100*255))),e(i)}function p(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.l-=n/100,i.l=w(i.l),e(i)}function f(t,n){var i=e(t).toHsl(),r=(i.h+n)%360;return i.h=0>r?360+r:r,e(i)}function g(t){var n=e(t).toHsl();return n.h=(n.h+180)%360,e(n)}function v(t){var n=e(t).toHsl(),i=n.h;return[e(t),e({h:(i+120)%360,s:n.s,l:n.l}),e({h:(i+240)%360,s:n.s,l:n.l})]}function y(t){var n=e(t).toHsl(),i=n.h;return[e(t),e({h:(i+90)%360,s:n.s,l:n.l}),e({h:(i+180)%360,s:n.s,l:n.l}),e({h:(i+270)%360,s:n.s,l:n.l})]}function _(t){var n=e(t).toHsl(),i=n.h;return[e(t),e({h:(i+72)%360,s:n.s,l:n.l}),e({h:(i+216)%360,s:n.s,l:n.l})]}function m(t,n,i){n=n||6,i=i||30;var r=e(t).toHsl(),o=360/i,s=[e(t)];for(r.h=(r.h-(o*n>>1)+720)%360;--n;)r.h=(r.h+o)%360,s.push(e(r));return s}function b(t,n){n=n||6;for(var i=e(t).toHsv(),r=i.h,o=i.s,s=i.v,a=[],u=1/n;n--;)a.push(e({h:r,s:o,v:s})),s=(s+u)%1;return a}function x(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function E(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var i=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=N(n,O(0,parseFloat(e))),i&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function w(t){return N(1,O(0,t))}function k(t){return parseInt(t,16)}function F(t){return 1==t.length?"0"+t:""+t}function A(t){return 1>=t&&(t=100*t+"%"),t}function S(e){return t.round(255*parseFloat(e)).toString(16)}function C(t){return k(t)/255}function T(t){return!!q.CSS_UNIT.exec(t)}var L=/^\s+/,D=/\s+$/,I=0,P=t.round,N=t.min,O=t.max,M=t.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,i,r=this.toRgb();return e=r.r/255,n=r.g/255,i=r.b/255,.2126*(.03928>=e?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(.03928>=n?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(.03928>=i?i/12.92:t.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=x(t),this._roundA=P(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=P(360*t.h),n=P(100*t.s),i=P(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=P(360*t.h),n=P(100*t.s),r=P(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var o=[F(P(t).toString(16)),F(P(e).toString(16)),F(P(n).toString(16)),F(S(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*E(this._r,255))+"%",g:P(100*E(this._g,255))+"%",b:P(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*E(this._r,255))+"%, "+P(100*E(this._g,255))+"%, "+P(100*E(this._b,255))+"%)":"rgba("+P(100*E(this._r,255))+"%, "+P(100*E(this._g,255))+"%, "+P(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(B[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var n="#"+a(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=e(t);i="#"+a(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(m,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(b,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},e.fromRatio=function(t,n){if("object"==typeof t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]="a"===r?t[r]:A(t[r]));t=i}return e(t,n)},e.equals=function(t,n){return!(!t||!n)&&e(t).toRgbString()==e(n).toRgbString()},e.random=function(){return e.fromRatio({r:M(),g:M(),b:M()})},e.mix=function(t,n,i){i=0===i?0:i||50;var r=e(t).toRgb(),o=e(n).toRgb(),s=i/100;return e({r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a})},e.readability=function(n,i){var r=e(n),o=e(i);return(t.max(r.getLuminance(),o.getLuminance())+.05)/(t.min(r.getLuminance(),o.getLuminance())+.05)},e.isReadable=function(t,n,i){var r,o,s=e.readability(t,n);switch(o=!1,(r=function(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}(i)).level+r.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},e.mostReadable=function(t,n,i){var r,o,s,a,u=null,c=0;o=(i=i||{}).includeFallbackColors,s=i.level,a=i.size;for(var l=0;l<n.length;l++)(r=e.readability(t,n[l]))>c&&(c=r,u=e(n[l]));return e.isReadable(t,u,{level:s,size:a})||!o?u:(i.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],i))};var R=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=e.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(R),q=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}(Math),window.Sparqling=function(){var t,e,n;return t=null,e=null,n=null,class{constructor(e){if(this.add_to_query=this.add_to_query.bind(this),this.extract_datatype=this.extract_datatype.bind(this),this.onkeypress_handler=this.onkeypress_handler.bind(this),this.doubleclick_handler=this.doubleclick_handler.bind(this),t)return t;this.graphol=e,this.graphol_cy=e.cy,t=this,this.init()}init(){return this.sidenav=new SparqlingNavbar(this),this.graph=new SparqlingGraph(this),this.menu=new SparqlingMenu(this),this.loader=new QueryLoader(this),this.alert=new SparqlingAlert,this.storage=new SparqlingStorage(this),this.sparql_text=this.graph.sparql_text,this.add_event_listener()}add_to_query(){var t;switch(0===(t=this.graphol_cy.nodes(":selected")).length&&this.alert.say("please, select a node in the main graph"),t.data("type")){case"role":return this.graph.add_link(t.data("label"),"role");case"attribute":return this.graph.add_link(t.data("label"),"attribute",this.extract_datatype(t));case"concept":return this.graph.add_link(t.data("label"),"concept")}}extract_datatype(t){var e,n,i,r,o,s,a,u;for(e=0,i=(a=t.neighborhood("node")).length;e<i;e++)if("range-restriction"===(o=a[e]).data("type"))for(n=0,r=(u=o.neighborhood("node")).length;n<r;n++)if("value-domain"===(s=u[n]).data("type"))return s.data("label")}onkeypress_handler(t){var e,n,i,r,o;if("d"===t.key&&console.log(this.graph.cy.nodes(":selected").data("links")),"c"===t.key)return console.log(this.graph.links);if(46===t.keyCode||8===t.keyCode||127===t.keyCode){for(o=[],e=0,n=(r=this.graph.cy.nodes(":selected").data("links")).length;e<n;e++)i=r[e],o.push(i.delete());return o}}doubleclick_handler(t){var i;return i=t.target,n&&e&&clearTimeout(n),e===i?(i.trigger("doubleTap",t),e=null,this.add_to_query()):(n=setTimeout(()=>e=null,300),e=i)}add_event_listener(){var t,e,n,i;for(window.addEventListener("keypress",t=>this.onkeypress_handler(t)),e=0,n=(i=["resize","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"]).length;e<n;e++)t=i[e],window.addEventListener(t,()=>(this.sidenav.resize_navbar(),this.menu.change_size(50)));return this.graphol_cy.on("tap",t=>this.doubleclick_handler(t))}}}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).sparqljs=t()}}(function(){return function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(t,e,n){function i(t,e){this._options=t||{},e=e||{},this._prefixByIri={};var n=[];for(var i in e){var r=e[i];"string"==typeof r&&(this._prefixByIri[r]=i,n.push(r))}var o=n.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+o+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={}}i.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=u(t.variables,void 0,function(t){return a(t)?this.toEntity(t):"("+this.toExpression(t.expression)+" AS "+t.variable+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+"\n"),t.from&&(e+=u(t.from.default||[],"",function(t){return"FROM "+this.toEntity(t)+"\n"},this)+u(t.from.named||[],"",function(t){return"FROM NAMED "+this.toEntity(t)+"\n"},this)),t.where&&(e+="WHERE "+this.group(t.where,!0)+"\n"),t.updates&&(e+=u(t.updates,";\n",this.toUpdate,this)),t.group&&(e+="GROUP BY "+u(t.group,void 0,function(t){var e=a(t.expression)?t.expression:"("+this.toExpression(t.expression)+")";return t.variable?"("+e+" AS "+t.variable+")":e},this)+"\n"),t.having&&(e+="HAVING ("+u(t.having,void 0,this.toExpression,this)+")\n"),t.order&&(e+="ORDER BY "+u(t.order,void 0,function(t){var e="("+this.toExpression(t.expression)+")";return t.descending?"DESC "+e:e},this)+"\n"),t.offset&&(e+="OFFSET "+t.offset+"\n"),t.limit&&(e+="LIMIT "+t.limit+"\n"),t.values&&(e+=this.values(t)),(e=this.baseAndPrefixes(t)+e).trim()},i.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">\n":"",n="";for(var i in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[i])&&(n+="PREFIX "+i+": <"+t.prefixes[i]+">\n");return e+n},i.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)},i.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."},i.prototype.array=function(t){return u(t,"\n",this.toPattern,this)},i.prototype.bgp=function(t){return u(t.triples,"\n",this.triple,this)},i.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)},i.prototype.group=function(t,e){return-1===(t=!0!==e?this.array(t.patterns||t.triples):this.toPattern("group"!==t.type?t:t.patterns)).indexOf("\n")?"{ "+t+" }":"{\n"+t.replace(/^/gm,"  ")+"\n}"},i.prototype.query=function(t){return this.toQuery(t)},i.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"},i.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+t.variable+")"},i.prototype.optional=function(t){return"OPTIONAL "+this.group(t)},i.prototype.union=function(t){return u(t.patterns,"\nUNION\n",function(t){return this.group(t,!0)},this)},i.prototype.minus=function(t){return"MINUS "+this.group(t)},i.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(t,e){for(var n in e)t[n]=!0;return t},{}));return"VALUES ("+e.join(" ")+") {\n"+u(t.values,"\n",function(t){return"  ("+u(e,void 0,function(e){return void 0!==t[e]?this.toEntity(t[e]):"UNDEF"},this)+")"},this)+"\n}"},i.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)},i.prototype.toExpression=function(t){if(a(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(t.separator?"; SEPARATOR = "+this.toEntity('"'+t.separator+'"'):"")+")";case"functioncall":return this.toEntity(t.function)+"("+u(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),n=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(a(n[0])?this.toEntity(n[0]):"("+this.toExpression(n[0])+")")+" "+e+" "+(a(n[1])?this.toEntity(n[1]):"("+this.toExpression(n[1])+")");case"!":return"!"+this.toExpression(n[0]);case"notin":e="NOT IN";case"in":return this.toExpression(n[0])+" "+e+"("+(a(n[1])?n[1]:u(n[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(n[0],!0);default:return e+"("+u(n,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}},i.prototype.toEntity=function(t){if(a(t))switch(t[0]){case"?":case"$":case"*":case"_":return t;case'"':var e=t.match(/^"([^]*)"(?:(@.+)|\^\^(.+))?$/)||{},n=e[1]||"",i=e[2]||"",s=e[3];if(t='"'+n.replace(r,o)+'"'+i,s){if("http://www.w3.org/2001/XMLSchema#integer"===s&&/^\d+$/.test(n))return n+" ";t+="^^"+this.encodeIRI(s)}return t;default:return this.encodeIRI(t)}else{var u=t.items.map(this.toEntity,this),c=t.pathType;switch(c){case"^":case"!":return c+u[0];case"*":case"+":case"?":return"("+u[0]+c+")";default:return"("+u.join(c)+")"}}};var r=/["\\\t\n\r\b\f]/g,o=function(t){return s[t]},s={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function a(t){return"string"==typeof t}function u(t,e,n,i){return t.map(n,i).join(a(e)?e:" ")}i.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var n=this._prefixByIri[e[1]];return this._usedPrefixes[n]=!0,n+":"+e[2]}return"<"+t+">"},i.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+"\n":"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+"\n":"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+"\n":"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+(t.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(t.destination.name);default:throw new Error("Unknown update query type: "+t.type)}},e.exports=function(t){return{stringify:function(e){return new i(t,e.prefixes).toQuery(e)}}}},{}],2:[function(t,e,n){(function(i){var r=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[6,12,15,24,34,43,48,97,107,110,112,113,122,123,128,295,296,297,298,299],n=[2,194],i=[97,107,110,112,113,122,123,128,295,296,297,298,299],r=[1,18],o=[1,27],s=[6,83],a=[38,39,51],u=[38,51],c=[1,55],l=[1,57],h=[1,53],d=[1,56],p=[28,29,290],f=[13,16,283],g=[109,131,293,300],v=[13,16,109,131,283],y=[1,79],_=[1,83],m=[1,85],b=[109,131,293,294,300],x=[13,16,109,131,283,294],E=[1,91],w=[2,234],k=[1,90],F=[13,16,28,29,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],A=[6,38,39,51,61,68,71,79,81,83],S=[6,13,16,28,38,39,51,61,68,71,79,81,83,283],C=[6,13,16,28,29,31,32,38,39,41,51,61,68,71,79,80,81,83,90,106,109,122,123,125,130,157,158,160,163,164,165,183,194,205,210,212,213,215,216,220,224,228,243,248,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,304,305,307,308,309,310,311,312,313,314],T=[1,106],L=[1,107],D=[6,13,16,28,29,39,41,80,83,109,157,158,160,163,164,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],I=[28,32],P=[2,291],N=[1,122],O=[1,120],M=[6,194],R=[2,308],B=[2,296],q=[38,125],G=[6,41,68,71,79,81,83],z=[2,236],j=[1,136],U=[1,138],H=[1,148],$=[1,154],V=[1,157],X=[1,153],Y=[1,155],Q=[1,151],W=[1,152],Z=[1,158],K=[1,159],J=[1,162],tt=[1,163],et=[1,164],nt=[1,165],it=[1,166],rt=[1,167],ot=[1,168],st=[1,169],at=[1,170],ut=[1,171],ct=[1,172],lt=[1,173],ht=[6,61,68,71,79,81,83],dt=[28,29,38,39,51],pt=[13,16,28,29,80,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,314,315,316,317,318,319],ft=[2,405],gt=[1,186],vt=[1,187],yt=[1,188],_t=[13,16,41,80,90,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],mt=[6,106,194],bt=[41,109],xt=[6,41,71,79,81,83],Et=[2,320],wt=[2,312],kt=[13,16,28,183,283],Ft=[2,348],At=[2,344],St=[13,16,28,29,32,39,41,80,83,109,157,158,160,163,164,165,183,194,205,210,212,213,215,216,248,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],Ct=[13,16,28,29,31,32,39,41,80,83,90,109,157,158,160,163,164,165,183,194,205,210,212,213,215,216,220,224,228,243,248,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314],Tt=[13,16,28,29,31,32,39,41,80,83,90,109,157,158,160,163,164,165,183,194,205,210,212,213,215,216,220,224,228,243,248,265,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314],Lt=[31,32,194,220,248],Dt=[31,32,194,220,224,248],It=[31,32,194,220,224,228,243,248,265,277,278,279,280,281,282,308,309,310,311,312,313,314],Pt=[31,32,194,220,224,228,243,248,265,277,278,279,280,281,282,290,305,308,309,310,311,312,313,314],Nt=[1,252],Ot=[1,253],Mt=[1,255],Rt=[1,256],Bt=[1,257],qt=[1,258],Gt=[1,260],zt=[1,261],jt=[2,412],Ut=[1,263],Ht=[1,264],$t=[1,265],Vt=[1,271],Xt=[1,266],Yt=[1,267],Qt=[1,268],Wt=[1,269],Zt=[1,270],Kt=[1,278],Jt=[1,289],te=[6,41,79,81,83],ee=[1,306],ne=[1,305],ie=[39,41,83,109,157,158,160,163,164],re=[1,314],oe=[1,315],se=[41,109,301],ae=[13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],ue=[13,16,28,29,32,39,41,80,83,109,157,158,160,163,164,165,194,212,213,215,216,248,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],ce=[13,16,28,29,80,205,243,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,308,314,315,316,317,318,319],le=[1,341],he=[1,342],de=[1,344],pe=[1,343],fe=[6,13,16,28,29,31,32,39,41,68,71,74,76,79,80,81,83,109,157,158,160,163,164,165,194,212,215,216,220,224,228,243,245,246,247,248,249,251,252,254,255,258,260,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314,315,316,317,318,319],ge=[1,352],ve=[1,351],ye=[29,165],_e=[13,16,32,41,80,90,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],me=[29,41],be=[2,311],xe=[6,41,83],Ee=[6,13,16,29,41,71,79,81,83,245,246,247,249,251,252,254,255,258,260,283,314,315,316,317,318,319],we=[6,13,16,28,29,39,41,71,74,76,79,80,81,83,109,157,158,160,163,164,165,212,215,216,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301,314,315,316,317,318,319],ke=[6,13,16,28,29,41,68,71,79,81,83,245,246,247,249,251,252,254,255,258,260,283,314,315,316,317,318,319],Fe=[6,13,16,28,29,31,32,39,41,61,68,71,74,76,79,80,81,83,109,157,158,160,163,164,165,194,212,215,216,220,224,228,243,245,246,247,248,249,251,252,254,255,258,260,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,302,305,308,309,310,311,312,313,314,315,316,317,318,319],Ae=[13,16,29,183,205,210,283],Se=[2,362],Ce=[1,393],Te=[39,41,83,109,157,158,160,163,164,301],Le=[2,350],De=[13,16,28,29,32,39,41,80,83,109,157,158,160,163,164,165,183,194,212,213,215,216,248,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],Ie=[13,16,28,29,80,205,243,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,308,314,315,316,317,318,319],Pe=[1,443],Ne=[1,440],Oe=[1,441],Me=[13,16,28,29,39,41,80,83,109,157,158,160,163,164,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],Re=[13,16,28,283],Be=[13,16,28,29,39,41,80,83,109,157,158,160,163,164,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],qe=[2,323],Ge=[13,16,28,183,194,283],ze=[13,16,32,80,90,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],je=[6,13,16,28,29,41,74,76,79,81,83,245,246,247,249,251,252,254,255,258,260,283,314,315,316,317,318,319],Ue=[2,318],He=[13,16,29,183,205,283],$e=[39,41,83,109,157,158,160,163,164,194,213,301],Ve=[13,16,28,29,41,80,109,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],Xe=[13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,304,305],Ye=[13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,304,305,307,308],Qe=[1,553],We=[1,554],Ze=[2,306],Ke=[13,16,32,183,210,283],Je={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClause:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifier:21,SubSelect:22,SubSelect_option0:23,SELECT:24,SelectClause_option0:25,SelectClause_group0:26,SelectClauseItem:27,VAR:28,"(":29,Expression:30,AS:31,")":32,ConstructQuery:33,CONSTRUCT:34,ConstructTemplate:35,ConstructQuery_repetition0:36,ConstructQuery_repetition1:37,WHERE:38,"{":39,ConstructQuery_option0:40,"}":41,DescribeQuery:42,DESCRIBE:43,DescribeQuery_group0:44,DescribeQuery_repetition0:45,DescribeQuery_option0:46,AskQuery:47,ASK:48,AskQuery_repetition0:49,DatasetClause:50,FROM:51,DatasetClause_option0:52,iri:53,WhereClause_option0:54,GroupGraphPattern:55,SolutionModifier_option0:56,SolutionModifier_option1:57,SolutionModifier_option2:58,SolutionModifier_option3:59,GroupClause:60,GROUP:61,BY:62,GroupClause_repetition_plus0:63,GroupCondition:64,BuiltInCall:65,FunctionCall:66,HavingClause:67,HAVING:68,HavingClause_repetition_plus0:69,OrderClause:70,ORDER:71,OrderClause_repetition_plus0:72,OrderCondition:73,ASC:74,BrackettedExpression:75,DESC:76,Constraint:77,LimitOffsetClauses:78,LIMIT:79,INTEGER:80,OFFSET:81,ValuesClause:82,VALUES:83,InlineData:84,InlineData_repetition0:85,InlineData_repetition1:86,InlineData_repetition2:87,DataBlockValue:88,Literal:89,UNDEF:90,DataBlockValueList:91,DataBlockValueList_repetition0:92,Update:93,Update_repetition0:94,Update1:95,Update_option0:96,LOAD:97,Update1_option0:98,Update1_option1:99,Update1_group0:100,Update1_option2:101,GraphRefAll:102,Update1_group1:103,Update1_option3:104,GraphOrDefault:105,TO:106,CREATE:107,Update1_option4:108,GRAPH:109,INSERTDATA:110,QuadPattern:111,DELETEDATA:112,DELETEWHERE:113,Update1_option5:114,InsertClause:115,Update1_option6:116,Update1_repetition0:117,Update1_option7:118,DeleteClause:119,Update1_option8:120,Update1_repetition1:121,DELETE:122,INSERT:123,UsingClause:124,USING:125,UsingClause_option0:126,WithClause:127,WITH:128,IntoGraphClause:129,INTO:130,DEFAULT:131,GraphOrDefault_option0:132,GraphRefAll_group0:133,QuadPattern_option0:134,QuadPattern_repetition0:135,QuadsNotTriples:136,QuadsNotTriples_group0:137,QuadsNotTriples_option0:138,QuadsNotTriples_option1:139,QuadsNotTriples_option2:140,TriplesTemplate:141,TriplesTemplate_repetition0:142,TriplesSameSubject:143,TriplesTemplate_option0:144,GroupGraphPatternSub:145,GroupGraphPatternSub_option0:146,GroupGraphPatternSub_repetition0:147,GroupGraphPatternSubTail:148,GraphPatternNotTriples:149,GroupGraphPatternSubTail_option0:150,GroupGraphPatternSubTail_option1:151,TriplesBlock:152,TriplesBlock_repetition0:153,TriplesSameSubjectPath:154,TriplesBlock_option0:155,GraphPatternNotTriples_repetition0:156,OPTIONAL:157,MINUS:158,GraphPatternNotTriples_group0:159,SERVICE:160,GraphPatternNotTriples_option0:161,GraphPatternNotTriples_group1:162,FILTER:163,BIND:164,NIL:165,FunctionCall_option0:166,FunctionCall_repetition0:167,ExpressionList:168,ExpressionList_repetition0:169,ConstructTemplate_option0:170,ConstructTriples:171,ConstructTriples_repetition0:172,ConstructTriples_option0:173,VarOrTerm:174,PropertyListNotEmpty:175,TriplesNode:176,PropertyList:177,PropertyList_option0:178,PropertyListNotEmpty_repetition0:179,VerbObjectList:180,Verb:181,ObjectList:182,a:183,ObjectList_repetition0:184,GraphNode:185,PropertyListPathNotEmpty:186,TriplesNodePath:187,TriplesSameSubjectPath_option0:188,PropertyListPathNotEmpty_group0:189,PropertyListPathNotEmpty_repetition0:190,GraphNodePath:191,PropertyListPathNotEmpty_repetition1:192,PropertyListPathNotEmptyTail:193,";":194,PropertyListPathNotEmptyTail_group0:195,Path:196,Path_repetition0:197,PathSequence:198,PathSequence_repetition0:199,PathEltOrInverse:200,PathElt:201,PathPrimary:202,PathElt_option0:203,PathEltOrInverse_option0:204,"!":205,PathNegatedPropertySet:206,PathOneInPropertySet:207,PathNegatedPropertySet_repetition0:208,PathNegatedPropertySet_option0:209,"^":210,TriplesNode_repetition_plus0:211,"[":212,"]":213,TriplesNodePath_repetition_plus0:214,BLANK_NODE_LABEL:215,ANON:216,ConditionalAndExpression:217,Expression_repetition0:218,ExpressionTail:219,"||":220,RelationalExpression:221,ConditionalAndExpression_repetition0:222,ConditionalAndExpressionTail:223,"&&":224,AdditiveExpression:225,RelationalExpression_group0:226,RelationalExpression_option0:227,IN:228,MultiplicativeExpression:229,AdditiveExpression_repetition0:230,AdditiveExpressionTail:231,AdditiveExpressionTail_group0:232,NumericLiteralPositive:233,AdditiveExpressionTail_repetition0:234,NumericLiteralNegative:235,AdditiveExpressionTail_repetition1:236,UnaryExpression:237,MultiplicativeExpression_repetition0:238,MultiplicativeExpressionTail:239,MultiplicativeExpressionTail_group0:240,UnaryExpression_option0:241,PrimaryExpression:242,"-":243,Aggregate:244,FUNC_ARITY0:245,FUNC_ARITY1:246,FUNC_ARITY2:247,",":248,IF:249,BuiltInCall_group0:250,BOUND:251,BNODE:252,BuiltInCall_option0:253,EXISTS:254,COUNT:255,Aggregate_option0:256,Aggregate_group0:257,FUNC_AGGREGATE:258,Aggregate_option1:259,GROUP_CONCAT:260,Aggregate_option2:261,Aggregate_option3:262,GroupConcatSeparator:263,SEPARATOR:264,"=":265,String:266,LANGTAG:267,"^^":268,DECIMAL:269,DOUBLE:270,true:271,false:272,STRING_LITERAL1:273,STRING_LITERAL2:274,STRING_LITERAL_LONG1:275,STRING_LITERAL_LONG2:276,INTEGER_POSITIVE:277,DECIMAL_POSITIVE:278,DOUBLE_POSITIVE:279,INTEGER_NEGATIVE:280,DECIMAL_NEGATIVE:281,DOUBLE_NEGATIVE:282,PNAME_LN:283,QueryOrUpdate_group0_option0:284,Prologue_repetition0_group0:285,SelectClause_option0_group0:286,DISTINCT:287,REDUCED:288,SelectClause_group0_repetition_plus0:289,"*":290,DescribeQuery_group0_repetition_plus0_group0:291,DescribeQuery_group0_repetition_plus0:292,NAMED:293,SILENT:294,CLEAR:295,DROP:296,ADD:297,MOVE:298,COPY:299,ALL:300,".":301,UNION:302,PropertyListNotEmpty_repetition0_repetition_plus0:303,"|":304,"/":305,PathElt_option0_group0:306,"?":307,"+":308,"!=":309,"<":310,">":311,"<=":312,">=":313,NOT:314,CONCAT:315,COALESCE:316,SUBSTR:317,REGEX:318,REPLACE:319,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"SELECT",28:"VAR",29:"(",31:"AS",32:")",34:"CONSTRUCT",38:"WHERE",39:"{",41:"}",43:"DESCRIBE",48:"ASK",51:"FROM",61:"GROUP",62:"BY",68:"HAVING",71:"ORDER",74:"ASC",76:"DESC",79:"LIMIT",80:"INTEGER",81:"OFFSET",83:"VALUES",90:"UNDEF",97:"LOAD",106:"TO",107:"CREATE",109:"GRAPH",110:"INSERTDATA",112:"DELETEDATA",113:"DELETEWHERE",122:"DELETE",123:"INSERT",125:"USING",128:"WITH",130:"INTO",131:"DEFAULT",157:"OPTIONAL",158:"MINUS",160:"SERVICE",163:"FILTER",164:"BIND",165:"NIL",183:"a",194:";",205:"!",210:"^",212:"[",213:"]",215:"BLANK_NODE_LABEL",216:"ANON",220:"||",224:"&&",228:"IN",243:"-",245:"FUNC_ARITY0",246:"FUNC_ARITY1",247:"FUNC_ARITY2",248:",",249:"IF",251:"BOUND",252:"BNODE",254:"EXISTS",255:"COUNT",258:"FUNC_AGGREGATE",260:"GROUP_CONCAT",264:"SEPARATOR",265:"=",267:"LANGTAG",268:"^^",269:"DECIMAL",270:"DOUBLE",271:"true",272:"false",273:"STRING_LITERAL1",274:"STRING_LITERAL2",275:"STRING_LITERAL_LONG1",276:"STRING_LITERAL_LONG2",277:"INTEGER_POSITIVE",278:"DECIMAL_POSITIVE",279:"DOUBLE_POSITIVE",280:"INTEGER_NEGATIVE",281:"DECIMAL_NEGATIVE",282:"DOUBLE_NEGATIVE",283:"PNAME_LN",287:"DISTINCT",288:"REDUCED",290:"*",293:"NAMED",294:"SILENT",295:"CLEAR",296:"DROP",297:"ADD",298:"MOVE",299:"COPY",300:"ALL",301:".",302:"UNION",304:"|",305:"/",307:"?",308:"+",309:"!=",310:"<",311:">",312:"<=",313:">=",314:"NOT",315:"CONCAT",316:"COALESCE",317:"SUBSTR",318:"REGEX",319:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[22,4],[18,3],[27,1],[27,5],[33,5],[33,7],[42,5],[47,4],[50,3],[20,2],[21,4],[60,3],[64,1],[64,1],[64,3],[64,5],[64,1],[67,2],[70,3],[73,2],[73,2],[73,1],[73,1],[78,2],[78,2],[78,4],[78,4],[82,2],[84,4],[84,6],[88,1],[88,1],[88,1],[91,3],[93,3],[95,4],[95,3],[95,5],[95,4],[95,2],[95,2],[95,2],[95,6],[95,6],[119,2],[115,2],[124,3],[127,2],[129,3],[105,1],[105,2],[102,2],[102,1],[111,4],[136,7],[141,3],[55,3],[55,3],[145,2],[148,3],[152,3],[149,2],[149,2],[149,2],[149,3],[149,4],[149,2],[149,6],[149,1],[77,1],[77,1],[77,1],[66,2],[66,6],[168,1],[168,4],[35,3],[171,3],[143,2],[143,2],[177,1],[175,2],[180,2],[181,1],[181,1],[181,1],[182,2],[154,2],[154,2],[186,4],[193,1],[193,3],[196,2],[198,2],[201,2],[200,2],[202,1],[202,1],[202,2],[202,3],[206,1],[206,1],[206,4],[207,1],[207,1],[207,2],[207,2],[176,3],[176,3],[187,3],[187,3],[185,1],[185,1],[191,1],[191,1],[174,1],[174,1],[174,1],[174,1],[174,1],[174,1],[30,2],[219,2],[217,2],[223,2],[221,1],[221,3],[221,4],[225,2],[231,2],[231,2],[231,2],[229,2],[239,2],[237,2],[237,2],[237,2],[242,1],[242,1],[242,1],[242,1],[242,1],[242,1],[75,3],[65,1],[65,2],[65,4],[65,6],[65,8],[65,2],[65,4],[65,2],[65,4],[65,3],[244,5],[244,5],[244,6],[263,4],[89,1],[89,2],[89,3],[89,1],[89,1],[89,1],[89,1],[89,1],[89,1],[89,1],[266,1],[266,1],[266,1],[266,1],[233,1],[233,1],[233,1],[235,1],[235,1],[235,1],[53,1],[53,1],[53,1],[284,0],[284,1],[5,1],[5,1],[285,1],[285,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,1],[286,1],[286,1],[25,0],[25,1],[289,1],[289,2],[26,1],[26,1],[36,0],[36,2],[37,0],[37,2],[40,0],[40,1],[291,1],[291,1],[292,1],[292,2],[44,1],[44,1],[45,0],[45,2],[46,0],[46,1],[49,0],[49,2],[52,0],[52,1],[54,0],[54,1],[56,0],[56,1],[57,0],[57,1],[58,0],[58,1],[59,0],[59,1],[63,1],[63,2],[69,1],[69,2],[72,1],[72,2],[85,0],[85,2],[86,0],[86,2],[87,0],[87,2],[92,0],[92,2],[94,0],[94,4],[96,0],[96,2],[98,0],[98,1],[99,0],[99,1],[100,1],[100,1],[101,0],[101,1],[103,1],[103,1],[103,1],[104,0],[104,1],[108,0],[108,1],[114,0],[114,1],[116,0],[116,1],[117,0],[117,2],[118,0],[118,1],[120,0],[120,1],[121,0],[121,2],[126,0],[126,1],[132,0],[132,1],[133,1],[133,1],[133,1],[134,0],[134,1],[135,0],[135,2],[137,1],[137,1],[138,0],[138,1],[139,0],[139,1],[140,0],[140,1],[142,0],[142,3],[144,0],[144,1],[146,0],[146,1],[147,0],[147,2],[150,0],[150,1],[151,0],[151,1],[153,0],[153,3],[155,0],[155,1],[156,0],[156,3],[159,1],[159,1],[161,0],[161,1],[162,1],[162,1],[166,0],[166,1],[167,0],[167,3],[169,0],[169,3],[170,0],[170,1],[172,0],[172,3],[173,0],[173,1],[178,0],[178,1],[303,1],[303,2],[179,0],[179,3],[184,0],[184,3],[188,0],[188,1],[189,1],[189,1],[190,0],[190,3],[192,0],[192,2],[195,1],[195,1],[197,0],[197,3],[199,0],[199,3],[306,1],[306,1],[306,1],[203,0],[203,1],[204,0],[204,1],[208,0],[208,3],[209,0],[209,1],[211,1],[211,2],[214,1],[214,2],[218,0],[218,2],[222,0],[222,2],[226,1],[226,1],[226,1],[226,1],[226,1],[226,1],[227,0],[227,1],[230,0],[230,2],[232,1],[232,1],[234,0],[234,2],[236,0],[236,2],[238,0],[238,2],[240,1],[240,1],[241,0],[241,1],[250,1],[250,1],[250,1],[250,1],[250,1],[253,0],[253,1],[256,0],[256,1],[257,1],[257,1],[259,0],[259,1],[261,0],[261,1],[262,0],[262,1]],performAction:function(t,e,n,i,r,o,s){var a,u,c=o.length-1;switch(r){case 1:return o[c-1]=o[c-1]||{},Gn.base&&(o[c-1].base=Gn.base),Gn.base=pn=fn=gn="",o[c-1].prefixes=Gn.prefixes,Gn.prefixes=null,o[c-1];case 3:this.$=mn(o[c-1],o[c],{type:"query"});break;case 4:Gn.base=xn(o[c]),pn=fn=gn="";break;case 5:Gn.prefixes||(Gn.prefixes={}),o[c-1]=o[c-1].substr(0,o[c-1].length-1),o[c]=xn(o[c]),Gn.prefixes[o[c-1]]=o[c];break;case 6:this.$=mn(o[c-3],Sn(o[c-2]),o[c-1],o[c]);break;case 7:this.$=mn(o[c-3],o[c-2],o[c-1],o[c],{type:"query"});break;case 8:this.$=mn({queryType:"SELECT",variables:"*"===o[c]?["*"]:o[c]},o[c-1]&&(o[c-2]=vn(o[c-1]),o[c-1]={},o[c-1][o[c-2]]=!0,o[c-1]));break;case 9:case 90:case 122:case 149:this.$=En(o[c]);break;case 10:case 22:this.$=kn(o[c-3],{variable:En(o[c-1])});break;case 11:this.$=mn({queryType:"CONSTRUCT",template:o[c-3]},Sn(o[c-2]),o[c-1],o[c]);break;case 12:this.$=mn({queryType:"CONSTRUCT",template:o[c-2]=o[c-2]?o[c-2].triples:[]},Sn(o[c-5]),{where:[{type:"bgp",triples:_n([],o[c-2])}]},o[c]);break;case 13:this.$=mn({queryType:"DESCRIBE",variables:"*"===o[c-3]?["*"]:o[c-3].map(En)},Sn(o[c-2]),o[c-1],o[c]);break;case 14:this.$=mn({queryType:"ASK"},Sn(o[c-2]),o[c-1],o[c]);break;case 15:case 53:this.$={iri:o[c],named:!!o[c-1]};break;case 16:this.$={where:o[c].patterns};break;case 17:this.$=mn(o[c-3],o[c-2],o[c-1],o[c]);break;case 18:this.$={group:o[c]};break;case 19:case 20:case 26:case 28:this.$=kn(o[c]);break;case 21:this.$=kn(o[c-1]);break;case 23:case 29:this.$=kn(En(o[c]));break;case 24:this.$={having:o[c]};break;case 25:this.$={order:o[c]};break;case 27:this.$=kn(o[c],{descending:!0});break;case 30:this.$={limit:Cn(o[c])};break;case 31:this.$={offset:Cn(o[c])};break;case 32:this.$={limit:Cn(o[c-2]),offset:Cn(o[c])};break;case 33:this.$={limit:Cn(o[c]),offset:Cn(o[c-2])};break;case 34:this.$={type:"values",values:o[c]};break;case 35:o[c-3]=En(o[c-3]),this.$=o[c-1].map(function(t){var e={};return e[o[c-3]]=t,e});break;case 36:var l=o[c-4].length;o[c-4]=o[c-4].map(En),this.$=o[c-1].map(function(t){if(t.length!==l)throw Error("Inconsistent VALUES length");for(var e={},n=0;n<l;n++)e[o[c-4][n]]=t[n];return e});break;case 39:this.$=void 0;break;case 40:case 83:case 106:case 150:this.$=o[c-1];break;case 41:this.$={type:"update",updates:yn(o[c-2],o[c-1])};break;case 42:this.$=mn({type:"load",silent:!!o[c-2],source:o[c-1]},o[c]&&{destination:o[c]});break;case 43:this.$={type:vn(o[c-2]),silent:!!o[c-1],graph:o[c]};break;case 44:this.$={type:vn(o[c-4]),silent:!!o[c-3],source:o[c-2],destination:o[c]};break;case 45:this.$={type:"create",silent:!!o[c-2],graph:o[c-1]};break;case 46:this.$={updateType:"insert",insert:o[c]};break;case 47:this.$={updateType:"delete",delete:o[c]};break;case 48:this.$={updateType:"deletewhere",delete:o[c]};break;case 49:this.$=mn({updateType:"insertdelete"},o[c-5],{insert:o[c-4]||[]},{delete:o[c-3]||[]},Sn(o[c-2]),{where:o[c].patterns});break;case 50:this.$=mn({updateType:"insertdelete"},o[c-5],{delete:o[c-4]||[]},{insert:o[c-3]||[]},Sn(o[c-2]),{where:o[c].patterns});break;case 51:case 52:case 55:case 141:this.$=o[c];break;case 54:this.$={graph:o[c]};break;case 56:this.$={type:"graph",default:!0};break;case 57:case 58:this.$={type:"graph",name:o[c]};break;case 59:this.$={},this.$[vn(o[c])]=!0;break;case 60:this.$=o[c-2]?bn(o[c-1],[o[c-2]]):bn(o[c-1]);break;case 61:var h=mn(o[c-3]||{triples:[]},{type:"graph",name:En(o[c-5])});this.$=o[c]?[h,o[c]]:[h];break;case 62:case 67:this.$={type:"bgp",triples:bn(o[c-2],[o[c-1]])};break;case 63:this.$={type:"group",patterns:[o[c-1]]};break;case 64:this.$={type:"group",patterns:o[c-1]};break;case 65:this.$=o[c-1]?bn([o[c-1]],o[c]):bn(o[c]);break;case 66:this.$=o[c]?[o[c-2],o[c]]:o[c-2];break;case 68:o[c-1].length?this.$={type:"union",patterns:bn(o[c-1].map(Tn),[Tn(o[c])])}:this.$=o[c];break;case 69:this.$=mn(o[c],{type:"optional"});break;case 70:this.$=mn(o[c],{type:"minus"});break;case 71:this.$=mn(o[c],{type:"graph",name:En(o[c-1])});break;case 72:this.$=mn(o[c],{type:"service",name:En(o[c-1]),silent:!!o[c-2]});break;case 73:this.$={type:"filter",expression:o[c]};break;case 74:this.$={type:"bind",variable:En(o[c-1]),expression:o[c-3]};break;case 79:this.$={type:"functionCall",function:o[c-1],args:[]};break;case 80:this.$={type:"functionCall",function:o[c-5],args:yn(o[c-2],o[c-1]),distinct:!!o[c-3]};break;case 81:case 97:case 108:case 194:case 202:case 214:case 216:case 226:case 230:case 250:case 252:case 254:case 256:case 258:case 281:case 287:case 298:case 308:case 314:case 320:case 324:case 334:case 336:case 340:case 348:case 350:case 356:case 358:case 362:case 364:case 373:case 381:case 383:case 393:case 397:case 399:case 401:this.$=[];break;case 82:this.$=yn(o[c-2],o[c-1]);break;case 84:this.$=bn(o[c-2],[o[c-1]]);break;case 85:case 94:this.$=o[c].map(function(t){return mn(Dn(o[c-1]),t)});break;case 86:this.$=_n(o[c].map(function(t){return mn(Dn(o[c-1].entity),t)}),o[c-1].triples);break;case 88:this.$=bn(o[c-1],[o[c]]);break;case 89:this.$=Bn(o[c-1],o[c]);break;case 92:case 104:case 111:this.$=en;break;case 93:this.$=yn(o[c-1],o[c]);break;case 95:this.$=o[c]?_n(o[c].map(function(t){return mn(Dn(o[c-1].entity),t)}),o[c-1].triples):o[c-1].triples;break;case 96:this.$=Bn(En(o[c-3]),yn(o[c-2],o[c-1]),o[c]);break;case 98:this.$=Bn(En(o[c-1]),o[c]);break;case 99:this.$=o[c-1].length?Fn("|",yn(o[c-1],o[c])):o[c];break;case 100:this.$=o[c-1].length?Fn("/",yn(o[c-1],o[c])):o[c];break;case 101:this.$=o[c]?Fn(o[c],[o[c-1]]):o[c-1];break;case 102:this.$=o[c-1]?Fn(o[c-1],[o[c]]):o[c];break;case 105:case 112:this.$=Fn(o[c-1],[o[c]]);break;case 109:this.$=Fn("|",yn(o[c-2],o[c-1]));break;case 113:this.$=Fn(o[c-1],[en]);break;case 114:case 116:this.$=function(t){var e=In(),n=e,i=[],r=[];t.forEach(function(t){i.push(t.entity),_n(r,t.triples)});for(var o=0,s=0,a=i.length,u=Array(2*a);o<a;)u[s++]=Dn(n,nn,i[o]),u[s++]=Dn(n,rn,n=++o<a?In():on);return{entity:e,triples:_n(u,r)}}(o[c-1]);break;case 115:case 117:this.$=(a=o[c-1],{entity:u=In(),triples:a.map(function(t){return mn(Dn(u),t)})});break;case 118:case 120:this.$={entity:o[c],triples:[]};break;case 126:this.$=In();break;case 127:this.$=on;break;case 128:case 130:case 135:case 139:this.$=An(o[c-1],o[c]);break;case 129:this.$=["||",o[c]];break;case 131:this.$=["&&",o[c]];break;case 133:this.$=wn(o[c-1],[o[c-2],o[c]]);break;case 134:this.$=wn(o[c-2]?"notin":"in",[o[c-3],o[c]]);break;case 136:case 140:this.$=[o[c-1],o[c]];break;case 137:this.$=["+",An(o[c-1],o[c])];break;case 138:this.$=["-",An(o[c-1].replace("-",""),o[c])];break;case 142:this.$=wn(o[c-1],[o[c]]);break;case 143:this.$=wn("UMINUS",[o[c]]);break;case 152:this.$=wn(vn(o[c-1]));break;case 153:this.$=wn(vn(o[c-3]),[o[c-1]]);break;case 154:this.$=wn(vn(o[c-5]),[o[c-3],o[c-1]]);break;case 155:this.$=wn(vn(o[c-7]),[o[c-5],o[c-3],o[c-1]]);break;case 156:this.$=wn(vn(o[c-1]),o[c]);break;case 157:this.$=wn("bound",[En(o[c-1])]);break;case 158:this.$=wn(o[c-1],[]);break;case 159:this.$=wn(o[c-3],[o[c-1]]);break;case 160:this.$=wn(o[c-2]?"notexists":"exists",[Tn(o[c])]);break;case 161:case 162:this.$=kn(o[c-1],{type:"aggregate",aggregation:vn(o[c-4]),distinct:!!o[c-2]});break;case 163:this.$=kn(o[c-2],{type:"aggregate",aggregation:vn(o[c-5]),distinct:!!o[c-3],separator:o[c-1]||" "});break;case 164:this.$=o[c].substr(1,o[c].length-2);break;case 166:this.$=o[c-1]+vn(o[c]);break;case 167:this.$=o[c-2]+"^^"+o[c];break;case 168:case 182:this.$=Ln(o[c],an);break;case 169:case 183:this.$=Ln(o[c],un);break;case 170:case 184:this.$=Ln(vn(o[c]),cn);break;case 173:this.$=hn;break;case 174:this.$=dn;break;case 175:case 176:this.$=Rn(o[c],1);break;case 177:case 178:this.$=Rn(o[c],3);break;case 179:this.$=Ln(o[c].substr(1),an);break;case 180:this.$=Ln(o[c].substr(1),un);break;case 181:this.$=Ln(o[c].substr(1).toLowerCase(),cn);break;case 185:this.$=xn(o[c]);break;case 186:var d=o[c].indexOf(":"),p=o[c].substr(0,d),f=Gn.prefixes[p];if(!f)throw new Error("Unknown prefix: "+p);this.$=xn(f+o[c].substr(d+1));break;case 187:if(o[c]=o[c].substr(0,o[c].length-1),!(o[c]in Gn.prefixes))throw new Error("Unknown prefix: "+o[c]);this.$=xn(Gn.prefixes[o[c]]);break;case 195:case 203:case 211:case 215:case 217:case 223:case 227:case 231:case 245:case 247:case 249:case 251:case 253:case 255:case 257:case 282:case 288:case 299:case 315:case 347:case 359:case 378:case 380:case 382:case 384:case 394:case 398:case 400:case 402:o[c-1].push(o[c]);break;case 210:case 222:case 244:case 246:case 248:case 346:case 377:case 379:this.$=[o[c]];break;case 259:o[c-3].push(o[c-2]);break;case 309:case 321:case 325:case 335:case 337:case 341:case 349:case 351:case 357:case 363:case 365:case 374:o[c-2].push(o[c-1])}},table:[t(e,n,{3:1,4:2,7:3}),{1:[3]},t(i,[2,258],{5:4,8:5,284:6,9:7,93:8,17:9,33:10,42:11,47:12,94:13,18:14,6:[2,188],24:r,34:[1,15],43:[1,16],48:[1,17]}),t([6,24,34,43,48,97,107,110,112,113,122,123,128,295,296,297,298,299],[2,2],{285:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,190]},{6:[2,191]},{6:[2,200],10:25,82:26,83:o},{6:[2,189]},t(s,[2,196]),t(s,[2,197]),t(s,[2,198]),t(s,[2,199]),{95:28,97:[1,29],100:30,103:31,107:[1,32],110:[1,33],112:[1,34],113:[1,35],114:36,118:37,122:[2,283],123:[2,277],127:43,128:[1,44],295:[1,38],296:[1,39],297:[1,40],298:[1,41],299:[1,42]},t(a,[2,202],{19:45}),t(u,[2,216],{35:46,37:47,39:[1,48]}),{13:c,16:l,28:h,44:49,53:54,283:d,290:[1,51],291:52,292:50},t(a,[2,230],{49:58}),t(p,[2,208],{25:59,286:60,287:[1,61],288:[1,62]}),t(e,[2,195]),t(e,[2,192]),t(e,[2,193]),{13:[1,63]},{16:[1,64]},{1:[2,1]},{6:[2,3]},{6:[2,201]},{28:[1,66],29:[1,67],84:65},{6:[2,260],96:68,194:[1,69]},t(f,[2,262],{98:70,294:[1,71]}),t(g,[2,268],{101:72,294:[1,73]}),t(v,[2,273],{104:74,294:[1,75]}),{108:76,109:[2,275],294:[1,77]},{39:y,111:78},{39:y,111:80},{39:y,111:81},{115:82,123:_},{119:84,122:m},t(b,[2,266]),t(b,[2,267]),t(x,[2,270]),t(x,[2,271]),t(x,[2,272]),{122:[2,284],123:[2,278]},{13:c,16:l,53:86,283:d},{20:87,38:E,39:w,50:88,51:k,54:89},t(a,[2,214],{36:92}),{38:[1,93],50:94,51:k},t(F,[2,340],{170:95,171:96,172:97,41:[2,338]}),t(A,[2,226],{45:98}),t(A,[2,224],{53:54,291:99,13:c,16:l,28:h,283:d}),t(A,[2,225]),t(S,[2,222]),t(S,[2,220]),t(S,[2,221]),t(C,[2,185]),t(C,[2,186]),t(C,[2,187]),{20:100,38:E,39:w,50:101,51:k,54:89},{26:102,27:105,28:T,29:L,289:103,290:[1,104]},t(p,[2,209]),t(p,[2,206]),t(p,[2,207]),t(e,[2,4]),{13:[1,108]},t(D,[2,34]),{39:[1,109]},t(I,[2,252],{86:110}),{6:[2,41]},t(e,n,{7:3,4:111}),{13:c,16:l,53:112,283:d},t(f,[2,263]),{102:113,109:[1,114],131:[1,116],133:115,293:[1,117],300:[1,118]},t(g,[2,269]),t(f,P,{105:119,132:121,109:N,131:O}),t(v,[2,274]),{109:[1,123]},{109:[2,276]},t(M,[2,46]),t(F,R,{134:124,141:125,142:126,41:B,109:B}),t(M,[2,47]),t(M,[2,48]),t(q,[2,279],{116:127,119:128,122:m}),{39:y,111:129},t(q,[2,285],{120:130,115:131,123:_}),{39:y,111:132},t([122,123],[2,54]),t(G,z,{21:133,56:134,60:135,61:j}),t(a,[2,203]),{39:U,55:137},t(f,[2,232],{52:139,293:[1,140]}),{39:[2,235]},{20:141,38:E,39:w,50:142,51:k,54:89},{39:[1,143]},t(u,[2,217]),{41:[1,144]},{41:[2,339]},{13:c,16:l,28:H,29:$,53:149,80:V,89:150,143:145,165:X,174:146,176:147,212:Y,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ht,[2,228],{54:89,46:174,50:175,20:176,38:E,39:w,51:k}),t(S,[2,223]),t(G,z,{56:134,60:135,21:177,61:j}),t(a,[2,231]),t(a,[2,8]),t(a,[2,212],{27:178,28:T,29:L}),t(a,[2,213]),t(dt,[2,210]),t(dt,[2,9]),t(pt,ft,{30:179,217:180,221:181,225:182,229:183,237:184,241:185,205:gt,243:vt,308:yt}),t(e,[2,5]),t(_t,[2,250],{85:189}),{28:[1,191],32:[1,190]},t(i,[2,259],{6:[2,261]}),t(M,[2,264],{99:192,129:193,130:[1,194]}),t(M,[2,43]),{13:c,16:l,53:195,283:d},t(M,[2,59]),t(M,[2,293]),t(M,[2,294]),t(M,[2,295]),{106:[1,196]},t(mt,[2,56]),{13:c,16:l,53:197,283:d},t(f,[2,292]),{13:c,16:l,53:198,283:d},t(bt,[2,298],{135:199}),t(bt,[2,297]),{13:c,16:l,28:H,29:$,53:149,80:V,89:150,143:200,165:X,174:146,176:147,212:Y,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(q,[2,281],{117:201}),t(q,[2,280]),t([38,122,125],[2,52]),t(q,[2,287],{121:202}),t(q,[2,286]),t([38,123,125],[2,51]),t(s,[2,6]),t(xt,[2,238],{57:203,67:204,68:[1,205]}),t(G,[2,237]),{62:[1,206]},t([6,41,61,68,71,79,81,83],[2,16]),t(F,Et,{22:207,145:208,18:209,146:210,152:211,153:212,24:r,39:wt,41:wt,83:wt,109:wt,157:wt,158:wt,160:wt,163:wt,164:wt}),{13:c,16:l,53:213,283:d},t(f,[2,233]),t(G,z,{56:134,60:135,21:214,61:j}),t(a,[2,215]),t(F,R,{142:126,40:215,141:216,41:[2,218]}),t(a,[2,83]),{41:[2,342],173:217,301:[1,218]},t(kt,Ft,{175:219,179:220}),t(kt,Ft,{179:220,177:221,178:222,175:223,41:At,109:At,301:At}),t(St,[2,122]),t(St,[2,123]),t(St,[2,124]),t(St,[2,125]),t(St,[2,126]),t(St,[2,127]),{13:c,16:l,28:H,29:$,53:149,80:V,89:150,165:X,174:226,176:227,185:225,211:224,212:Y,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(kt,Ft,{179:220,175:228}),t(Ct,[2,165],{267:[1,229],268:[1,230]}),t(Ct,[2,168]),t(Ct,[2,169]),t(Ct,[2,170]),t(Ct,[2,171]),t(Ct,[2,172]),t(Ct,[2,173]),t(Ct,[2,174]),t(Tt,[2,175]),t(Tt,[2,176]),t(Tt,[2,177]),t(Tt,[2,178]),t(Ct,[2,179]),t(Ct,[2,180]),t(Ct,[2,181]),t(Ct,[2,182]),t(Ct,[2,183]),t(Ct,[2,184]),t(G,z,{56:134,60:135,21:231,61:j}),t(A,[2,227]),t(ht,[2,229]),t(s,[2,14]),t(dt,[2,211]),{31:[1,232]},t(Lt,[2,381],{218:233}),t(Dt,[2,383],{222:234}),t(Dt,[2,132],{226:235,227:236,228:[2,391],265:[1,237],309:[1,238],310:[1,239],311:[1,240],312:[1,241],313:[1,242],314:[1,243]}),t(It,[2,393],{230:244}),t(Pt,[2,401],{238:245}),{13:c,16:l,28:Nt,29:Ot,53:249,65:248,66:250,75:247,80:V,89:251,233:160,235:161,242:246,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},{13:c,16:l,28:Nt,29:Ot,53:249,65:248,66:250,75:247,80:V,89:251,233:160,235:161,242:272,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},{13:c,16:l,28:Nt,29:Ot,53:249,65:248,66:250,75:247,80:V,89:251,233:160,235:161,242:273,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},t(pt,[2,406]),{13:c,16:l,41:[1,274],53:276,80:V,88:275,89:277,90:Kt,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},{39:[1,279]},t(I,[2,253]),t(M,[2,42]),t(M,[2,265]),{109:[1,280]},t(M,[2,58]),t(f,P,{132:121,105:281,109:N,131:O}),t(mt,[2,57]),t(M,[2,45]),{41:[1,282],109:[1,284],136:283},t(bt,[2,310],{144:285,301:[1,286]}),{38:[1,287],124:288,125:Jt},{38:[1,290],124:291,125:Jt},t(te,[2,240],{58:292,70:293,71:[1,294]}),t(xt,[2,239]),{13:c,16:l,29:Ot,53:300,65:298,66:299,69:295,75:297,77:296,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},{13:c,16:l,28:ee,29:ne,53:300,63:301,64:302,65:303,66:304,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},{41:[1,307]},{41:[1,308]},{20:309,38:E,39:w,54:89},t(ie,[2,314],{147:310}),t(ie,[2,313]),{13:c,16:l,28:H,29:re,53:149,80:V,89:150,154:311,165:X,174:312,187:313,212:oe,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(A,[2,15]),t(s,[2,11]),{41:[1,316]},{41:[2,219]},{41:[2,84]},t(F,[2,341],{41:[2,343]}),t(se,[2,85]),{13:c,16:l,28:[1,319],53:320,180:317,181:318,183:[1,321],283:d},t(se,[2,86]),t(se,[2,87]),t(se,[2,345]),{13:c,16:l,28:H,29:$,32:[1,322],53:149,80:V,89:150,165:X,174:226,176:227,185:323,212:Y,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ae,[2,377]),t(ue,[2,118]),t(ue,[2,119]),{213:[1,324]},t(Ct,[2,166]),{13:c,16:l,53:325,283:d},t(s,[2,13]),{28:[1,326]},t([31,32,194,248],[2,128],{219:327,220:[1,328]}),t(Lt,[2,130],{223:329,224:[1,330]}),t(pt,ft,{229:183,237:184,241:185,225:331,205:gt,243:vt,308:yt}),{228:[1,332]},t(ce,[2,385]),t(ce,[2,386]),t(ce,[2,387]),t(ce,[2,388]),t(ce,[2,389]),t(ce,[2,390]),{228:[2,392]},t([31,32,194,220,224,228,248,265,309,310,311,312,313,314],[2,135],{231:333,232:334,233:335,235:336,243:[1,338],277:ot,278:st,279:at,280:ut,281:ct,282:lt,308:[1,337]}),t(It,[2,139],{239:339,240:340,290:le,305:he}),t(Pt,[2,141]),t(Pt,[2,144]),t(Pt,[2,145]),t(Pt,[2,146],{29:de,165:pe}),t(Pt,[2,147]),t(Pt,[2,148]),t(Pt,[2,149]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:345,205:gt,243:vt,308:yt}),t(fe,[2,151]),{165:[1,346]},{29:[1,347]},{29:[1,348]},{29:[1,349]},{29:ge,165:ve,168:350},{29:[1,353]},{29:[1,355],165:[1,354]},{254:[1,356]},{29:[1,357]},{29:[1,358]},{29:[1,359]},t(ye,[2,407]),t(ye,[2,408]),t(ye,[2,409]),t(ye,[2,410]),t(ye,[2,411]),{254:[2,413]},t(Pt,[2,142]),t(Pt,[2,143]),t(D,[2,35]),t(_t,[2,251]),t(_e,[2,37]),t(_e,[2,38]),t(_e,[2,39]),t(me,[2,254],{87:360}),{13:c,16:l,53:361,283:d},t(M,[2,44]),t([6,38,122,123,125,194],[2,60]),t(bt,[2,299]),{13:c,16:l,28:[1,363],53:364,137:362,283:d},t(bt,[2,62]),t(F,[2,309],{41:be,109:be}),{39:U,55:365},t(q,[2,282]),t(f,[2,289],{126:366,293:[1,367]}),{39:U,55:368},t(q,[2,288]),t(xe,[2,242],{59:369,78:370,79:[1,371],81:[1,372]}),t(te,[2,241]),{62:[1,373]},t(xt,[2,24],{244:254,250:259,253:262,75:297,65:298,66:299,53:300,77:374,13:c,16:l,29:Ot,245:Mt,246:Rt,247:Bt,249:qt,251:Gt,252:zt,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt}),t(Ee,[2,246]),t(we,[2,76]),t(we,[2,77]),t(we,[2,78]),{29:de,165:pe},t(G,[2,18],{244:254,250:259,253:262,53:300,65:303,66:304,64:375,13:c,16:l,28:ee,29:ne,245:Mt,246:Rt,247:Bt,249:qt,251:Gt,252:zt,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt}),t(ke,[2,244]),t(ke,[2,19]),t(ke,[2,20]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:376,205:gt,243:vt,308:yt}),t(ke,[2,23]),t(Fe,[2,63]),t(Fe,[2,64]),t(G,z,{56:134,60:135,21:377,61:j}),{39:[2,324],41:[2,65],82:387,83:o,109:[1,383],148:378,149:379,156:380,157:[1,381],158:[1,382],160:[1,384],163:[1,385],164:[1,386]},t(ie,[2,322],{155:388,301:[1,389]}),t(Ae,Se,{186:390,189:391,196:392,197:394,28:Ce}),t(Te,[2,352],{189:391,196:392,197:394,188:395,186:396,13:Se,16:Se,29:Se,183:Se,205:Se,210:Se,283:Se,28:Ce}),{13:c,16:l,28:H,29:re,53:149,80:V,89:150,165:X,174:399,187:400,191:398,212:oe,214:397,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(Ae,Se,{189:391,196:392,197:394,186:401,28:Ce}),t(G,z,{56:134,60:135,21:402,61:j}),t([41,109,213,301],[2,88],{303:403,194:[1,404]}),t(F,Le,{182:405,184:406}),t(F,[2,90]),t(F,[2,91]),t(F,[2,92]),t(De,[2,114]),t(ae,[2,378]),t(De,[2,115]),t(Ct,[2,167]),{32:[1,407]},t(Lt,[2,382]),t(pt,ft,{221:181,225:182,229:183,237:184,241:185,217:408,205:gt,243:vt,308:yt}),t(Dt,[2,384]),t(pt,ft,{225:182,229:183,237:184,241:185,221:409,205:gt,243:vt,308:yt}),t(Dt,[2,133]),{29:ge,165:ve,168:410},t(It,[2,394]),t(pt,ft,{237:184,241:185,229:411,205:gt,243:vt,308:yt}),t(Pt,[2,397],{234:412}),t(Pt,[2,399],{236:413}),t(ce,[2,395]),t(ce,[2,396]),t(Pt,[2,402]),t(pt,ft,{241:185,237:414,205:gt,243:vt,308:yt}),t(ce,[2,403]),t(ce,[2,404]),t(fe,[2,79]),t(ce,[2,332],{166:415,287:[1,416]}),{32:[1,417]},t(fe,[2,152]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:418,205:gt,243:vt,308:yt}),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:419,205:gt,243:vt,308:yt}),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:420,205:gt,243:vt,308:yt}),t(fe,[2,156]),t(fe,[2,81]),t(ce,[2,336],{169:421}),{28:[1,422]},t(fe,[2,158]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:423,205:gt,243:vt,308:yt}),{39:U,55:424},t(Ie,[2,414],{256:425,287:[1,426]}),t(ce,[2,418],{259:427,287:[1,428]}),t(ce,[2,420],{261:429,287:[1,430]}),{29:[1,433],41:[1,431],91:432},t(M,[2,55]),{39:[1,434]},{39:[2,300]},{39:[2,301]},t(M,[2,49]),{13:c,16:l,53:435,283:d},t(f,[2,290]),t(M,[2,50]),t(xe,[2,17]),t(xe,[2,243]),{80:[1,436]},{80:[1,437]},{13:c,16:l,28:Pe,29:Ot,53:300,65:298,66:299,72:438,73:439,74:Ne,75:297,76:Oe,77:442,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},t(Ee,[2,247]),t(ke,[2,245]),{31:[1,445],32:[1,444]},{23:446,41:[2,204],82:447,83:o},t(ie,[2,315]),t(Me,[2,316],{150:448,301:[1,449]}),{39:U,55:450},{39:U,55:451},{39:U,55:452},{13:c,16:l,28:[1,454],53:455,159:453,283:d},t(Re,[2,328],{161:456,294:[1,457]}),{13:c,16:l,29:Ot,53:300,65:298,66:299,75:297,77:458,244:254,245:Mt,246:Rt,247:Bt,249:qt,250:259,251:Gt,252:zt,253:262,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt},{29:[1,459]},t(Be,[2,75]),t(ie,[2,67]),t(F,[2,321],{39:qe,41:qe,83:qe,109:qe,157:qe,158:qe,160:qe,163:qe,164:qe}),t(Te,[2,94]),t(F,[2,356],{190:460}),t(F,[2,354]),t(F,[2,355]),t(Ae,[2,364],{198:461,199:462}),t(Te,[2,95]),t(Te,[2,353]),{13:c,16:l,28:H,29:re,32:[1,463],53:149,80:V,89:150,165:X,174:399,187:400,191:464,212:oe,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ae,[2,379]),t(ue,[2,120]),t(ue,[2,121]),{213:[1,465]},t(s,[2,12]),t(kt,[2,349],{194:[1,466]}),t(Ge,[2,346]),t([41,109,194,213,301],[2,89]),{13:c,16:l,28:H,29:$,53:149,80:V,89:150,165:X,174:226,176:227,185:467,212:Y,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(dt,[2,10]),t(Lt,[2,129]),t(Dt,[2,131]),t(Dt,[2,134]),t(It,[2,136]),t(It,[2,137],{240:340,239:468,290:le,305:he}),t(It,[2,138],{240:340,239:469,290:le,305:he}),t(Pt,[2,140]),t(ce,[2,334],{167:470}),t(ce,[2,333]),t([6,13,16,28,29,31,32,39,41,71,74,76,79,80,81,83,109,157,158,160,163,164,165,194,212,215,216,220,224,228,243,245,246,247,248,249,251,252,254,255,258,260,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314,315,316,317,318,319],[2,150]),{32:[1,471]},{248:[1,472]},{248:[1,473]},t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:474,205:gt,243:vt,308:yt}),{32:[1,475]},{32:[1,476]},t(fe,[2,160]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,257:477,30:479,205:gt,243:vt,290:[1,478],308:yt}),t(Ie,[2,415]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:480,205:gt,243:vt,308:yt}),t(ce,[2,419]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:481,205:gt,243:vt,308:yt}),t(ce,[2,421]),t(D,[2,36]),t(me,[2,255]),t(ze,[2,256],{92:482}),t(F,R,{142:126,138:483,141:484,41:[2,302]}),t(q,[2,53]),t(xe,[2,30],{81:[1,485]}),t(xe,[2,31],{79:[1,486]}),t(te,[2,25],{244:254,250:259,253:262,75:297,65:298,66:299,53:300,77:442,73:487,13:c,16:l,28:Pe,29:Ot,74:Ne,76:Oe,245:Mt,246:Rt,247:Bt,249:qt,251:Gt,252:zt,254:jt,255:Ut,258:Ht,260:$t,283:d,314:Vt,315:Xt,316:Yt,317:Qt,318:Wt,319:Zt}),t(je,[2,248]),{29:Ot,75:488},{29:Ot,75:489},t(je,[2,28]),t(je,[2,29]),t(ke,[2,21]),{28:[1,490]},{41:[2,7]},{41:[2,205]},t(F,Et,{153:212,151:491,152:492,39:Ue,41:Ue,83:Ue,109:Ue,157:Ue,158:Ue,160:Ue,163:Ue,164:Ue}),t(Me,[2,317]),t(Be,[2,68],{302:[1,493]}),t(Be,[2,69]),t(Be,[2,70]),{39:U,55:494},{39:[2,326]},{39:[2,327]},{13:c,16:l,28:[1,496],53:497,162:495,283:d},t(Re,[2,329]),t(Be,[2,73]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:498,205:gt,243:vt,308:yt}),{13:c,16:l,28:H,29:re,53:149,80:V,89:150,165:X,174:399,187:400,191:499,212:oe,215:Q,216:W,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ae,[2,99],{304:[1,500]}),t(He,[2,371],{200:501,204:502,210:[1,503]}),t(St,[2,116]),t(ae,[2,380]),t(St,[2,117]),t(Ge,[2,347]),t($e,[2,93],{248:[1,504]}),t(Pt,[2,398]),t(Pt,[2,400]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:505,205:gt,243:vt,308:yt}),t(fe,[2,153]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:506,205:gt,243:vt,308:yt}),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:507,205:gt,243:vt,308:yt}),{32:[1,508],248:[1,509]},t(fe,[2,157]),t(fe,[2,159]),{32:[1,510]},{32:[2,416]},{32:[2,417]},{32:[1,511]},{32:[2,422],194:[1,514],262:512,263:513},{13:c,16:l,32:[1,515],53:276,80:V,88:516,89:277,90:Kt,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},{41:[1,517]},{41:[2,303]},{80:[1,518]},{80:[1,519]},t(je,[2,249]),t(je,[2,26]),t(je,[2,27]),{32:[1,520]},t(ie,[2,66]),t(ie,[2,319]),{39:[2,325]},t(Be,[2,71]),{39:U,55:521},{39:[2,330]},{39:[2,331]},{31:[1,522]},t($e,[2,358],{192:523,248:[1,524]}),t(Ae,[2,363]),t([13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,304],[2,100],{305:[1,525]}),{13:c,16:l,29:[1,531],53:528,183:[1,529],201:526,202:527,205:[1,530],283:d},t(He,[2,372]),t(F,[2,351]),{32:[1,532],248:[1,533]},{32:[1,534]},{248:[1,535]},t(fe,[2,82]),t(ce,[2,337]),t(fe,[2,161]),t(fe,[2,162]),{32:[1,536]},{32:[2,423]},{264:[1,537]},t(me,[2,40]),t(ze,[2,257]),t(Ve,[2,304],{139:538,301:[1,539]}),t(xe,[2,32]),t(xe,[2,33]),t(ke,[2,22]),t(Be,[2,72]),{28:[1,540]},t([39,41,83,109,157,158,160,163,164,213,301],[2,96],{193:541,194:[1,542]}),t(F,[2,357]),t(Ae,[2,365]),t(Xe,[2,102]),t(Xe,[2,369],{203:543,306:544,290:[1,546],307:[1,545],308:[1,547]}),t(Ye,[2,103]),t(Ye,[2,104]),{13:c,16:l,29:[1,551],53:552,165:[1,550],183:Qe,206:548,207:549,210:We,283:d},t(Ae,Se,{197:394,196:555}),t(fe,[2,80]),t(ce,[2,335]),t(fe,[2,154]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:556,205:gt,243:vt,308:yt}),t(fe,[2,163]),{265:[1,557]},t(F,R,{142:126,140:558,141:559,41:Ze,109:Ze}),t(Ve,[2,305]),{32:[1,560]},t($e,[2,359]),t($e,[2,97],{197:394,195:561,196:562,13:Se,16:Se,29:Se,183:Se,205:Se,210:Se,283:Se,28:[1,563]}),t(Xe,[2,101]),t(Xe,[2,370]),t(Xe,[2,366]),t(Xe,[2,367]),t(Xe,[2,368]),t(Ye,[2,105]),t(Ye,[2,107]),t(Ye,[2,108]),t(Ke,[2,373],{208:564}),t(Ye,[2,110]),t(Ye,[2,111]),{13:c,16:l,53:565,183:[1,566],283:d},{32:[1,567]},{32:[1,568]},{266:569,273:et,274:nt,275:it,276:rt},t(bt,[2,61]),t(bt,[2,307]),t(Be,[2,74]),t(F,Le,{184:406,182:570}),t(F,[2,360]),t(F,[2,361]),{13:c,16:l,32:[2,375],53:552,183:Qe,207:572,209:571,210:We,283:d},t(Ye,[2,112]),t(Ye,[2,113]),t(Ye,[2,106]),t(fe,[2,155]),{32:[2,164]},t($e,[2,98]),{32:[1,573]},{32:[2,376],304:[1,574]},t(Ye,[2,109]),t(Ke,[2,374])],defaultActions:{5:[2,190],6:[2,191],8:[2,189],24:[2,1],25:[2,3],26:[2,201],68:[2,41],77:[2,276],91:[2,235],96:[2,339],216:[2,219],217:[2,84],243:[2,392],271:[2,413],363:[2,300],364:[2,301],446:[2,7],447:[2,205],454:[2,326],455:[2,327],478:[2,416],479:[2,417],484:[2,303],493:[2,325],496:[2,330],497:[2,331],513:[2,423],569:[2,164]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,u=0,c=0,l=r.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(d.yy[p]=this.yy[p]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var f=h.yylloc;r.push(f);var g=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,y,_,m,b,x,E,w,k,F=function(){var t;return"number"!=typeof(t=h.lex()||1)&&(t=e.symbols_[t]||t),t},A={};;){if(_=n[n.length-1],this.defaultActions[_]?m=this.defaultActions[_]:(null==v&&(v=F()),m=o[_]&&o[_][v]),void 0===m||!m.length||!m[0]){var S="";for(x in k=[],o[_])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");S=h.showPosition?"Parse error on line "+(a+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(S,{text:h.match,token:this.terminals_[v]||v,line:h.yylineno,loc:f,expected:k})}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+v);switch(m[0]){case 1:n.push(v),i.push(h.yytext),r.push(h.yylloc),n.push(m[1]),v=null,y?(v=y,y=null):(u=h.yyleng,s=h.yytext,a=h.yylineno,f=h.yylloc,c>0&&c--);break;case 2:if(E=this.productions_[m[1]][1],A.$=i[i.length-E],A._$={first_line:r[r.length-(E||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(E||1)].first_column,last_column:r[r.length-1].last_column},g&&(A._$.range=[r[r.length-(E||1)].range[0],r[r.length-1].range[1]]),void 0!==(b=this.performAction.apply(A,[s,u,a,d.yy,m[1],i,r].concat(l))))return b;E&&(n=n.slice(0,-1*E*2),i=i.slice(0,-1*E),r=r.slice(0,-1*E)),n.push(this.productions_[m[1]][0]),i.push(A.$),r.push(A._$),w=o[n[n.length-2]][n[n.length-1]],n.push(w);break;case 3:return!0}}return!0}},tn="http://www.w3.org/1999/02/22-rdf-syntax-ns#",en=tn+"type",nn=tn+"first",rn=tn+"rest",on=tn+"nil",sn="http://www.w3.org/2001/XMLSchema#",an=sn+"integer",un=sn+"decimal",cn=sn+"double",ln=sn+"boolean",hn='"true"^^'+ln,dn='"false"^^'+ln,pn="",fn="",gn="";function vn(t){return t.toLowerCase()}function yn(t,e){return t.push(e),t}function _n(t,e){return t.push.apply(t,e),t}function mn(t){t||(t={});for(var e,n=1,i=arguments.length;n<i&&(e=arguments[n]||{});n++)for(var r in e)t[r]=e[r];return t}function bn(){for(var t=[],e=0,n=arguments.length;e<n;e++)t=t.concat.apply(t,arguments[e]);return t}function xn(t){if("<"===t[0]&&(t=t.substring(1,t.length-1)),/^[a-z]+:/.test(t))return t;if(!Gn.base)throw new Error("Cannot resolve relative IRI "+t+" because no base IRI was set.");switch(pn||(pn=Gn.base,fn=pn.replace(/[^\/:]*$/,""),gn=pn.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),t[0]){case void 0:return pn;case"#":return pn+t;case"?":return pn.replace(/(?:\?.*)?$/,t);case"/":return gn+t;default:return fn+t}}function En(t){if(t){var e=t[0];if("?"===e)return t;if("$"===e)return"?"+t.substr(1)}return t}function wn(t,e){return{type:"operation",operator:t,args:e||[]}}function kn(t,e){var n={expression:t};if(e)for(var i in e)n[i]=e[i];return n}function Fn(t,e){return{type:"path",pathType:t,items:e}}function An(t,e){for(var n,i=0,r=e.length;i<r&&(n=e[i]);i++)t=wn(n[0],[t,n[1]]);return t}function Sn(t){for(var e,n=[],i=[],r=t.length,o=0;o<r&&(e=t[o]);o++)(e.named?i:n).push(e.iri);return r?{from:{default:n,named:i}}:null}function Cn(t){return parseInt(t,10)}function Tn(t){return"group"===t.type&&1===t.patterns.length?t.patterns[0]:t}function Ln(t,e){return'"'+t+'"^^'+e}function Dn(t,e,n){var i={};return null!=t&&(i.subject=t),null!=e&&(i.predicate=e),null!=n&&(i.object=n),i}function In(){return"_:b"+Pn++}var Pn=0;Gn._resetBlanks=function(){Pn=0};var Nn=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,On={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Mn=String.fromCharCode;function Rn(t,e){t=t.substring(e,t.length-e);try{t=t.replace(Nn,function(t,e,n,i){var r;if(e){if(r=parseInt(e,16),isNaN(r))throw new Error;return Mn(r)}if(n){if(r=parseInt(n,16),isNaN(r))throw new Error;return r<65535?Mn(r):Mn(55296+((r-=65536)>>10),56320+(1023&r))}var o=On[i];if(!o)throw new Error;return o})}catch(t){return""}return'"'+t+'"'}function Bn(t,e,n){var i=[],r=[];return e.forEach(function(e){i.push(Dn(null,t,e.entity)),_n(r,e.triples)}),bn(i,n||[],r)}var qn={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:break;case 1:return 12;case 2:return 15;case 3:return 24;case 4:return 287;case 5:return 288;case 6:return 29;case 7:return 31;case 8:return 32;case 9:return 290;case 10:return 34;case 11:return 38;case 12:return 39;case 13:return 41;case 14:return 43;case 15:return 48;case 16:return 51;case 17:return 293;case 18:return 61;case 19:return 62;case 20:return 68;case 21:return 71;case 22:return 74;case 23:return 76;case 24:return 79;case 25:return 81;case 26:return 83;case 27:return 194;case 28:return 97;case 29:return 294;case 30:return 130;case 31:return 295;case 32:return 296;case 33:return 107;case 34:return 297;case 35:return 106;case 36:return 298;case 37:return 299;case 38:return 110;case 39:return 112;case 40:return 113;case 41:return 128;case 42:return 122;case 43:return 123;case 44:return 125;case 45:return 131;case 46:return 109;case 47:return 300;case 48:return 301;case 49:return 157;case 50:return 160;case 51:return 164;case 52:return 90;case 53:return 158;case 54:return 302;case 55:return 163;case 56:return 248;case 57:return 183;case 58:return 304;case 59:return 305;case 60:return 210;case 61:return 307;case 62:return 308;case 63:return 205;case 64:return 212;case 65:return 213;case 66:return 220;case 67:return 224;case 68:return 265;case 69:return 309;case 70:return 310;case 71:return 311;case 72:return 312;case 73:return 313;case 74:return 228;case 75:return 314;case 76:return 243;case 77:return 251;case 78:return 252;case 79:return 245;case 80:return 246;case 81:return 247;case 82:return 315;case 83:return 316;case 84:return 249;case 85:return 318;case 86:return 317;case 87:return 319;case 88:return 254;case 89:return 255;case 90:return 258;case 91:return 260;case 92:return 264;case 93:return 268;case 94:return 271;case 95:return 272;case 96:return 13;case 97:return 16;case 98:return 283;case 99:return 215;case 100:return 28;case 101:return 267;case 102:return 80;case 103:return 269;case 104:return 270;case 105:return 277;case 106:return 278;case 107:return 279;case 108:return 280;case 109:return 281;case 110:return 282;case 111:return"EXPONENT";case 112:return 273;case 113:return 274;case 114:return 275;case 115:return 276;case 116:return 165;case 117:return 216;case 118:return 6;case 119:return"INVALID";case 120:console.log(e.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT\s+DATA)/i,/^(?:DELETE\s+DATA)/i,/^(?:DELETE\s+WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(<([^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?))/i,/^(?:([\?\$]((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(([^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*'))/i,/^(?:("(([^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*"))/i,/^(?:('''(('|'')?([^'\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*'''))/i,/^(?:("""(("|"")?([^\"\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],inclusive:!0}}};function Gn(){this.yy={}}return Je.lexer=qn,Gn.prototype=Je,Je.Parser=Gn,new Gn}();void 0!==t&&void 0!==n&&(n.parser=r,n.Parser=r.Parser,n.parse=function(){return r.parse.apply(r,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),i.exit(1));var r=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(r)},void 0!==e&&t.main===e&&n.main(i.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:3,path:3}],3:[function(t,e,n){},{}],4:[function(t,e,n){var i=t("./lib/SparqlParser").Parser,r=t("./lib/SparqlGenerator");e.exports={Parser:function(t,e){var n={};for(var r in t||{})n[r]=t[r];var o=new i;return o.parse=function(){return i.base=e||"",i.prefixes=Object.create(n),i.prototype.parse.apply(o,arguments)},o._resetBlanks=i._resetBlanks,o},Generator:r}},{"./lib/SparqlGenerator":1,"./lib/SparqlParser":2}]},{},[4])(4)}),window.SparqlingAlert=function(){class t{constructor(){this.say=this.say.bind(this),this.dialog=document.createElement("div"),this.dialog.className="sparqling_dialog",this.dialog.style.opacity="0",this.dialog.style.bottom="5%",document.getElementById("grapholscape-container").append(this.dialog)}say(t){return this.dialog.innerHTML=t,this.dialog.style.opacity="1",this.dialog.onmouseover=(()=>setTimeout(()=>this.dialog.style.opacity="0",300)),setTimeout(()=>this.dialog.style.opacity="0",3e3)}}return null,t.dialog=null,t}.call(this),window.PainlessContextMenu=class{constructor(t,e){this.init=this.init.bind(this),this.rename_var=this.rename_var.bind(this),this.context=e,this.cy=t,this.init()}init(){var t,e,n,i,r,o;return o={selector:".node-variable-full-options",commands:[{content:"delete node",select:t=>{var e,n,i,r,o,s,a;for(a=[],e=0,i=(s=t.data("links")).length;e<i;e++)null!=(o=s[e])&&a.push(o);for(n=0,r=a.length;n<r;n++)(o=a[n]).delete();return this.cy.remove(t)}},{content:"center view",select:t=>this.context.center_view(t)},{content:"add node to select statement",select:t=>this.context.add_to_select(t.id())},{content:"rename node",select:t=>this.rename_var(t)},{content:"filter",select:t=>this.context.sparql_text.add_filter(t)}]},r={selector:".node-role",commands:[{content:"reverse",select:function(t){return t.data("links")[0].reverse()}},{content:"delete",select:function(t){return t.data("links")[0].delete()}}]},i={selector:".node-attribute",commands:[{content:"delete",select:t=>t.data("links")[0].delete()}]},t={selector:".attr-range",commands:[{content:"delete",select:t=>t.data("links")[0].delete()},{content:"transform into constant [object]",select:t=>(t.data("color",tinycolor(t.data("color")).desaturate(50).toString()),t.data("label","const[o]"),t.classes("node-constant-object"))},{content:"transform into constant [value]",select:t=>(t.data("color",tinycolor(t.data("color")).desaturate(50).toString()),t.data("label","const[v]"),t.classes("node-constant-value"))},{content:"filter",select:t=>this.context.sparql_text.add_filter(t)}]},e={selector:".node-concept",commands:[{content:"delete",select:t=>t.data("links")[0].delete()}]},n={selector:".node-constant-value",commands:[{content:"define value",select:t=>this.rename_const(t)},{content:"delete",select:t=>t.data("links")[0].delete()}]},{selector:".node-constant-object",commands:[{content:"define value",select:t=>this.rename_const(t)},{content:"delete",select:t=>t.data("links")[0].delete()}]},this.cy.cxtmenu(o),this.cy.cxtmenu(r),this.cy.cxtmenu(i),this.cy.cxtmenu(e),this.cy.cxtmenu(n),this.cy.cxtmenu(t)}rename_const(t){var e,n,i,r,o;return o=t.data("label"),t.data("label",""),e=document.createElement(n),(n=document.createElement("div")).innerHTML=t.data("label").slice(1),n.style.display="inline-block",r=(s=>{if(s.target!==n)return""===n.innerHTML&&(n.innerHTML=o),t.data("label",n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),i=(s=>{if("Enter"===s.key)return""===n.innerHTML&&(n.innerHTML=o),t.data("label",n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),document.addEventListener("click",r),document.addEventListener("keypress",i),n.setAttribute("contenteditable",!0),e.appendChild(n),e.style.position="absolute",e.id="rename_div",e.style.top=document.getElementById("query_canvas").getBoundingClientRect().y+t.renderedPosition("y")-t.renderedWidth()/4+"px",e.style.left=document.getElementById("query_canvas").getBoundingClientRect().x+t.renderedPosition("x")-t.renderedWidth()/4+"px",e.style.backgroundColor=t.data("color"),e.style.fontSize="xx-large",e.style.color="#fdf6e3",e.style.borderRadius="100px",e.style.fontFamily="Courier New",e.style.padding="2px",e.style.textAlign="center",document.body.appendChild(e),n.focus()}rename_var(t){var e,n,i,r,o,s;return o=t.data("label").slice(1),t.data("label",""),e=document.createElement(n),(s=document.createElement("div")).innerHTML="?",s.style.display="inline-block",e.appendChild(s),(n=document.createElement("div")).innerHTML=t.data("label").slice(1),n.style.display="inline-block",r=(s=>{if(s.target!==n)return""===n.innerHTML&&(n.innerHTML=o),t.data("label","?"+n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),i=(s=>{if("Enter"===s.key)return""===n.innerHTML&&(n.innerHTML=o),t.data("label","?"+n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),document.addEventListener("click",r),document.addEventListener("keypress",i),n.setAttribute("contenteditable",!0),e.appendChild(n),e.style.position="absolute",e.id="rename_div",e.style.top=document.getElementById("query_canvas").getBoundingClientRect().y-this.context.graphol.container.getBoundingClientRect().y+t.renderedPosition("y")-t.renderedWidth()/4+"px",e.style.left=document.getElementById("query_canvas").getBoundingClientRect().x-this.context.graphol.container.getBoundingClientRect().x+t.renderedPosition("x")-t.renderedWidth()/4+"px",e.style.backgroundColor=t.data("color"),e.style.fontSize="xx-large",e.style.color="#fdf6e3",e.style.borderRadius="100px",e.style.fontFamily="Courier New",e.style.padding="2px",e.style.textAlign="center",this.context.graphol.container.appendChild(e),n.focus()}},window.SparqlingGraph=function(){var t;return t=null,class{constructor(t){this.reshape=this.reshape.bind(this),this.download=this.download.bind(this),this.clear_all=this.clear_all.bind(this),this.center_view=this.center_view.bind(this),this.add_to_select=this.add_to_select.bind(this),this.reverse_relationship=this.reverse_relationship.bind(this),this.add_link=this.add_link.bind(this),this.check_collisions=this.check_collisions.bind(this),this.init=this.init.bind(this),this.utils=new window.PainlessUtils,this.context=t,this.graphol=t.graphol,this.links=[],this.layout_names=["cola","cose-bilkent","circle","cose","grid","breadthfirst","concentric"],this.layout_index=0,this.init(),this.reshape(),this.sparql_text=new SparqlText(this.cy,this.links),this.sparql_text.update(),new window.PainlessContextMenu(this.cy,this),this.color_index=0}reshape(){return this.layout=this.layout_names[this.layout_index%this.layout_names.length],this.cy.layout({name:this.layout,fit:!1,animate:!0,nodeDimensionsIncludeLabels:!0,edgeLength:200}).run()}download(){var t,e,n,i;return e=JSON.stringify(this.cy.json()),n=new Blob([e],{type:"text/plain"}),window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n,"sparql.json"):(t=document.createElement("a"),i=URL.createObjectURL(n),t.href=i,t.download="sparql.json",document.body.appendChild(t),t.click(),setTimeout(function(){return document.body.removeChild(t),window.URL.revokeObjectURL(i)},0))}clear_all(){var t,e,n,i;for(t=0,e=(i=this.links).length;t<e;t++){n=i[t];try{n.delete()}catch(t){console.log(n)}}return this.cy.remove(this.cy.nodes()),this.cy.remove(this.cy.edges()),this.links=[],this.sparql_text.filters=[],this.sparql_text.update()}center_view(t=null){return null===t?this.cy.nodes(":selected").length>0?this.cy.center(this.cy.nodes(":selected")):this.cy.fit():this.cy.center(t)}add_to_select(t){return this.sparql_text.add_to_select(t)}copy_to_clipboard(){return this.sparql_text.copy_to_clipboard()}save_state(){if(null===t&&(t=[]),this.cy.json()!==t[t.length-1]&&t.push(this.cy.json()),t.length>=state_buffer_max_length)return t.shift()}undo(){return null===t||t.length<1?this.context.alert("no saved states"):(this.cy.json(t[t.length-1]),this.cy.style(this.utils.generate_style()),t.pop(),this.reshape())}reverse_relationship(){var t;return null===(t=this.cy.nodes(":selected"))?console.warn("please select a node in the sparql graph"):t.hasClass("node-variable")?console.warn("please select a role and not a variable"):"attribute"===t.data("links").link_type?console.warn("attributes cannot be reversed"):t.hasClass("node-role")||t.hasClass("node-domain")||t.hasClass("node-range")?this.cy.nodes(":selected").data("links").reverse():console.warn("this action cannot be performed on the selected node")}merge(t,e){var n,i,r;for(this.save_state(),n=0,i=(r=e.data("links")).length;n<i;n++)r[n].switch_node(e,t);return this.cy.remove(e),this.sparql_text.update(),this.reshape()}add_link(t,e,n){var i,r,o,s,a;for(i=0,r=(a=this.context.graphol_cy.nodes()).length;i<r;i++)(s=a[i]).data("label")===t&&(s.style("border-color","#e38400"),s.style("border-width","5px"));return this.save_state(),"concept"===e?this.cy.nodes(":selected").length>0&&this.cy.nodes(":selected").hasClass("node-variable")?o=new PainlessLink(this,this.cy,t,e,this.cy.nodes(":selected")):(o=new PainlessLink(this,this.cy,t,e),this.sparql_text.add_to_select(o.node_var1.id())):this.cy.nodes(":selected").length>0&&this.cy.nodes(":selected").hasClass("node-variable")?(o=new PainlessLink(this,this.cy,t,e,this.cy.nodes(":selected"),null,n),this.sparql_text.add_to_select(o.node_var2.id())):(o=new PainlessLink(this,this.cy,t,e,null,null,n),this.sparql_text.add_to_select(o.node_var1.id()),this.sparql_text.add_to_select(o.node_var2.id())),this.links.push(o),this.sparql_text.update(),this.reshape()}compute_distance(t,e){var n,i;return n=Math.abs(t.position("x")-e.position("x")),i=Math.abs(t.position("y")-e.position("y")),Math.sqrt(n*n+i*i)}check_collisions(){var t,e,n,i,r,o,s,a;for(t=0,n=(s=this.cy.nodes(".node-variable")).length;t<n;t++)for(r=s[t],e=0,i=(a=this.cy.nodes(".node-variable")).length;e<i;e++)if(r!==(o=a[e])){if(this.compute_distance(r,o)<100)return r.addClass("highlight"),o.addClass("highlight"),[r,o];r.removeClass("highlight")}}init(){return this.cy=new cytoscape({container:document.getElementById("query_canvas"),style:this.utils.generate_style(),wheelSensitivity:.5}),this.cy.on("click",".node-variable",t=>(t.target.select(),this.reshape())),this.cy.on("mouseup",t=>{var e;return void 0!==this.check_collisions()&&(e=this.check_collisions(),this.merge(e[0],e[1])),this.reshape()}),this.cy.resize()}}}.call(this),window.PainlessLink=class{constructor(t,e,n,i,r=null,o=null,s){this.create_edge=this.create_edge.bind(this),this.reverse=this.reverse.bind(this),this.add_datatype=this.add_datatype.bind(this),this.create_node=this.create_node.bind(this),this.delete=this.delete.bind(this),this.switch_node=this.switch_node.bind(this),this.create_link=this.create_link.bind(this),this.create_concept=this.create_concept.bind(this),this.to_string=this.to_string.bind(this),this.cy=e,this.context=t,this.link_name=n,this.link_type=i,this.node_var1=r,this.node_var2=o,this.edge_source=null,this.edge_target=null,this.datatype=s,this.datatype_node=null,void 0!==this.link_name&&null!==this.link_name&&(this.link_name=this.link_name.replace("\n","").replace("\r","").replace(" ","")),"concept"===i?this.create_concept():this.create_link()}find_new_name(t=null){var e;for(null===t?t="x":-1!==t.indexOf(":")&&(t=t.substring(t.indexOf(":")+1)),e=0;0!==this.cy.getElementById(t+e).length;)e+=1;return t+e}create_edge(t,e,n=null){return this.cy.add({group:"edges",data:{source:t.id(),target:e.id()},classes:n})}reverse(){return this.source===this.node_var1?(this.edge_source.classes("target-edge"),this.edge_target.classes("source-edge"),this.source=this.node_var2,this.target=this.node_var1):(this.edge_source.classes("source-edge"),this.edge_target.classes("target-edge"),this.source=this.node_var1,this.target=this.node_var2)}add_datatype(t,e){return this.datatype_node=this.cy.add({group:"nodes",data:{label:e},classes:"node-datatype"}),this.edge_datatype=this.cy.add({group:"edges",data:{source:t.id(),target:this.datatype_node.id(),weight:99},classes:"edge-datatype"})}create_node(t,e=null){var n;return n={},"node-variable"===t&&(e=this.find_new_name(e),n.id=e,n.color="#"+palette[this.context.color_index%palette.length],this.context.color_index+=1),n.label="node-concept"===t?this.link_name:"node-attribute"===t||"node-role"===t?e:"?"+e,n.links=[this],this.cy.add({group:"nodes",data:n,classes:t})}delete(){var t,e,n,i,r,o,s,a,u,c,l,h;for(e=this.context.links.indexOf(this),this.context.links.splice(e,1),this.context.sparql_text.update(),n=0,o=(c=this.context.context.graphol_cy.nodes()).length;n<o;n++)a=c[n],console.log(a.data("label")),console.log("link name: "+this.link_name),console.log(a.data("label")===this.link_name),a.data("label")===this.link_name&&(a.style("border-color","black"),a.style("border-width","1px"));for(null!==this.node_link&&void 0!==this.node_link&&this.cy.remove(this.node_link),null!==this.node_concept&&void 0!==this.node_concept&&this.cy.remove(this.node_concept),null!==this.datatype_node&&void 0!==this.datatype_node&&this.cy.remove(this.datatype_node),i=0,s=(l=[this.node_var1,this.node_var2]).length;i<s;i++)if(null!=(u=l[i])&&(e=u.data("links").indexOf(this),u.data("links").splice(e,1),0===u.data("links").length)){for(t=r=0,h=this.context.sparql_text.select_boxes.length;0<=h?r<h:r>h;t=0<=h?++r:--r)this.context.sparql_text.select_boxes[t]===u.id()&&this.context.sparql_text.select_boxes.splice(t,1);this.cy.remove(u)}return this.context.sparql_text.update()}switch_node(t,e){return t.id()===this.node_var1.id()?this.node_var1=e:t.id()===this.node_var2.id()&&(this.node_var2=e),"concept"===this.link_type?this.create_edge(this.node_var1,this.node_concept,"edge-concept"):t.id()===this.source.id()?(this.source=e,this.create_edge(this.node_link,this.source,"source-edge")):t.id()===this.target.id()&&(this.target=e,this.edge_target=this.create_edge(this.node_link,this.target,"target-edge")),e.data("links").push(this)}create_link(){if(null===this.node_var1||void 0===this.node_var1)this.node_var1=this.create_node("node-variable"),this.node_var1.classes("node-variable node-variable-full-options");else{if(this.node_var1.hasClass("attr-range"))return void console.warn("properties can't be added to the range of an attribute");this.node_var1.data("links").push(this)}return null===this.node_var2||void 0===this.node_var2?"attribute"===this.link_type?(this.node_var2=this.create_node("node-variable",this.link_name),this.node_var2.classes("node-variable attr-range"),null!==this.datatype&&void 0!==this.datatype&&this.add_datatype(this.node_var2,this.datatype)):(this.node_var2=this.create_node("node-variable"),this.node_var2.classes("node-variable node-variable-full-options")):this.node_var2.data("links").push(this),this.source=this.node_var1,this.target=this.node_var2,"role"===this.link_type?this.node_link=this.create_node("node-role",this.link_name):this.node_link=this.create_node("node-attribute",this.link_name),this.edge_source=this.create_edge(this.node_link,this.source,"source-edge"),this.edge_target=this.create_edge(this.node_link,this.target,"target-edge")}create_concept(){return null===this.node_var1||void 0===this.node_var1?(this.node_var1=this.create_node("node-variable"),this.node_var1.classes("node-variable node-variable-full-options")):this.node_var1.data("links").push(this),this.node_concept=this.create_node("node-concept"),this.create_edge(this.node_var1,this.node_concept,"edge-concept")}to_string(){return"concept"!==this.link_type?this.source.data("label")+" "+this.link_name+" "+this.target.data("label")+" .":this.node_var1.data("label")+" rdf:type "+this.node_concept.data("label")+" ."}},window.SparqlingMenu=class{constructor(t){this.change_size=this.change_size.bind(this),this.create_navigation_div=this.create_navigation_div.bind(this),this.init=this.init.bind(this),this.context=t,this.init(),this.change_size(50)}change_size(t){var e,n;return n=t*(e=document.getElementById("cy").clientHeight)/100,this.context.sidenav.query_canvas.style.height=n+"px",sparql_textbox.style.height=Math.max(e-100-n,0)+"px",setTimeout(()=>this.context.graph.cy.resize(),550)}create_div(t=null,e=null,n=null,i=null,r=null){var o,s;return(o=document.createElement("div")).innerHTML=t,o.className=e+" grapholscape-tooltip",o.id=n,o.onclick=i,null!==r&&((s=document.createElement("span")).innerHTML=r,s.className="tooltiptext",s.style.display="none",o.append(s),o.onmouseover=(()=>s.style.display="block"),o.onmouseout=(()=>s.style.display="none")),o}create_navigation_div(){var t;return(t=this.create_div(null,null,"nav_div")).append(this.create_div("▲","sparqling_resize_button",null,()=>this.change_size(90),"expand graph")),t.append(this.create_div("≡","sparqling_resize_button",null,()=>this.change_size(50),"center")),t.append(this.create_div("▼","sparqling_resize_button",null,()=>this.change_size(10),"expand sparql")),t}set_invisible(){var t,e,n,i,r,o,s,a;for(e=0,i=(o=document.getElementsByClassName("sparqling_menu_button")).length;e<i;e++)(t=o[e]).style.display="none";for(a=[],n=0,r=(s=document.getElementsByClassName("sparqling_resize_button")).length;n<r;n++)t=s[n],a.push(t.style.display="none");return a}set_visible(){var t,e,n,i,r,o,s,a;for(e=0,i=(o=document.getElementsByClassName("sparqling_menu_button")).length;e<i;e++)(t=o[e]).style.display="inline-block";for(a=[],n=0,r=(s=document.getElementsByClassName("sparqling_resize_button")).length;n<r;n++)t=s[n],a.push(t.style.display="inline-block");return a}init(){var t;return t=this.create_div(null,null,"painless_menu"),document.getElementById("sidenav").append(t),t.append(this.create_navigation_div()),"PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX : <http://www.aci.it/ontology#> PREFIX xml: <http://www.w3.org/XML/1998/namespace> PREFIX aci: <http://www.aci.it/ontology#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> Select ?idVeicolo ?inizioStato ?fineStato ?idFormalitaGeneratrice ?idFormalitaOriginaria ?codiceFormalitaOriginaria ?dataAccettazioneFormalitaOriginaria ?ufficioCompetenteFormalitaOriginaria ?serieTarga ?numeroTarga ?serieTargaPrecedente ?numeroTargaPrecedente ?telaio ?kw ?cilindrata ?peso ?portata ?tara ?classe ?uso ?carrozzeria ?specialita ?alimentazione ?alimentazioneDTT ?dataImmatricolazione ?codiceUltimaFormalitaDiParte ?dataUltimaFormalitaDiParte where { ?veicolo aci:ID_veicolo ?idVeicolo. ?veicolo aci:ha_stato_di_veicolo ?stato. ?stato a aci:Stato_rappresentato_valido. ?stato aci:ha_targa ?targa. ?targa aci:numero_targa ?numeroTarga. ?targa aci:serie_targa ?serieTarga. ?stato aci:ha_formalita_originaria ?formalitaOriginaria. ?formalitaOriginaria aci:ID_formalita ?idFormalitaOriginaria. ?formalitaOriginaria aci:codice_tipo ?codiceFormalitaOriginaria. ?evento aci:determina_stato ?stato. ?formalitaGeneratrice aci:formalita_genera_evento ?evento. ?formalitaGeneratrice aci:ID_formalita ?idFormalitaGeneratrice. ?stato aci:inizio_stato_del_mondo ?inizioStato. ?stato aci:fine_stato_del_mondo ?fineStato. ?formalitaOriginaria aci:data_accettazione_formalita ?dataAccettazioneFormalitaOriginaria. ?formalitaOriginaria aci:est_di_competenza_di_ufficio ?ufficio. ?ufficio aci:descrizione_ufficio ?ufficioCompetenteFormalitaOriginaria. ?stato aci:codice_tipo_ultima_formalita_di_parte ?codiceUltimaFormalitaDiParte. ?stato aci:data_accettazione_ultima_formalita_di_parte ?dataUltimaFormalitaDiParte. ?stato aci:ha_targa_precedente ?targaPrecedente. ?targaPrecedente aci:numero_targa ?numeroTargaPrecedente. ?targaPrecedente  aci:serie_targa ?serieTargaPrecedente. ?stato aci:numero_telaio ?telaio. ?stato aci:kw ?kw. ?stato aci:cilindrata ?cilindrata. ?stato aci:peso_complessivo ?peso. ?stato aci:portata ?portata. ?stato aci:tara ?tara. ?stato aci:classe_veicolo ?classe. ?stato aci:destinazione_di_uso ?uso. ?stato aci:carrozzeria ?carrozzeria. ?stato aci:descrizione_specialita ?specialita. ?stato aci:data_immatricolazione ?dataImmatricolazione. ?stato aci:alimentazione ?alimentazione. ?stato aci:alimentazione_DTT ?alimentazioneDTT. }",t.append(this.create_div('<i class="material-icons" style="font-size: 18px">undo</i>',"sparqling_menu_button",null,()=>this.context.graph.undo(),"undo")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">play_arrow</i>',"sparqling_menu_button",null,()=>this.context.storage.setItem("SPARQLING_QUERY",this.context.graph.sparql_text.generate_plaintext_query(),window.location="/queryanswering"),"run query")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">filter_center_focus</i>',"sparqling_menu_button",null,()=>this.context.graph.center_view(),"center view")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">file_copy</i>',"sparqling_menu_button",null,()=>this.context.graph.copy_to_clipboard(),"copy to clipboard")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">clear_all</i>',"sparqling_menu_button",null,()=>this.context.graph.clear_all(),"clear all"))}},window.SparqlingNavbar=function(){var t;return t=0,class{constructor(t){this.create_sidenav=this.create_sidenav.bind(this),this.resize_navbar=this.resize_navbar.bind(this),this.context=t,this.create_sidenav()}create_sidenav(){var e,n,i,r;return this.side_nav_container=document.createElement("div"),this.side_nav_container.id="sidenav_container",this.grapholscape_container=document.getElementById("grapholscape-container"),this.grapholscape_container.appendChild(this.side_nav_container),this.context.graphol_cy.resize(),(n=document.createElement("div")).id="slider",sidenav_container.appendChild(n),(i=document.createElement("div")).innerHTML='<i class="material-icons">keyboard_arrow_left</i>',i.className="slider_button",i.onclick=(()=>this.resize_navbar(t+25)),n.appendChild(i),(i=document.createElement("div")).innerHTML='<i class="material-icons">keyboard_arrow_right</i>',i.className="slider_button",i.onclick=(()=>this.resize_navbar(t-25)),n.appendChild(i),(e=document.createElement("div")).innerHTML='<i class="material-icons">add</i><p style="font-size:xx-small; margin-top: -5px">query</p>',e.className="slider_button_down",e.onclick=(()=>this.context.add_to_query()),n.appendChild(e),this.side_nav=document.createElement("div"),this.side_nav.id="sidenav",this.side_nav.style.width=t+"%",this.side_nav_container.appendChild(this.side_nav),(r=document.createElement("div")).id="sparql_textbox",r.innerHTML="sparql_query_here",this.side_nav.appendChild(r),this.query_canvas=document.createElement("div"),this.query_canvas.id="query_canvas",this.side_nav.appendChild(this.query_canvas),this.resize_navbar()}resize_navbar(e=t){var n,i,r,o,s,a,u;return(t=e)<0&&(t=0),t>75&&(t=75),i=this.grapholscape_container.clientWidth,n=document.getElementById("center_button"),u=document.getElementById("zoom_tools"),a=document.getElementById("owl_translator"),o=document.getElementById("explorer"),r=document.getElementById("details"),s=document.getElementById("grapholscape-fullscreen-btn"),null!=n&&(n.style.right=t*i/100+50+"px",n.style.transitionDuration="0.1s"),null!=u&&(u.style.right=t*i/100+50+"px",u.style.transitionDuration="0.1s"),void 0!==document.getElementById("cy")&&null!==document.getElementById("cy")&&(document.getElementById("cy").style.width=(100-t)*i/100+0+"px"),null!=a&&(a.style.transitionDuration="0.1s",a.style.left=(100-t)/2+"%",a.style.display=t>50?"none":"block"),null!=o&&(o.style.transitionDuration="0.1s",o.style.left=(100-t)/2+"%",o.style.display=t>50?"none":"block"),null!=r&&(r.style.right=t*i/100+60+"px",r.style.transitionDuration="0.1s",r.style.display=t>25?"none":"block"),null!=s&&(s.style.right=t*i/100+50+"px",s.style.transitionDuration="0.1s"),100!==t?(this.side_nav_container.style.width=t*i/100+30+"px",this.side_nav.style.width=t*i/100+"px"):(this.side_nav_container.style.width=t*i/100+"px",this.side_nav.style.width=t*i/100-30+"px"),0===t?void 0!==this.context.menu&&(this.context.menu.set_invisible(),this.context.menu.change_size(50)):void 0!==this.context.menu&&(this.context.menu.set_visible(),this.context.menu.change_size(50)),this.context.graphol_cy.resize(),setTimeout(()=>this.context.graph.cy.resize(),150)}}}.call(this),window.SparqlingStorage=function(){class t{constructor(e,n=t.prototype.Type.SESSION){this.context=e,this.type=n,this.initStorage()}initStorage(){if(!this.storageAvailable(this.type))throw`${this.type} is not available`;return this.storage=window[this.type]}storageAvailable(t){var e,n,i;try{return n=window[t],i="__storage_test__",n.setItem(i,i),n.removeItem(i),!0}catch(t){return(e=t)instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==n.length}}setItem(t,e){return this.storage.setItem(t,e)}getItem(t){return this.storage.getItem(t)}hasItem(t){return null!==this.storage.getItem(t)}removeItem(t){return this.storage.removeItem(t)}clear(){return this.storage.clear()}}return t.prototype.Type={LOCAL:"localStorage",SESSION:"sessionStorage"},t}.call(this),window.PainlessUtils=class{constructor(){this.a=0}generate_style(){return(new cytoscape.stylesheet).selector("edge").style({"curve-style":"bezier",width:3,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","arrow-scale":1.5,"line-color":"#839496","font-family":"Roboto","font-size":"10","text-outline-color":"#fdf6e3","text-outline-width":"2px",color:"#002b36"}).selector(".source-edge").style({"target-arrow-shape":"square","target-arrow-fill":"hollow","target-arrow-color":"#002b36"}).selector(".target-edge").style({"target-arrow-shape":"square","target-arrow-color":"#002b36"}).selector(".edge-datatype").style({"line-style":"dotted"}).selector(".edge-concept").style({content:"rdf:type"}).selector("node").style({"background-color":"black",shape:"rectangle"}).selector(".node-domain").style({"background-color":"#002b36","border-color":"#002b36","border-style":"solid","border-width":"0.5px",width:15,height:15}).selector(".node-range").style({"background-color":"#fdf6e3","border-color":"#002b36","border-style":"solid","border-width":"2px",width:15,height:15}).selector(".node-datatype").style({shape:"ellipse","background-color":"#93a1a1",content:"data(label)","text-valign":"center","font-family":"Roboto","font-size":"12",width:15,height:15}).selector(".node-role").style({shape:"diamond","background-color":"#fdf6e3","border-style":"solid","border-color":"#002b36",color:"#002b36","border-width":"4px",content:"data(label)","text-valign":"center","font-family":"Roboto","text-outline-color":"#fdf6e3","text-outline-width":"3px",width:90,height:60}).selector(".node-attribute").style({shape:"ellipse","background-color":"#fdf6e3","border-style":"solid","border-color":"#002b36",color:"#002b36","border-width":"4px",content:"data(label)","text-valign":"center","font-family":"Roboto","text-outline-color":"#fdf6e3","text-outline-width":"3px",width:30,height:30}).selector(".node-variable").style({shape:"ellipse","background-color":function(t){return t.data("color")},width:function(t){return 100},height:function(t){return 100},"text-valign":"center","font-size":"30","font-family":"Roboto",color:"#fdf6e3","text-outline-color":function(t){return t.data("color")},"text-outline-width":"5px",content:"data(label)"}).selector(".node-constant-value").style({shape:"ellipse","background-color":function(t){return t.data("color")},width:function(t){return 100},height:function(t){return 100},"text-valign":"center","font-size":"20","font-family":"Roboto",color:"#fdf6e3","text-outline-color":"#fdf6e3","text-outline-width":"0px",content:"data(label)"}).selector(".node-constant-object").style({shape:"ellipse","background-color":function(t){return t.data("color")},width:function(t){return 100},height:function(t){return 100},"text-valign":"center","font-size":"20","font-family":"Roboto",color:"#fdf6e3","text-outline-color":"#fdf6e3","text-outline-width":"0px",content:"data(label)"}).selector(".node-concept").style({shape:"rectangle","background-color":"#073642",content:"data(label)","text-valign":"center",width:function(t){return 10*t.data("label").length+50},height:"80","border-color":"#073642","border-width":"2px","font-family":"Roboto","font-size":"20",color:"#fdf6e3","border-style":"solid"}).selector("node.highlight").style({"border-color":"#333","border-opacity":"0.5","border-width":"20px","border-style":"solid"}).selector("node.filtered").style({"border-color":"#ff0000","border-opacity":"1","border-width":"20px","border-style":"double"}).selector("node:selected").style({"border-color":"#daa","border-opacity":"0.5","border-width":"20px","border-style":"solid"})}},window.Void=class{constructor(t,e,n){this.to_html=this.to_html.bind(this),this.div=document.createElement("div"),this.div.className="void_box",this.div.contentEditable=!0,this.val=n,this.div.innerHTML=this.val,jQuery(this.div).data("parent",t),this.position=e,this.div.dataset.filter_position=e,this.div.style.transitionDuration="0.1s"}to_html(){return this.div}};