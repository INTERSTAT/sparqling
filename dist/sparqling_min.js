var palette,state_buffer_max_length;palette=["b58900","cb4b16","dc322f","d33682","6c71c4","268bd2","2aa198","859900"],state_buffer_max_length=20,function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var n=[],i=t.document,r=Object.getPrototypeOf,o=n.slice,s=n.concat,a=n.push,u=n.indexOf,c={},l=c.toString,h=c.hasOwnProperty,d=h.toString,p=d.call(Object),f={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},v=function(t){return null!=t&&t===t.window},y={type:!0,src:!0,noModule:!0};function m(t,e,n){var r,o=(e=e||i).createElement("script");if(o.text=t,n)for(r in y)n[r]&&(o[r]=n[r]);e.head.appendChild(o).parentNode.removeChild(o)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[l.call(t)]||"object":typeof t}var _=function(t,e){return new _.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!g(t)&&!v(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}_.fn=_.prototype={jquery:"3.3.1",constructor:_,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=_.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _.each(this,t)},map:function(t){return this.pushStack(_.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(c&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&_.isPlainObject(n)?n:{},s[e]=_.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},_.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==l.call(t))&&(!(e=r(t))||"function"==typeof(n=h.call(e,"constructor")&&e.constructor)&&d.call(n)===p)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){m(t)},each:function(t,e){var n,i=0;if(w(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(w(Object(t))?_.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(w(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return s.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){c["[object "+e+"]"]=e.toLowerCase()});var E=function(t){var e,n,i,r,o,s,a,u,c,l,h,d,p,f,g,v,y,m,b,_="sizzle"+1*new Date,x=t.document,w=0,E=0,k=st(),T=st(),C=st(),A=function(t,e){return t===e&&(h=!0),0},S={}.hasOwnProperty,F=[],D=F.pop,L=F.push,N=F.push,P=F.slice,I=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",q="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",j=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),H=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),z=new RegExp("^"+M+"*,"+M+"*"),$=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),G=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),U=new RegExp(j),V=new RegExp("^"+R+"$"),X={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},rt=mt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{N.apply(F=P.call(x.childNodes),x.childNodes),F[x.childNodes.length].nodeType}catch(t){N={apply:F.length?function(t,e){L.apply(t,P.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,c,l,h,f,y,m=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==p&&d(e),e=e||p,g)){if(11!==w&&(h=Z.exec(t)))if(o=h[1]){if(9===w){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(m&&(c=m.getElementById(o))&&b(e,c)&&c.id===o)return i.push(c),i}else{if(h[2])return N.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return N.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!C[t+" "]&&(!v||!v.test(t))){if(1!==w)m=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=_),a=(f=s(t)).length;a--;)f[a]="#"+l+" "+yt(f[a]);y=f.join(","),m=K.test(t)&&gt(e.parentNode)||e}if(y)try{return N.apply(i,m.querySelectorAll(y)),i}catch(t){}finally{l===_&&e.removeAttribute("id")}}}return u(t.replace(H,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[_]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return at(function(e){return e=+e,at(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ut(function(t){return f.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},y=[],v=[],(n.qsa=Q.test(p.querySelectorAll))&&(ut(function(t){f.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Q.test(m=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),y.push("!=",j)}),v=v.length&&new RegExp(v.join("|")),y=y.length&&new RegExp(y.join("|")),e=Q.test(f.compareDocumentPosition),b=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===x&&b(x,t)?-1:e===p||e.ownerDocument===x&&b(x,e)?1:l?I(l,t)-I(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:l?I(l,t)-I(l,e):0;if(r===o)return lt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?lt(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),e=e.replace(G,"='$1']"),n.matchesSelector&&g&&!C[e+" "]&&(!y||!y.test(e))&&(!v||!v.test(e)))try{var i=m.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&S.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return l=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+M+")"+t+"("+M+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,y=a&&e.nodeName.toLowerCase(),m=!u&&!a,b=!1;if(v){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?v.firstChild:v.lastChild],s&&m){for(b=(p=(c=(l=(h=(d=v)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],d=p&&v.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){l[t]=[w,p,b];break}}else if(m&&(b=p=(c=(l=(h=(d=e)[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===b)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++b||(m&&((l=(h=d[_]||(d[_]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[w,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=I(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:at(function(t){var e=[],n=[],i=a(t.replace(H,"$1"));return i[_]?at(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return V.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return W.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,n){return[n<0?n+e:n]}),even:ft(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ft(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ft(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:ft(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function vt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,u){var c,l,h,d=[w,a];if(u){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(l=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=l[o])&&c[0]===w&&c[1]===a)return d[2]=c[2];if(l[o]=d,d[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function xt(t,e,n,i,r,o){return i&&!i[_]&&(i=xt(i)),r&&!r[_]&&(r=xt(r,o)),at(function(o,s,a,u){var c,l,h,d=[],p=[],f=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:_t(g,d,t,a,u),y=n?r||(o?t:f||i)?[]:s:v;if(n&&n(v,y,a,u),i)for(c=_t(y,p),i(c,[],a,u),l=c.length;l--;)(h=c[l])&&(y[p[l]]=!(v[p[l]]=h));if(o){if(r||t){if(r){for(c=[],l=y.length;l--;)(h=y[l])&&c.push(v[l]=h);r(null,y=[],c,u)}for(l=y.length;l--;)(h=y[l])&&(c=r?I(o,h):d[l])>-1&&(o[c]=!(s[c]=h))}}else y=_t(y===s?y.splice(f,y.length):y),r?r(null,s,y,u):N.apply(s,y)})}function wt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],u=s?1:0,l=mt(function(t){return t===e},a,!0),h=mt(function(t){return I(e,t)>-1},a,!0),d=[function(t,n,i){var r=!s&&(i||n!==c)||((e=n).nodeType?l(t,n,i):h(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])d=[mt(bt(d),n)];else{if((n=i.filter[t[u].type].apply(null,t[u].matches))[_]){for(r=++u;r<o&&!i.relative[t[r].type];r++);return xt(u>1&&bt(d),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(H,"$1"),n,u<r&&wt(t.slice(u,r)),r<o&&wt(t=t.slice(r)),r<o&&yt(t))}d.push(n)}return bt(d)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=ot.tokenize=function(t,e){var n,r,o,s,a,u,c,l=T[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=i.preFilter;a;){for(s in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):T(t,u).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=C[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=wt(e[n]))[_]?r.push(a):o.push(a);(a=C(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,u,l){var h,f,v,y=0,m="0",b=o&&[],_=[],x=c,E=o||r&&i.find.TAG("*",l),k=w+=null==x?1:Math.random()||.1,T=E.length;for(l&&(c=s===p||s||l);m!==T&&null!=(h=E[m]);m++){if(r&&h){for(f=0,s||h.ownerDocument===p||(d(h),a=!g);v=t[f++];)if(v(h,s||p,a)){u.push(h);break}l&&(w=k)}n&&((h=!v&&h)&&y--,o&&b.push(h))}if(y+=m,n&&m!==y){for(f=0;v=e[f++];)v(b,_,s,a);if(o){if(y>0)for(;m--;)b[m]||_[m]||(_[m]=D.call(u));_=_t(_)}N.apply(u,_),l&&!o&&_.length>0&&y+e.length>1&&ot.uniqueSort(u)}return l&&(w=k,c=x),b};return n?at(o):o}(o,r))).selector=t}return a},u=ot.select=function(t,e,n,r){var o,u,c,l,h,d="function"==typeof t&&t,p=!r&&s(t=d.selector||t);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&g&&i.relative[u[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=X.needsContext.test(t)?0:u.length;o--&&(c=u[o],!i.relative[l=c.type]);)if((h=i.find[l])&&(r=h(c.matches[0].replace(J,tt),K.test(u[0].type)&&gt(e.parentNode)||e))){if(u.splice(o,1),!(t=r.length&&yt(u)))return N.apply(n,r),n;break}}return(d||a(t,p))(r,e,!g,n,!e||K.test(t)&&gt(e.parentNode)||e),n},n.sortStable=_.split("").sort(A).join("")===_,n.detectDuplicates=!!h,d(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(O,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(t);_.find=E,_.expr=E.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=E.uniqueSort,_.text=E.getText,_.isXMLDoc=E.isXML,_.contains=E.contains,_.escapeSelector=E.escape;var k=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&_(t).is(n))break;i.push(t)}return i},T=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},C=_.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(t,e,n){return g(e)?_.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?_.grep(t,function(t){return t===e!==n}):"string"!=typeof e?_.grep(t,function(t){return u.call(e,t)>-1!==n}):_.filter(e,t,n)}_.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?_.find.matchesSelector(i,t)?[i]:[]:_.find.matches(t,_.grep(e,function(t){return 1===t.nodeType}))},_.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(_(t).filter(function(){for(e=0;e<i;e++)if(_.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)_.find(t,r[e],n);return i>1?_.uniqueSort(n):n},filter:function(t){return this.pushStack(F(this,t||[],!1))},not:function(t){return this.pushStack(F(this,t||[],!0))},is:function(t){return!!F(this,"string"==typeof t&&C.test(t)?_(t):t||[],!1).length}});var D,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||D,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof _?e[0]:e,_.merge(this,_.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:i,!0)),S.test(r[1])&&_.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(_):_.makeArray(t,this)}).prototype=_.fn,D=_(i);var N=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}_.fn.extend({has:function(t){var e=_(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(_.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&_(t);if(!C.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?u.call(_(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return k(t,"parentNode")},parentsUntil:function(t,e,n){return k(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return k(t,"nextSibling")},prevAll:function(t){return k(t,"previousSibling")},nextUntil:function(t,e,n){return k(t,"nextSibling",n)},prevUntil:function(t,e,n){return k(t,"previousSibling",n)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),_.merge([],t.childNodes))}},function(t,e){_.fn[t]=function(n,i){var r=_.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_.filter(i,r)),this.length>1&&(P[t]||_.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}});var O=/[^\x20\t\r\n\f]+/g;function M(t){return t}function R(t){throw t}function q(t,e,n,i){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(n):t&&g(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}_.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return _.each(t.match(O)||[],function(t,n){e[n]=!0}),e}(t):_.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){_.each(n,function(n,i){g(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return _.each(arguments,function(t,e){for(var n;(n=_.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?_.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},_.extend({Deferred:function(e){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return _.Deferred(function(e){_.each(n,function(n,i){var r=g(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){var o=0;function s(e,n,i,r){return function(){var a=this,u=arguments,c=function(){var t,c;if(!(e<o)){if((t=i.apply(a,u))===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,g(c)?r?c.call(t,s(o,n,M,r),s(o,n,R,r)):(o++,c.call(t,s(o,n,M,r),s(o,n,R,r),s(o,n,M,n.notifyWith))):(i!==M&&(a=void 0,u=[t]),(r||n.resolveWith)(a,u))}},l=r?c:function(){try{c()}catch(t){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(t,l.stackTrace),e+1>=o&&(i!==R&&(a=void 0,u=[t]),n.rejectWith(a,u))}};e?l():(_.Deferred.getStackHook&&(l.stackTrace=_.Deferred.getStackHook()),t.setTimeout(l))}}return _.Deferred(function(t){n[0][3].add(s(0,t,g(r)?r:M,t.notifyWith)),n[1][3].add(s(0,t,g(e)?e:M)),n[2][3].add(s(0,t,g(i)?i:R))}).promise()},promise:function(t){return null!=t?_.extend(t,r):r}},o={};return _.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=o.call(arguments),s=_.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?o.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(q(t,s.done(a(n)).resolve,s.reject,!e),"pending"===s.state()||g(r[n]&&r[n].then)))return s.then();for(;n--;)q(r[n],a(n),s.reject);return s.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&j.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},_.readyException=function(e){t.setTimeout(function(){throw e})};var B=_.Deferred();function H(){i.removeEventListener("DOMContentLoaded",H),t.removeEventListener("load",H),_.ready()}_.fn.ready=function(t){return B.then(t).catch(function(t){_.readyException(t)}),this},_.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==t&&--_.readyWait>0||B.resolveWith(i,[_]))}}),_.ready.then=B.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(_.ready):(i.addEventListener("DOMContentLoaded",H),t.addEventListener("load",H));var z=function(t,e,n,i,r,o,s){var a=0,u=t.length,c=null==n;if("object"===b(n))for(a in r=!0,n)z(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,g(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(_(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):u?e(t[0],n):o},$=/^-ms-/,G=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function V(t){return t.replace($,"ms-").replace(G,U)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function W(){this.expando=_.expando+W.uid++}W.uid=1,W.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[V(e)]=n;else for(i in e)r[V(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(O)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||_.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_.isEmptyObject(e)}};var Y=new W,Q=new W,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function J(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(K,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}_.extend({hasData:function(t){return Q.hasData(t)||Y.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),_.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=V(i.slice(5)),J(o,i,r[i]));Y.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):z(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=J(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),_.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=_.queue(t,e),i=n.length,r=n.shift(),o=_._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){_.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Y.get(t,n)||Y.access(t,n,{empty:_.Callbacks("once memory").add(function(){Y.remove(t,[e+"queue",n])})})}}),_.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?_.queue(this[0],t):void 0===e?this:this.each(function(){var n=_.queue(this,t,e);_._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_.dequeue(this,t)})},dequeue:function(t){return this.each(function(){_.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=_.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Y.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&_.contains(t.ownerDocument,t)&&"none"===_.css(t,"display")},rt=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ot(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return _.css(t,e,"")},u=a(),c=n&&n[3]||(_.cssNumber[e]?"":"px"),l=(_.cssNumber[e]||"px"!==c&&+u)&&et.exec(_.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)_.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,_.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=l,i.end=r)),r}var st={};function at(t){var e,n=t.ownerDocument,i=t.nodeName,r=st[i];return r||(e=n.body.appendChild(n.createElement(i)),r=_.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),st[i]=r,r)}function ut(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Y.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&it(i)&&(r[o]=at(i))):"none"!==n&&(r[o]="none",Y.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}_.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){it(this)?_(this).show():_(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?_.merge([t],n):n}function ft(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],"globalEval",!e||Y.get(e[n],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var gt,vt,yt=/<|&#?\w+;/;function mt(t,e,n,i,r){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===b(o))_.merge(d,o.nodeType?[o]:o);else if(yt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(lt.exec(o)||["",""])[1].toLowerCase(),u=dt[a]||dt._default,s.innerHTML=u[1]+_.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;_.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&_.inArray(o,i)>-1)r&&r.push(o);else if(c=_.contains(o.ownerDocument,o),s=pt(h.appendChild(o),"script"),c&&ft(s),n)for(l=0;o=s[l++];)ht.test(o.type||"")&&n.push(o);return h}gt=i.createDocumentFragment().appendChild(i.createElement("div")),(vt=i.createElement("input")).setAttribute("type","radio"),vt.setAttribute("checked","checked"),vt.setAttribute("name","t"),gt.appendChild(vt),f.checkClone=gt.cloneNode(!0).cloneNode(!0).lastChild.checked,gt.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!gt.cloneNode(!0).lastChild.defaultValue;var bt=i.documentElement,_t=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function Et(){return!0}function kt(){return!1}function Tt(){try{return i.activeElement}catch(t){}}function Ct(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Ct(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=kt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return _().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),t.each(function(){_.event.add(this,e,r,i,n)})}_.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,c,l,h,d,p,f,g,v=Y.get(t);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_.find.matchesSelector(bt,r),n.guid||(n.guid=_.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==_&&_.event.triggered!==e.type?_.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(O)||[""]).length;c--;)p=g=(a=wt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=_.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=_.event.special[p]||{},l=_.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=u[p])||((d=u[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,f,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,l):d.push(l),_.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,u,c,l,h,d,p,f,g,v=Y.hasData(t)&&Y.get(t);if(v&&(u=v.events)){for(c=(e=(e||"").match(O)||[""]).length;c--;)if(p=g=(a=wt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=_.event.special[p]||{},d=u[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)l=d[o],!r&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,h.remove&&h.remove.call(t,l));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,v.handle)||_.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)_.event.remove(t,p+e[c],n,i,!0);_.isEmptyObject(u)&&Y.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=_.event.fix(t),u=new Array(arguments.length),c=(Y.get(this,"events")||{})[a.type]||[],l=_.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=_.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?_(r,this).index(c)>-1:_.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(_.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_.expando]?t:new _.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Tt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Tt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_.Event=function(t,e){if(!(this instanceof _.Event))return new _.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Et:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Et,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Et,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Et,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&_t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_.event.addProp),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){_.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||_.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),_.fn.extend({on:function(t,e,n,i){return Ct(this,t,e,n,i)},one:function(t,e,n,i){return Ct(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,_(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each(function(){_.event.remove(this,t,n,e)})}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,St=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&_(t).children("tbody")[0]||t}function Nt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var n,i,r,o,s,a,u,c;if(1===e.nodeType){if(Y.hasData(t)&&(o=Y.access(t),s=Y.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)_.event.add(e,r,c[r][n]);Q.hasData(t)&&(a=Q.access(t),u=_.extend({},a),Q.set(e,u))}}function Ot(t,e,n,i){e=s.apply([],e);var r,o,a,u,c,l,h=0,d=t.length,p=d-1,v=e[0],y=g(v);if(y||d>1&&"string"==typeof v&&!f.checkClone&&Ft.test(v))return t.each(function(r){var o=t.eq(r);y&&(e[0]=v.call(this,r,o.html())),Ot(o,e,n,i)});if(d&&(o=(r=mt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(u=(a=_.map(pt(r,"script"),Nt)).length;h<d;h++)c=r,h!==p&&(c=_.clone(c,!0,!0),u&&_.merge(a,pt(c,"script"))),n.call(t[h],c,h);if(u)for(l=a[a.length-1].ownerDocument,_.map(a,Pt),h=0;h<u;h++)c=a[h],ht.test(c.type||"")&&!Y.access(c,"globalEval")&&_.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&_._evalUrl(c.src):m(c.textContent.replace(Dt,""),l,c))}return t}function Mt(t,e,n){for(var i,r=e?_.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(pt(i)),i.parentNode&&(n&&_.contains(i.ownerDocument,i)&&ft(pt(i,"script")),i.parentNode.removeChild(i));return t}_.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u,c,l=t.cloneNode(!0),h=_.contains(t.ownerDocument,t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_.isXMLDoc(t)))for(s=pt(l),i=0,r=(o=pt(t)).length;i<r;i++)a=o[i],u=s[i],void 0,"input"===(c=u.nodeName.toLowerCase())&&ct.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||pt(t),s=s||pt(l),i=0,r=o.length;i<r;i++)It(o[i],s[i]);else It(t,l);return(s=pt(l,"script")).length>0&&ft(s,!h&&pt(t,"script")),l},cleanData:function(t){for(var e,n,i,r=_.event.special,o=0;void 0!==(n=t[o]);o++)if(X(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),_.fn.extend({detach:function(t){return Mt(this,t,!0)},remove:function(t){return Mt(this,t)},text:function(t){return z(this,function(t){return void 0===t?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ot(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)})},prepend:function(){return Ot(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_.cleanData(pt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!St.test(t)&&!dt[(lt.exec(t)||["",""])[1].toLowerCase()]){t=_.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(_.cleanData(pt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ot(this,arguments,function(e){var n=this.parentNode;_.inArray(this,t)<0&&(_.cleanData(pt(this)),n&&n.replaceChild(e,this))},t)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){_.fn[t]=function(t){for(var n,i=[],r=_(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_(r[s])[e](n),a.apply(i,n.get());return this.pushStack(i)}});var Rt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),qt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},jt=new RegExp(nt.join("|"),"i");function Bt(t,e,n){var i,r,o,s,a=t.style;return(n=n||qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||_.contains(t.ownerDocument,t)||(s=_.style(t,e)),!f.pixelBoxStyles()&&Rt.test(s)&&jt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ht(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bt.appendChild(c).appendChild(l);var e=t.getComputedStyle(l);r="1%"!==e.top,u=12===n(e.marginLeft),l.style.right="60%",a=36===n(e.right),o=36===n(e.width),l.style.position="absolute",s=36===l.offsetWidth||"absolute",bt.removeChild(c),l=null}}function n(t){return Math.round(parseFloat(t))}var r,o,s,a,u,c=i.createElement("div"),l=i.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===l.style.backgroundClip,_.extend(f,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),s}}))}();var zt=/^(none|table(?!-c[ea]).+)/,$t=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},Ut={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","Moz","ms"],Xt=i.createElement("div").style;function Wt(t){var e=_.cssProps[t];return e||(e=_.cssProps[t]=function(t){if(t in Xt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Xt)return t}(t)||t),e}function Yt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Qt(t,e,n,i,r,o){var s="width"===e?1:0,a=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=_.css(t,n+nt[s],!0,r)),i?("content"===n&&(u-=_.css(t,"padding"+nt[s],!0,r)),"margin"!==n&&(u-=_.css(t,"border"+nt[s]+"Width",!0,r))):(u+=_.css(t,"padding"+nt[s],!0,r),"padding"!==n?u+=_.css(t,"border"+nt[s]+"Width",!0,r):a+=_.css(t,"border"+nt[s]+"Width",!0,r));return!i&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function Zt(t,e,n){var i=qt(t),r=Bt(t,e,i),o="border-box"===_.css(t,"boxSizing",!1,i),s=o;if(Rt.test(r)){if(!n)return r;r="auto"}return s=s&&(f.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===_.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Qt(t,e,n||(o?"border":"content"),s,i,r)+"px"}function Kt(t,e,n,i,r){return new Kt.prototype.init(t,e,n,i,r)}_.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Bt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=V(e),u=$t.test(e),c=t.style;if(u||(e=Wt(a)),s=_.cssHooks[e]||_.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e];"string"===(o=typeof n)&&(r=et.exec(n))&&r[1]&&(n=ot(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(_.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,s,a=V(e);return $t.test(e)||(e=Wt(a)),(s=_.cssHooks[e]||_.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Bt(t,e,i)),"normal"===r&&e in Ut&&(r=Ut[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each(["height","width"],function(t,e){_.cssHooks[e]={get:function(t,n,i){if(n)return!zt.test(_.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Zt(t,e,i):rt(t,Gt,function(){return Zt(t,e,i)})},set:function(t,n,i){var r,o=qt(t),s="border-box"===_.css(t,"boxSizing",!1,o),a=i&&Qt(t,e,i,s,o);return s&&f.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Qt(t,e,"border",!1,o)-.5)),a&&(r=et.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=_.css(t,e)),Yt(0,n,a)}}}),_.cssHooks.marginLeft=Ht(f.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(t,e){_.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+nt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(_.cssHooks[t+e].set=Yt)}),_.fn.extend({css:function(t,e){return z(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=qt(t),r=e.length;s<r;s++)o[e[s]]=_.css(t,e[s],!1,i);return o}return void 0!==n?_.style(t,e,n):_.css(t,e)},t,e,arguments.length>1)}}),_.Tween=Kt,Kt.prototype={constructor:Kt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||_.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var t=Kt.propHooks[this.prop];return t&&t.get?t.get(this):Kt.propHooks._default.get(this)},run:function(t){var e,n=Kt.propHooks[this.prop];return this.options.duration?this.pos=e=_.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Kt.propHooks._default.set(this),this}},Kt.prototype.init.prototype=Kt.prototype,Kt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){_.fx.step[t.prop]?_.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[_.cssProps[t.prop]]&&!_.cssHooks[t.prop]?t.elem[t.prop]=t.now:_.style(t.elem,t.prop,t.now+t.unit)}}},Kt.propHooks.scrollTop=Kt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_.fx=Kt.prototype.init,_.fx.step={};var Jt,te,ee=/^(?:toggle|show|hide)$/,ne=/queueHooks$/;function ie(){te&&(!1===i.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ie):t.setTimeout(ie,_.fx.interval),_.fx.tick())}function re(){return t.setTimeout(function(){Jt=void 0}),Jt=Date.now()}function oe(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function se(t,e,n){for(var i,r=(ae.tweeners[e]||[]).concat(ae.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ae(t,e,n){var i,r,o=0,s=ae.prefilters.length,a=_.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Jt||re(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:_.extend({},e),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:e,originalOptions:n,startTime:Jt||re(),duration:n.duration,tweens:[],createTween:function(e,n){var i=_.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=V(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=_.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(l,c.opts.specialEasing);o<s;o++)if(i=ae.prefilters[o].call(c,t,l,c.opts))return g(i.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return _.map(l,se,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ae,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ot(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(O);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ae.tweeners[n]=ae.tweeners[n]||[],ae.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,u,c,l,h="width"in e||"height"in e,d=this,p={},f=t.style,g=t.nodeType&&it(t),v=Y.get(t,"fxshow");for(i in n.queue||(null==(s=_._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,_.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],ee.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||_.style(t,i)}if((u=!_.isEmptyObject(e))||!_.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=v&&v.display)&&(c=Y.get(t,"display")),"none"===(l=_.css(t,"display"))&&(c?l=c:(ut([t],!0),c=t.style.display||c,l=_.css(t,"display"),ut([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===_.css(t,"float")&&(u||(d.done(function(){f.display=c}),null==c&&(l=f.display,c="none"===l?"":l)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),u=!1,p)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(t,"fxshow",{display:c}),o&&(v.hidden=!g),g&&ut([t],!0),d.done(function(){for(i in g||ut([t]),Y.remove(t,"fxshow"),p)_.style(t,i,p[i])})),u=se(g?v[i]:0,i,d),i in v||(v[i]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ae.prefilters.unshift(t):ae.prefilters.push(t)}}),_.speed=function(t,e,n){var i=t&&"object"==typeof t?_.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _.fx.speeds?i.duration=_.fx.speeds[i.duration]:i.duration=_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(t,e,n,i){return this.filter(it).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=_.isEmptyObject(t),o=_.speed(e,n,i),s=function(){var e=ae(this,_.extend({},t),o);(r||Y.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=_.timers,s=Y.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ne.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||_.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Y.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=_.timers,s=i?i.length:0;for(n.finish=!0,_.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),_.each(["toggle","show","hide"],function(t,e){var n=_.fn[e];_.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(oe(e,!0),t,i,r)}}),_.each({slideDown:oe("show"),slideUp:oe("hide"),slideToggle:oe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){_.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),_.timers=[],_.fx.tick=function(){var t,e=0,n=_.timers;for(Jt=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||_.fx.stop(),Jt=void 0},_.fx.timer=function(t){_.timers.push(t),_.fx.start()},_.fx.interval=13,_.fx.start=function(){te||(te=!0,ie())},_.fx.stop=function(){te=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(e,n){return e=_.fx&&_.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=i.createElement("input"),e=i.createElement("select").appendChild(i.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=i.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var ue,ce=_.expr.attrHandle;_.fn.extend({attr:function(t,e){return z(this,_.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){_.removeAttr(this,t)})}}),_.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?_.prop(t,e,n):(1===o&&_.isXMLDoc(t)||(r=_.attrHooks[e.toLowerCase()]||(_.expr.match.bool.test(e)?ue:void 0)),void 0!==n?null===n?void _.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=_.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(O);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ue={set:function(t,e,n){return!1===e?_.removeAttr(t,n):t.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ce[e]||_.find.attr;ce[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=ce[s],ce[s]=r,r=null!=n(t,e,i)?s:null,ce[s]=o),r}});var le=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;function de(t){return(t.match(O)||[]).join(" ")}function pe(t){return t.getAttribute&&t.getAttribute("class")||""}function fe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}_.fn.extend({prop:function(t,e){return z(this,_.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[_.propFix[t]||t]})}}),_.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(t)||(e=_.propFix[e]||e,r=_.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=_.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(_.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(g(t))return this.each(function(e){_(this).addClass(t.call(this,e,pe(this)))});if((e=fe(t)).length)for(;n=this[u++];)if(r=pe(n),i=1===n.nodeType&&" "+de(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=de(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(g(t))return this.each(function(e){_(this).removeClass(t.call(this,e,pe(this)))});if(!arguments.length)return this.attr("class","");if((e=fe(t)).length)for(;n=this[u++];)if(r=pe(n),i=1===n.nodeType&&" "+de(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=de(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(n){_(this).toggleClass(t.call(this,n,pe(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=_(this),s=fe(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=pe(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Y.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+de(pe(n))+" ").indexOf(e)>-1)return!0;return!1}});var ge=/\r/g;_.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=g(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,_(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,function(t){return null==t?"":t+""})),(e=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ge,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(t){var e=_.find.attr(t,"value");return null!=e?e:de(_.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=_(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=_.makeArray(e),s=r.length;s--;)((i=r[s]).selected=_.inArray(_.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=_.inArray(_(t).val(),e)>-1}},f.checkOn||(_.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),f.focusin="onfocusin"in t;var ve=/^(?:focusinfocus|focusoutblur)$/,ye=function(t){t.stopPropagation()};_.extend(_.event,{trigger:function(e,n,r,o){var s,a,u,c,l,d,p,f,y=[r||i],m=h.call(e,"type")?e.type:e,b=h.call(e,"namespace")?e.namespace.split("."):[];if(a=f=u=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!ve.test(m+_.event.triggered)&&(m.indexOf(".")>-1&&(b=m.split("."),m=b.shift(),b.sort()),l=m.indexOf(":")<0&&"on"+m,(e=e[_.expando]?e:new _.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:_.makeArray(n,[e]),p=_.event.special[m]||{},o||!p.trigger||!1!==p.trigger.apply(r,n))){if(!o&&!p.noBubble&&!v(r)){for(c=p.delegateType||m,ve.test(c+m)||(a=a.parentNode);a;a=a.parentNode)y.push(a),u=a;u===(r.ownerDocument||i)&&y.push(u.defaultView||u.parentWindow||t)}for(s=0;(a=y[s++])&&!e.isPropagationStopped();)f=a,e.type=s>1?c:p.bindType||m,(d=(Y.get(a,"events")||{})[e.type]&&Y.get(a,"handle"))&&d.apply(a,n),(d=l&&a[l])&&d.apply&&X(a)&&(e.result=d.apply(a,n),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(y.pop(),n)||!X(r)||l&&g(r[m])&&!v(r)&&((u=r[l])&&(r[l]=null),_.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,ye),r[m](),e.isPropagationStopped()&&f.removeEventListener(m,ye),_.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(t,e,n){var i=_.extend(new _.Event,n,{type:t,isSimulated:!0});_.event.trigger(i,null,e)}}),_.fn.extend({trigger:function(t,e){return this.each(function(){_.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return _.event.trigger(t,e,n,!0)}}),f.focusin||_.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){_.event.simulate(e,t.target,_.event.fix(t))};_.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Y.access(i,e);r||i.addEventListener(t,n,!0),Y.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Y.access(i,e)-1;r?Y.access(i,e,r):(i.removeEventListener(t,n,!0),Y.remove(i,e))}}});var me=t.location,be=Date.now(),_e=/\?/;_.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+e),n};var xe=/\[\]$/,we=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,i){var r;if(Array.isArray(e))_.each(e,function(e,r){n||xe.test(t)?i(t,r):Te(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==b(e))i(t,e);else for(r in e)Te(t+"["+r+"]",e[r],n,i)}_.param=function(t,e){var n,i=[],r=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!_.isPlainObject(t))_.each(t,function(){r(this.name,this.value)});else for(n in t)Te(n,t[n],e,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_.prop(this,"elements");return t?_.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_(this).is(":disabled")&&ke.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:n.replace(we,"\r\n")}}).get()}});var Ce=/%20/g,Ae=/#.*$/,Se=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,Le=/^\/\//,Ne={},Pe={},Ie="*/".concat("*"),Oe=i.createElement("a");function Me(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(O)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Re(t,e,n,i){var r={},o=t===Pe;function s(a){var u;return r[a]=!0,_.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||r[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),u}return s(e.dataTypes[0])||!r["*"]&&s("*")}function qe(t,e){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&_.extend(!0,t,i),t}Oe.href=me.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,_.ajaxSettings),e):qe(_.ajaxSettings,t)},ajaxPrefilter:Me(Ne),ajaxTransport:Me(Pe),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,u,c,l,h,d,p,f=_.ajaxSetup({},n),g=f.context||f,v=f.context&&(g.nodeType||g.jquery)?_(g):_.event,y=_.Deferred(),m=_.Callbacks("once memory"),b=f.statusCode||{},x={},w={},E="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Fe.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==l&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||E;return r&&r.abort(e),T(0,e),this}};if(y.promise(k),f.url=((e||f.url||me.href)+"").replace(Le,me.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(O)||[""],null==f.crossDomain){c=i.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Oe.protocol+"//"+Oe.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=_.param(f.data,f.traditional)),Re(Ne,f,n,k),l)return k;for(d in(h=_.event&&f.global)&&0==_.active++&&_.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!De.test(f.type),o=f.url.replace(Ae,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ce,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(_e.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Se,"$1"),p=(_e.test(o)?"&":"?")+"_="+be+++p),f.url=o+p),f.ifModified&&(_.lastModified[o]&&k.setRequestHeader("If-Modified-Since",_.lastModified[o]),_.etag[o]&&k.setRequestHeader("If-None-Match",_.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ie+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,k,f)||l))return k.abort();if(E="abort",m.add(f.complete),k.done(f.success),k.fail(f.error),r=Re(Pe,f,n,k)){if(k.readyState=1,h&&v.trigger("ajaxSend",[k,f]),l)return k;f.async&&f.timeout>0&&(u=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{l=!1,r.send(x,T)}catch(t){if(l)throw t;T(-1,t)}}else T(-1,"No Transport");function T(e,n,i,a){var c,d,p,x,w,E=n;l||(l=!0,u&&t.clearTimeout(u),r=void 0,s=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(x=function(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(f,k,i)),x=function(t,e,n,i){var r,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(f,x,k,c),c?(f.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(_.lastModified[o]=w),(w=k.getResponseHeader("etag"))&&(_.etag[o]=w)),204===e||"HEAD"===f.type?E="nocontent":304===e?E="notmodified":(E=x.state,d=x.data,c=!(p=x.error))):(p=E,!e&&E||(E="error",e<0&&(e=0))),k.status=e,k.statusText=(n||E)+"",c?y.resolveWith(g,[d,E,k]):y.rejectWith(g,[k,E,p]),k.statusCode(b),b=void 0,h&&v.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?d:p]),m.fireWith(g,[k,E]),h&&(v.trigger("ajaxComplete",[k,f]),--_.active||_.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return _.get(t,e,n,"json")},getScript:function(t,e){return _.get(t,void 0,e,"script")}}),_.each(["get","post"],function(t,e){_[e]=function(t,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:t,type:e,dataType:r,data:n,success:i},_.isPlainObject(t)&&t))}}),_._evalUrl=function(t){return _.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=_(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){_(this).wrapInner(t.call(this,e))}):this.each(function(){var e=_(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){_(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(t){return!_.expr.pseudos.visible(t)},_.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},Be=_.ajaxSettings.xhr();f.cors=!!Be&&"withCredentials"in Be,f.ajax=Be=!!Be,_.ajaxTransport(function(e){var n,i;if(f.cors||Be&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),_.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _.globalEval(t),t}}}),_.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,o){e=_("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var He,ze=[],$e=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||_.expando+"_"+be++;return this[t]=!0,t}}),_.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&($e.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($e,"$1"+r):!1!==e.jsonp&&(e.url+=(_e.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||_.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?_(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,ze.push(r)),s&&g(o)&&o(s[0]),s=o=void 0}),"script"}),f.createHTMLDocument=((He=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===He.childNodes.length),_.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(f.createHTMLDocument?((r=(e=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,e.head.appendChild(r)):e=i),s=!n&&[],(o=S.exec(t))?[e.createElement(o[1])]:(o=mt([t],e,s),s&&s.length&&_(s).remove(),_.merge([],o.childNodes)));var r,o,s},_.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=de(t.slice(a)),t=t.slice(0,a)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&_.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?_("<div>").append(_.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_.fn[e]=function(t){return this.on(e,t)}}),_.expr.pseudos.animated=function(t){return _.grep(_.timers,function(e){return t===e.elem}).length},_.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,c=_.css(t,"position"),l=_(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=_.css(t,"top"),u=_.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(s=(i=l.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),g(e)&&(e=e.call(t,n,_.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):l.css(h)}},_.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){_.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===_.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=_(t).offset()).top+=_.css(t,"borderTopWidth",!0),r.left+=_.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-_.css(i,"marginTop",!0),left:e.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===_.css(t,"position");)t=t.offsetParent;return t||bt})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;_.fn[t]=function(i){return z(this,function(t,i,r){var o;if(v(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),_.each(["top","left"],function(t,e){_.cssHooks[e]=Ht(f.pixelPosition,function(t,n){if(n)return n=Bt(t,e),Rt.test(n)?_(t).position()[e]+"px":n})}),_.each({Height:"height",Width:"width"},function(t,e){_.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){_.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return z(this,function(e,n,r){var o;return v(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?_.css(e,n,a):_.style(e,n,r,a)},e,s?r:void 0,s)}})}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){_.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),_.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),_.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),_.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return i=o.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||_.guid++,r},_.holdReady=function(t){t?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=A,_.isFunction=g,_.isWindow=v,_.camelCase=V,_.type=b,_.now=Date.now,_.isNumeric=function(t){var e=_.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Ge=t.jQuery,Ue=t.$;return _.noConflict=function(e){return t.$===_&&(t.$=Ue),e&&t.jQuery===_&&(t.jQuery=Ge),_},e||(t.jQuery=t.$=_),_}),window.HlBox=class{constructor(t){this.to_html=this.to_html.bind(this),this.node=t}to_html(){var t;return(t=document.createElement("div")).innerHTML="?"+this.node.id(),t.className="highlighting_box",t.style.backgroundColor=this.node.data("color"),t}},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).cola=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";function i(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),i(t("./src/adaptor")),i(t("./src/d3adaptor")),i(t("./src/descent")),i(t("./src/geom")),i(t("./src/gridrouter")),i(t("./src/handledisconnected")),i(t("./src/layout")),i(t("./src/layout3d")),i(t("./src/linklengths")),i(t("./src/powergraph")),i(t("./src/pqueue")),i(t("./src/rbtree")),i(t("./src/rectangle")),i(t("./src/shortestpaths")),i(t("./src/vpsc")),i(t("./src/batch"))},{"./src/adaptor":2,"./src/batch":3,"./src/d3adaptor":4,"./src/descent":7,"./src/geom":8,"./src/gridrouter":9,"./src/handledisconnected":10,"./src/layout":11,"./src/layout3d":12,"./src/linklengths":13,"./src/powergraph":14,"./src/pqueue":15,"./src/rbtree":16,"./src/rectangle":17,"./src/shortestpaths":18,"./src/vpsc":19}],2:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./layout"),s=function(t){function e(e){var n=t.call(this)||this,i=e;return i.trigger&&(n.trigger=i.trigger),i.kick&&(n.kick=i.kick),i.drag&&(n.drag=i.drag),i.on&&(n.on=i.on),n.dragstart=n.dragStart=o.Layout.dragStart,n.dragend=n.dragEnd=o.Layout.dragEnd,n}return r(e,t),e.prototype.trigger=function(t){},e.prototype.kick=function(){},e.prototype.drag=function(){},e.prototype.on=function(t,e){return this},e}(o.Layout);n.LayoutAdaptor=s,n.adaptor=function(t){return new s(t)}},{"./layout":11}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./layout"),r=t("./gridrouter");n.gridify=function(t,e,n,i){return t.cola.start(0,0,0,10,!1),function(t,e,n,i){t.forEach(function(t){t.routerNode={name:t.name,bounds:t.bounds.inflate(-n)}}),e.forEach(function(e){e.routerNode={bounds:e.bounds.inflate(-i),children:(void 0!==e.groups?e.groups.map(function(e){return t.length+e.id}):[]).concat(void 0!==e.leaves?e.leaves.map(function(t){return t.index}):[])}});var o=t.concat(e).map(function(t,e){return t.routerNode.id=e,t.routerNode});return new r.GridRouter(o,{getChildren:function(t){return t.children},getBounds:function(t){return t.bounds}},n-i)}(t.cola.nodes(),t.cola.groups(),n,i).routeEdges(t.powerGraph.powerEdges,e,function(t){return t.source.routerNode.id},function(t){return t.target.routerNode.id})},n.powerGraphGridLayout=function(t,e,n){var r;t.nodes.forEach(function(t,e){return t.index=e}),(new i.Layout).avoidOverlaps(!1).nodes(t.nodes).links(t.links).powerGraphGroups(function(t){(r=t).groups.forEach(function(t){return t.padding=n})});var o=t.nodes.length,s=[],a=t.nodes.slice(0);return a.forEach(function(t,e){return t.index=e}),r.groups.forEach(function(t){var e=t.index=t.id+o;a.push(t),void 0!==t.leaves&&t.leaves.forEach(function(t){return s.push({source:e,target:t.index})}),void 0!==t.groups&&t.groups.forEach(function(t){return s.push({source:e,target:t.id+o})})}),r.powerEdges.forEach(function(t){s.push({source:t.source.index,target:t.target.index})}),(new i.Layout).size(e).nodes(a).links(s).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new i.Layout).convergenceThreshold(.001).size(e).avoidOverlaps(!0).nodes(t.nodes).links(t.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(t){(r=t).groups.forEach(function(t){t.padding=n})}).start(50,0,100,0,!1),powerGraph:r}}},{"./gridrouter":9,"./layout":11}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./d3v3adaptor"),r=t("./d3v4adaptor");n.d3adaptor=function(t){return!t||function(t){return t.version&&null!==t.version.match(/^3\./)}(t)?new i.D3StyleLayoutAdaptor:new r.D3StyleLayoutAdaptor(t)}},{"./d3v3adaptor":5,"./d3v4adaptor":6}],5:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./layout"),s=function(t){function e(){var e=t.call(this)||this;e.event=d3.dispatch(o.EventType[o.EventType.start],o.EventType[o.EventType.tick],o.EventType[o.EventType.end]);var n=e;return e.drag=function(){if(!t)var t=d3.behavior.drag().origin(o.Layout.dragOrigin).on("dragstart.d3adaptor",o.Layout.dragStart).on("drag.d3adaptor",function(t){o.Layout.drag(t,d3.event),n.resume()}).on("dragend.d3adaptor",o.Layout.dragEnd);if(!arguments.length)return t;this.call(t)},e}return r(e,t),e.prototype.trigger=function(t){var e={type:o.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event[e.type](e)},e.prototype.kick=function(){var e=this;d3.timer(function(){return t.prototype.tick.call(e)})},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(o.EventType[t],e),this},e}(o.Layout);n.D3StyleLayoutAdaptor=s,n.d3adaptor=function(){return new s}},{"./layout":11}],6:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./layout"),s=function(t){function e(e){var n=t.call(this)||this;n.d3Context=e,n.event=e.dispatch(o.EventType[o.EventType.start],o.EventType[o.EventType.tick],o.EventType[o.EventType.end]);var i=n;return n.drag=function(){if(!t)var t=e.drag().subject(o.Layout.dragOrigin).on("start.d3adaptor",o.Layout.dragStart).on("drag.d3adaptor",function(t){o.Layout.drag(t,e.event),i.resume()}).on("end.d3adaptor",o.Layout.dragEnd);if(!arguments.length)return t;arguments[0].call(t)},n}return r(e,t),e.prototype.trigger=function(t){var e={type:o.EventType[t.type],alpha:t.alpha,stress:t.stress};this.event.call(e.type,e)},e.prototype.kick=function(){var e=this,n=this.d3Context.timer(function(){return t.prototype.tick.call(e)&&n.stop()})},e.prototype.on=function(t,e){return"string"==typeof t?this.event.on(t,e):this.event.on(o.EventType[t],e),this},e}(o.Layout);n.D3StyleLayoutAdaptor=s},{"./layout":11}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.locks={}}return t.prototype.add=function(t,e){this.locks[t]=e},t.prototype.clear=function(){this.locks={}},t.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},t.prototype.apply=function(t){for(var e in this.locks)t(Number(e),this.locks[e])},t}();n.Locks=i;var r=function(){function t(t,e,n){void 0===n&&(n=null),this.D=e,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new o,this.project=null,this.x=t,this.k=t.length;var r=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new i,this.minD=Number.MAX_VALUE;for(var s,a=r;a--;)for(s=r;--s>a;){var u=e[a][s];u>0&&u<this.minD&&(this.minD=u)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),a=this.k;a--;){for(this.g[a]=new Array(r),this.H[a]=new Array(r),s=r;s--;)this.H[a][s]=new Array(r);this.Hd[a]=new Array(r),this.a[a]=new Array(r),this.b[a]=new Array(r),this.c[a]=new Array(r),this.d[a]=new Array(r),this.e[a]=new Array(r),this.ia[a]=new Array(r),this.ib[a]=new Array(r),this.xtmp[a]=new Array(r)}}return t.createSquareMatrix=function(t,e){for(var n=new Array(t),i=0;i<t;++i){n[i]=new Array(t);for(var r=0;r<t;++r)n[i][r]=e(i,r)}return n},t.prototype.offsetDir=function(){for(var t=this,e=new Array(this.k),n=0,i=0;i<this.k;++i){var r=e[i]=this.random.getNextBetween(.01,1)-.5;n+=r*r}return n=Math.sqrt(n),e.map(function(e){return e*(t.minD/n)})},t.prototype.computeDerivatives=function(t){var e=this,n=this.n;if(!(n<1)){for(var i,r=new Array(this.k),o=new Array(this.k),s=new Array(this.k),a=0,u=0;u<n;++u){for(i=0;i<this.k;++i)s[i]=this.g[i][u]=0;for(var c=0;c<n;++c)if(u!==c){for(var l=n;l--;){var h=0;for(i=0;i<this.k;++i){var d=r[i]=t[i][u]-t[i][c];h+=o[i]=d*d}if(h>1e-9)break;var p=this.offsetDir();for(i=0;i<this.k;++i)t[i][c]+=p[i]}var f=Math.sqrt(h),g=this.D[u][c],v=null!=this.G?this.G[u][c]:1;if(v>1&&f>g||!isFinite(g))for(i=0;i<this.k;++i)this.H[i][u][c]=0;else{v>1&&(v=1);var y=g*g,m=2*v*(f-g)/(y*f),b=f*f*f,_=2*-v/(y*b);for(isFinite(m)||console.log(m),i=0;i<this.k;++i)this.g[i][u]+=r[i]*m,s[i]-=this.H[i][u][c]=_*(b+g*(o[i]-h)+f*h)}}for(i=0;i<this.k;++i)a=Math.max(a,this.H[i][u][u]=s[i])}var x=this.snapGridSize/2,w=this.snapGridSize,E=this.snapStrength/(x*x),k=this.numGridSnapNodes;for(u=0;u<k;++u)for(i=0;i<this.k;++i){var T=this.x[i][u],C=T/w,A=C%1,S=C-A;-x<(d=Math.abs(A)<=.5?T-S*w:T>0?T-(S+1)*w:T-(S-1)*w)&&d<=x&&(this.scaleSnapByMaxH?(this.g[i][u]+=a*E*d,this.H[i][u][u]+=a*E):(this.g[i][u]+=E*d,this.H[i][u][u]+=E))}this.locks.isEmpty()||this.locks.apply(function(n,r){for(i=0;i<e.k;++i)e.H[i][n][n]+=a,e.g[i][n]-=a*(r[i]-t[i][n])})}},t.dotProd=function(t,e){for(var n=0,i=t.length;i--;)n+=t[i]*e[i];return n},t.rightMultiply=function(e,n,i){for(var r=e.length;r--;)i[r]=t.dotProd(e[r],n)},t.prototype.computeStepSize=function(e){for(var n=0,i=0,r=0;r<this.k;++r)n+=t.dotProd(this.g[r],e[r]),t.rightMultiply(this.H[r],e[r],this.Hd[r]),i+=t.dotProd(e[r],this.Hd[r]);return 0!==i&&isFinite(i)?1*n/i:0},t.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),e=0;e<this.k;++e)this.takeDescentStep(this.x[e],this.g[e],t);return this.computeStress()},t.copy=function(t,e){for(var n=t.length,i=e[0].length,r=0;r<n;++r)for(var o=0;o<i;++o)e[r][o]=t[r][o]},t.prototype.stepAndProject=function(e,n,i,r){t.copy(e,n),this.takeDescentStep(n[0],i[0],r),this.project&&this.project[0](e[0],e[1],n[0]),this.takeDescentStep(n[1],i[1],r),this.project&&this.project[1](n[0],e[1],n[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(n[o],i[o],r)},t.mApply=function(t,e,n){for(var i=t;i-- >0;)for(var r=e;r-- >0;)n(i,r)},t.prototype.matrixApply=function(e){t.mApply(this.k,this.n,e)},t.prototype.computeNextPosition=function(t,e){var n=this;this.computeDerivatives(t);var i=this.computeStepSize(this.g);if(this.stepAndProject(t,e,this.g,i),this.project){this.matrixApply(function(i,r){return n.e[i][r]=t[i][r]-e[i][r]});var r=this.computeStepSize(this.e);r=Math.max(.2,Math.min(r,1)),this.stepAndProject(t,e,this.e,r)}},t.prototype.run=function(t){for(var e=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var i=this.rungeKutta();n=Math.abs(e/i-1)<this.threshold,e=i}return e},t.prototype.rungeKutta=function(){var e=this;this.computeNextPosition(this.x,this.a),t.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),t.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply(function(t,i){var r=(e.a[t][i]+2*e.b[t][i]+2*e.c[t][i]+e.d[t][i])/6,o=e.x[t][i]-r;n+=o*o,e.x[t][i]=r}),n},t.mid=function(e,n,i){t.mApply(e.length,e[0].length,function(t,r){return i[t][r]=e[t][r]+(n[t][r]-e[t][r])/2})},t.prototype.takeDescentStep=function(t,e,n){for(var i=0;i<this.n;++i)t[i]=t[i]-n*e[i]},t.prototype.computeStress=function(){for(var t=0,e=0,n=this.n-1;e<n;++e)for(var i=e+1,r=this.n;i<r;++i){for(var o=0,s=0;s<this.k;++s){var a=this.x[s][e]-this.x[s][i];o+=a*a}o=Math.sqrt(o);var u=this.D[e][i];if(isFinite(u)){var c=u-o;t+=c*c/(u*u)}}return t},t.zeroDistance=1e-10,t}();n.Descent=r;var o=function(){function t(t){void 0===t&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return t.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},t.prototype.getNextBetween=function(t,e){return t+this.getNext()*(e-t)},t}();n.PseudoRandom=o},{}],8:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./rectangle"),s=function(){return function(){}}();n.Point=s;var a=function(){return function(t,e,n,i){this.x1=t,this.y1=e,this.x2=n,this.y2=i}}();n.LineSegment=a;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);function c(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)}function l(t,e,n){return c(t,e,n)>0}function h(t,e,n){return c(t,e,n)<0}function d(t,e){var n,i,r,o,s=e.length-1;if(h(t,e[1],e[0])&&!l(t,e[s-1],e[0]))return 0;for(n=0,i=s;;){if(i-n==1)return l(t,e[n],e[i])?n:i;if((o=h(t,e[(r=Math.floor((n+i)/2))+1],e[r]))&&!l(t,e[r-1],e[r]))return r;l(t,e[n+1],e[n])?o?i=r:l(t,e[n],e[r])?i=r:n=r:o&&h(t,e[n],e[r])?i=r:n=r}}function p(t,e){var n,i,r,o,s=e.length-1;if(l(t,e[s-1],e[0])&&!h(t,e[1],e[0]))return 0;for(n=0,i=s;;){if(i-n==1)return h(t,e[n],e[i])?n:i;if(o=h(t,e[(r=Math.floor((n+i)/2))+1],e[r]),l(t,e[r-1],e[r])&&!o)return r;h(t,e[n+1],e[n])?o?h(t,e[n],e[r])?i=r:n=r:i=r:o?n=r:l(t,e[n],e[r])?i=r:n=r}}function f(t,e,n,i,r,o){var s,a;a=i(t[s=n(e[0],t)],e);for(var u=!1;!u;){for(u=!0;s===t.length-1&&(s=0),!r(e[a],t[s],t[s+1]);)++s;for(;0===a&&(a=e.length-1),!o(t[s],e[a],e[a-1]);)--a,u=!1}return{t1:s,t2:a}}function g(t,e){return f(t,e,d,p,l,h)}n.PolyPoint=u,n.isLeft=c,n.ConvexHull=function(t){var e,n=t.slice(0).sort(function(t,e){return t.x!==e.x?e.x-t.x:e.y-t.y}),i=t.length,r=n[0].x;for(e=1;e<i&&n[e].x===r;++e);var o=e-1,s=[];if(s.push(n[0]),o===i-1)n[o].y!==n[0].y&&s.push(n[o]);else{var a,u=i-1,l=n[i-1].x;for(e=i-2;e>=0&&n[e].x===l;e--);for(a=e+1,e=o;++e<=a;)if(!(c(n[0],n[a],n[e])>=0&&e<a)){for(;s.length>1&&!(c(s[s.length-2],s[s.length-1],n[e])>0);)s.length-=1;0!=e&&s.push(n[e])}u!=a&&s.push(n[u]);var h=s.length;for(e=a;--e>=o;)if(!(c(n[u],n[o],n[e])>=0&&e>o)){for(;s.length>h&&!(c(s[s.length-2],s[s.length-1],n[e])>0);)s.length-=1;0!=e&&s.push(n[e])}}return s},n.clockwiseRadialSweep=function(t,e,n){e.slice(0).sort(function(e,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)}).forEach(n)},n.tangent_PolyPolyC=f,n.LRtangent_PolyPolyC=function(t,e){var n=g(e,t);return{t1:n.t2,t2:n.t1}},n.RLtangent_PolyPolyC=g,n.LLtangent_PolyPolyC=function(t,e){return f(t,e,p,p,h,h)},n.RRtangent_PolyPolyC=function(t,e){return f(t,e,d,d,l,l)};var v=function(){return function(t,e){this.t1=t,this.t2=e}}();n.BiTangent=v;var y=function(){return function(){}}();n.BiTangents=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s);n.TVGPoint=m;var b=function(){return function(t,e,n,i){this.id=t,this.polyid=e,this.polyvertid=n,this.p=i,i.vv=this}}();n.VisibilityVertex=b;var _=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.length=function(){var t=this.source.p.x-this.target.p.x,e=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+e*e)},t}();n.VisibilityEdge=_;var x=function(){function t(t,e){if(this.P=t,this.V=[],this.E=[],e)this.V=e.V.slice(0),this.E=e.E.slice(0);else{for(var n=t.length,i=0;i<n;i++){for(var r=t[i],o=0;o<r.length;++o){var s=r[o],a=new b(this.V.length,i,o,s);this.V.push(a),o>0&&this.E.push(new _(r[o-1].vv,a))}r.length>1&&this.E.push(new _(r[0].vv,r[r.length-1].vv))}for(i=0;i<n-1;i++){var u=t[i];for(o=i+1;o<n;o++){var c=t[o],l=E(u,c);for(var h in l){var d=l[h],p=u[d.t1],f=c[d.t2];this.addEdgeIfVisible(p,f,i,o)}}}}}return t.prototype.addEdgeIfVisible=function(t,e,n,i){this.intersectsPolys(new a(t.x,t.y,e.x,e.y),n,i)||this.E.push(new _(t.vv,e.vv))},t.prototype.addPoint=function(t,e){var n,i,r,o=this.P.length;this.V.push(new b(this.V.length,o,0,t));for(var s=0;s<o;++s)if(s!==e){var a=this.P[s],u=(n=t,r=void 0,(r=(i=a).slice(0)).push(i[0]),{rtan:d(n,r),ltan:p(n,r)});this.addEdgeIfVisible(t,a[u.ltan],e,s),this.addEdgeIfVisible(t,a[u.rtan],e,s)}return t.vv},t.prototype.intersectsPolys=function(t,e,n){for(var i=0,r=this.P.length;i<r;++i)if(i!=e&&i!=n&&w(t,this.P[i]).length>0)return!0;return!1},t}();function w(t,e){for(var n=[],i=1,r=e.length;i<r;++i){var s=o.Rectangle.lineIntersection(t.x1,t.y1,t.x2,t.y2,e[i-1].x,e[i-1].y,e[i].x,e[i].y);s&&n.push(s)}return n}function E(t,e){for(var n=t.length-1,i=e.length-1,r=new y,o=0;o<n;++o)for(var s=0;s<i;++s){var a=t[0==o?n-1:o-1],u=t[o],l=t[o+1],h=e[0==s?i-1:s-1],d=e[s],p=e[s+1],f=c(a,u,d),g=c(u,h,d),m=c(u,d,p),b=c(h,d,u),_=c(d,a,u),x=c(d,u,l);f>=0&&g>=0&&m<0&&b>=0&&_>=0&&x<0?r.ll=new v(o,s):f<=0&&g<=0&&m>0&&b<=0&&_<=0&&x>0?r.rr=new v(o,s):f<=0&&g>0&&m<=0&&b>=0&&_<0&&x>=0?r.rl=new v(o,s):f>=0&&g<0&&m>=0&&b<=0&&_>0&&x<=0&&(r.lr=new v(o,s))}return r}function k(t,e){return!t.every(function(t){return!function(t,e){for(var n=1,i=e.length;n<i;++n)if(h(e[n-1],e[n],t))return!1;return!0}(t,e)})}n.TangentVisibilityGraph=x,n.tangents=E,n.polysOverlap=function(t,e){if(k(t,e))return!0;if(k(e,t))return!0;for(var n=1,i=t.length;n<i;++n){var r=t[n],o=t[n-1];if(w(new a(o.x,o.y,r.x,r.y),e).length>0)return!0}return!1}},{"./rectangle":17}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./rectangle"),r=t("./vpsc"),o=t("./shortestpaths"),s=function(){return function(t,e,n){this.id=t,this.rect=e,this.children=n,this.leaf=void 0===n||0===n.length}}();n.NodeWrapper=s;var a=function(){return function(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.id=t,this.x=e,this.y=n,this.node=i,this.line=r}}();n.Vert=a;var u=function(){function t(e,n){this.s=e,this.t=n;var i=t.findMatch(e,n),r=n.slice(0).reverse(),o=t.findMatch(e,r);i.length>=o.length?(this.length=i.length,this.si=i.si,this.ti=i.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=n.length-o.ti-o.length,this.reversed=!0)}return t.findMatch=function(t,e){for(var n=t.length,i=e.length,r={length:0,si:-1,ti:-1},o=new Array(n),s=0;s<n;s++){o[s]=new Array(i);for(var a=0;a<i;a++)if(t[s]===e[a]){var u=o[s][a]=0===s||0===a?1:o[s-1][a-1]+1;u>r.length&&(r.length=u,r.si=s-u+1,r.ti=a-u+1)}else o[s][a]=0}return r},t.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},t}();n.LongestCommonSubsequence=u;var c=function(){function t(t,e,n){void 0===n&&(n=12);var r=this;this.originalnodes=t,this.groupPadding=n,this.leaves=null,this.nodes=t.map(function(t,n){return new s(n,e.getBounds(t),e.getChildren(t))}),this.leaves=this.nodes.filter(function(t){return t.leaf}),this.groups=this.nodes.filter(function(t){return!t.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(t){return t.children.forEach(function(e){return r.nodes[e].parent=t})}),this.root={children:[]},this.nodes.forEach(function(t){void 0===t.parent&&(t.parent=r.root,r.root.children.push(t.id)),t.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(t,e){return r.getDepth(t)-r.getDepth(e)}),this.backToFront.slice(0).reverse().filter(function(t){return!t.leaf}).forEach(function(t){var e=i.Rectangle.empty();t.children.forEach(function(t){return e=e.union(r.nodes[t].rect)}),t.rect=e.inflate(r.groupPadding)});var o=this.midPoints(this.cols.map(function(t){return t.pos})),u=this.midPoints(this.rows.map(function(t){return t.pos})),c=o[0],l=o[o.length-1],h=u[0],d=u[u.length-1],p=this.rows.map(function(t){return{x1:c,x2:l,y1:t.pos,y2:t.pos}}).concat(u.map(function(t){return{x1:c,x2:l,y1:t,y2:t}})),f=this.cols.map(function(t){return{x1:t.pos,x2:t.pos,y1:h,y2:d}}).concat(o.map(function(t){return{x1:t,x2:t,y1:h,y2:d}})),g=p.concat(f);g.forEach(function(t){return t.verts=[]}),this.verts=[],this.edges=[],p.forEach(function(t){return f.forEach(function(e){var n=new a(r.verts.length,e.x1,t.y1);t.verts.push(n),e.verts.push(n),r.verts.push(n);for(var i=r.backToFront.length;i-- >0;){var o=r.backToFront[i],s=o.rect,u=Math.abs(n.x-s.cx()),c=Math.abs(n.y-s.cy());if(u<s.width()/2&&c<s.height()/2){n.node=o;break}}})}),g.forEach(function(t,e){r.nodes.forEach(function(e,n){e.rect.lineIntersections(t.x1,t.y1,t.x2,t.y2).forEach(function(n,i){var o=new a(r.verts.length,n.x,n.y,e,t);r.verts.push(o),t.verts.push(o),e.ports.push(o)})});var n=Math.abs(t.y1-t.y2)<.1,i=function(t,e){return n?e.x-t.x:e.y-t.y};t.verts.sort(i);for(var o=1;o<t.verts.length;o++){var s=t.verts[o-1],u=t.verts[o];s.node&&s.node===u.node&&s.node.leaf||r.edges.push({source:s.id,target:u.id,length:Math.abs(i(s,u))})}})}return t.prototype.avg=function(t){return t.reduce(function(t,e){return t+e})/t.length},t.prototype.getGridLines=function(t){for(var e=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var i=n.filter(function(e){return e.rect["overlap"+t.toUpperCase()](n[0].rect)}),r={nodes:i,pos:this.avg(i.map(function(e){return e.rect["c"+t]()}))};e.push(r),r.nodes.forEach(function(t){return n.splice(n.indexOf(t),1)})}return e.sort(function(t,e){return t.pos-e.pos}),e},t.prototype.getDepth=function(t){for(var e=0;t.parent!==this.root;)e++,t=t.parent;return e},t.prototype.midPoints=function(t){for(var e=t[1]-t[0],n=[t[0]-e/2],i=1;i<t.length;i++)n.push((t[i]+t[i-1])/2);return n.push(t[t.length-1]+e/2),n},t.prototype.findLineage=function(t){var e=[t];do{t=t.parent,e.push(t)}while(t!==this.root);return e.reverse()},t.prototype.findAncestorPathBetween=function(t,e){for(var n=this.findLineage(t),i=this.findLineage(e),r=0;n[r]===i[r];)r++;return{commonAncestor:n[r-1],lineages:n.slice(r).concat(i.slice(r))}},t.prototype.siblingObstacles=function(t,e){var n=this,i=this.findAncestorPathBetween(t,e),r={};i.lineages.forEach(function(t){return r[t.id]={}});var o=i.commonAncestor.children.filter(function(t){return!(t in r)});return i.lineages.filter(function(t){return t.parent!==i.commonAncestor}).forEach(function(t){return o=o.concat(t.parent.children.filter(function(e){return e!==t.id}))}),o.map(function(t){return n.nodes[t]})},t.getSegmentSets=function(t,e,n){for(var i=[],r=0;r<t.length;r++)for(var o=t[r],s=0;s<o.length;s++){(h=o[s]).edgeid=r,h.i=s;var a=h[1][e]-h[0][e];Math.abs(a)<.1&&i.push(h)}i.sort(function(t,n){return t[0][e]-n[0][e]});for(var u=[],c=null,l=0;l<i.length;l++){var h=i[l];(!c||Math.abs(h[0][e]-c.pos)>.1)&&(c={pos:h[0][e],segments:[]},u.push(c)),c.segments.push(h)}return u},t.nudgeSegs=function(t,e,n,i,o,s){var a=i.length;if(!(a<=1)){for(var u=i.map(function(e){return new r.Variable(e[0][t])}),c=[],l=0;l<a;l++)for(var h=0;h<a;h++)if(l!==h){var d=i[l],p=i[h],f=d.edgeid,g=p.edgeid,v=-1,y=-1;"x"==t?o(f,g)&&(d[0][e]<d[1][e]?(v=h,y=l):(v=l,y=h)):o(f,g)&&(d[0][e]<d[1][e]?(v=l,y=h):(v=h,y=l)),v>=0&&c.push(new r.Constraint(u[v],u[y],s))}new r.Solver(u,c).solve(),u.forEach(function(e,r){var o=i[r],s=e.position();o[0][t]=o[1][t]=s;var a=n[o.edgeid];o.i>0&&(a[o.i-1][1][t]=s),o.i<a.length-1&&(a[o.i+1][0][t]=s)})}},t.nudgeSegments=function(e,n,i,r,o){for(var s=t.getSegmentSets(e,n,i),a=0;a<s.length;a++){for(var u=s[a],c=[],l=0;l<u.segments.length;l++){var h=u.segments[l];c.push({type:0,s:h,pos:Math.min(h[0][i],h[1][i])}),c.push({type:1,s:h,pos:Math.max(h[0][i],h[1][i])})}c.sort(function(t,e){return t.pos-e.pos+t.type-e.type});var d=[],p=0;c.forEach(function(s){0===s.type?(d.push(s.s),p++):p--,0==p&&(t.nudgeSegs(n,i,e,d,r,o),d=[])})}},t.prototype.routeEdges=function(e,n,i,r){var o=this,s=e.map(function(t){return o.route(i(t),r(t))}),a=t.orderEdges(s),u=s.map(function(e){return t.makeSegments(e)});return t.nudgeSegments(u,"x","y",a,n),t.nudgeSegments(u,"y","x",a,n),t.unreverseEdges(u,s),u},t.unreverseEdges=function(t,e){t.forEach(function(t,n){e[n].reversed&&(t.reverse(),t.forEach(function(t){t.reverse()}))})},t.angleBetween2Lines=function(t,e){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),i=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=n-i;return(r>Math.PI||r<-Math.PI)&&(r=i-n),r},t.isLeft=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)<=0},t.getOrder=function(t){for(var e={},n=0;n<t.length;n++){var i=t[n];void 0===e[i.l]&&(e[i.l]={}),e[i.l][i.r]=!0}return function(t,n){return void 0!==e[t]&&e[t][n]}},t.orderEdges=function(e){for(var n=[],i=0;i<e.length-1;i++)for(var r=i+1;r<e.length;r++){var o,s,a,c=e[i],l=e[r],h=new u(c,l);0!==h.length&&(h.reversed&&(l.reverse(),l.reversed=!0,h=new u(c,l)),(h.si<=0||h.ti<=0)&&(h.si+h.length>=c.length||h.ti+h.length>=l.length)?n.push({l:i,r:r}):(h.si+h.length>=c.length||h.ti+h.length>=l.length?(o=c[h.si+1],a=c[h.si-1],s=l[h.ti-1]):(o=c[h.si+h.length-2],s=c[h.si+h.length],a=l[h.ti+h.length]),t.isLeft(o,s,a)?n.push({l:r,r:i}):n.push({l:i,r:r})))}return t.getOrder(n)},t.makeSegments=function(t){function e(t){return{x:t.x,y:t.y}}for(var n=function(t,e,n){return Math.abs((e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x))<.001},i=[],r=e(t[0]),o=1;o<t.length;o++){var s=e(t[o]),a=o<t.length-1?t[o+1]:null;a&&n(r,s,a)||(i.push([r,s]),r=s)}return i},t.prototype.route=function(t,e){var n=this,i=this.nodes[t],r=this.nodes[e];this.obstacles=this.siblingObstacles(i,r);var s={};this.obstacles.forEach(function(t){return s[t.id]=t}),this.passableEdges=this.edges.filter(function(t){var e=n.verts[t.source],i=n.verts[t.target];return!(e.node&&e.node.id in s||i.node&&i.node.id in s)});for(var a=1;a<i.ports.length;a++){var u=i.ports[0].id,c=i.ports[a].id;this.passableEdges.push({source:u,target:c,length:0})}for(a=1;a<r.ports.length;a++){u=r.ports[0].id,c=r.ports[a].id;this.passableEdges.push({source:u,target:c,length:0})}var l=new o.Calculator(this.verts.length,this.passableEdges,function(t){return t.source},function(t){return t.target},function(t){return t.length}).PathFromNodeToNodeWithPrevCost(i.ports[0].id,r.ports[0].id,function(t,e,o){var s=n.verts[t],a=n.verts[e],u=n.verts[o],c=Math.abs(u.x-s.x),l=Math.abs(u.y-s.y);return s.node===i&&s.node===a.node||a.node===r&&a.node===u.node?0:c>1&&l>1?1e3:0}).reverse().map(function(t){return n.verts[t]});return l.push(this.nodes[r.id].ports[0]),l.filter(function(t,e){return!(e<l.length-1&&l[e+1].node===i&&t.node===i||e>0&&t.node===r&&l[e-1].node===r)})},t.getRoutePath=function(e,n,i,r){var o={routepath:"M "+e[0][0].x+" "+e[0][0].y+" ",arrowpath:""};if(e.length>1)for(var s=0;s<e.length;s++){var a=(_=e[s])[1].x,u=_[1].y,c=a-_[0].x,l=u-_[0].y;if(s<e.length-1){Math.abs(c)>0?a-=c/Math.abs(c)*n:u-=l/Math.abs(l)*n,o.routepath+="L "+a+" "+u+" ";var h=e[s+1],d=h[0].x,p=h[0].y;c=h[1].x-d,l=h[1].y-p;var f,g,v=t.angleBetween2Lines(_,h)<0?1:0;Math.abs(c)>0?(f=d+c/Math.abs(c)*n,g=p):(f=d,g=p+l/Math.abs(l)*n);var y=Math.abs(f-a),m=Math.abs(g-u);o.routepath+="A "+y+" "+m+" 0 0 "+v+" "+f+" "+g+" "}else{var b=[a,u];Math.abs(c)>0?(x=[a-=c/Math.abs(c)*r,u+i],w=[a,u-i]):(x=[a+i,u-=l/Math.abs(l)*r],w=[a-i,u]),o.routepath+="L "+a+" "+u+" ",r>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+x[0]+" "+x[1]+" L "+w[0]+" "+w[1])}}else{var _,x,w;a=(_=e[0])[1].x,u=_[1].y,c=a-_[0].x,l=u-_[0].y,b=[a,u];Math.abs(c)>0?(x=[a-=c/Math.abs(c)*r,u+i],w=[a,u-i]):(x=[a+i,u-=l/Math.abs(l)*r],w=[a-i,u]),o.routepath+="L "+a+" "+u+" ",r>0&&(o.arrowpath="M "+b[0]+" "+b[1]+" L "+x[0]+" "+x[1]+" L "+w[0]+" "+w[1])}return o},t}();n.GridRouter=c},{"./rectangle":17,"./shortestpaths":18,"./vpsc":19}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};n.applyPacking=function(t,e,n,r,o){void 0===o&&(o=1);var s=0,a=0,u=e,c=n,l=(o=void 0!==o?o:1,r=void 0!==r?r:0,0),h=0,d=0,p=0,f=[];function g(t,e){f=[],l=0,h=0,p=a;for(var n=0;n<t.length;n++)v(t[n],e);return Math.abs(l/h-o)}function v(t,e){for(var n=void 0,r=0;r<f.length;r++)if(f[r].space_left>=t.height&&f[r].x+f[r].width+t.width+i.PADDING-e<=i.FLOAT_EPSILON){n=f[r];break}f.push(t),void 0!==n?(t.x=n.x+n.width+i.PADDING,t.y=n.bottom,t.space_left=t.height,t.bottom=t.y,n.space_left-=t.height+i.PADDING,n.bottom+=t.height+i.PADDING):(t.y=p,p+=t.height+i.PADDING,t.x=s,t.bottom=t.y,t.space_left=t.height),t.y+t.height-h>-i.FLOAT_EPSILON&&(h=t.y+t.height-a),t.x+t.width-l>-i.FLOAT_EPSILON&&(l=t.x+t.width-s)}0!=t.length&&(function(t){t.forEach(function(t){var e,n,i,o,s;e=t,n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=0,s=0,e.array.forEach(function(t){var e=void 0!==t.width?t.width:r,a=void 0!==t.height?t.height:r;e/=2,a/=2,o=Math.max(t.x+e,o),n=Math.min(t.x-e,n),s=Math.max(t.y+a,s),i=Math.min(t.y-a,i)}),e.width=o-n,e.height=s-i})}(t),function(t,e){var n=Number.POSITIVE_INFINITY,r=0;t.sort(function(t,e){return e.height-t.height}),d=t.reduce(function(t,e){return t.width<e.width?t.width:e.width});for(var o=f=d,s=v=function(t){var e=0;return t.forEach(function(t){return e+=t.width+i.PADDING}),e}(t),a=0,u=Number.MAX_VALUE,c=Number.MAX_VALUE,l=-1,h=Number.MAX_VALUE,p=Number.MAX_VALUE;h>d||p>i.FLOAT_EPSILON;){if(1!=l)var f=s-(s-o)/i.GOLDEN_SECTION,u=g(t,f);if(0!=l)var v=o+(s-o)/i.GOLDEN_SECTION,c=g(t,v);if(h=Math.abs(f-v),p=Math.abs(u-c),u<n&&(n=u,r=f),c<n&&(n=c,r=v),u>c?(o=f,f=v,u=c,l=1):(s=v,v=f,c=u,l=0),a++>100)break}g(t,r)}(t),function(t){t.forEach(function(t){var e={x:0,y:0};t.array.forEach(function(t){e.x+=t.x,e.y+=t.y}),e.x/=t.array.length,e.y/=t.array.length;var n={x:e.x-t.width/2,y:e.y-t.height/2},i={x:t.x-n.x+u/2-l/2,y:t.y-n.y+c/2-h/2};t.array.forEach(function(t){t.x+=i.x,t.y+=i.y})})}(t))},n.separateGraphs=function(t,e){for(var n={},i={},r=[],o=0,s=0;s<e.length;s++){var a=e[s],u=a.source,c=a.target;i[u.index]?i[u.index].push(c):i[u.index]=[c],i[c.index]?i[c.index].push(u):i[c.index]=[u]}for(s=0;s<t.length;s++){var l=t[s];n[l.index]||h(l,!0)}function h(t,e){if(void 0===n[t.index]){e&&(o++,r.push({array:[]})),n[t.index]=o,r[o-1].array.push(t);var s=i[t.index];if(s)for(var a=0;a<s.length;a++)h(s[a],!1)}}return r}},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./powergraph"),o=t("./linklengths"),s=t("./descent"),a=t("./rectangle"),u=t("./shortestpaths"),c=t("./geom"),l=t("./handledisconnected");function h(t){return void 0!==t.leaves||void 0!==t.groups}!function(t){t[t.start=0]="start",t[t.tick=1]="tick",t[t.end=2]="end"}(i=n.EventType||(n.EventType={}));var d=function(){function t(){var e=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:t.getSourceIndex,getTargetIndex:t.getTargetIndex,setLength:t.setLinkLength,getType:function(t){return"function"==typeof e._linkType?e._linkType(t):0}}}return t.prototype.on=function(t,e){return this.event||(this.event={}),"string"==typeof t?this.event[i[t]]=e:this.event[t]=e,this},t.prototype.trigger=function(t){this.event&&void 0!==this.event[t.type]&&this.event[t.type](t)},t.prototype.kick=function(){for(;!this.tick(););},t.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:i.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t,e,n=this._nodes.length;this._links.length;for(this._descent.locks.clear(),e=0;e<n;++e)if((t=this._nodes[e]).fixed){void 0!==t.px&&void 0!==t.py||(t.px=t.x,t.py=t.y);var r=[t.px,t.py];this._descent.locks.add(e,r)}var o=this._descent.rungeKutta();return 0===o?this._alpha=0:void 0!==this._lastStress&&(this._alpha=o),this._lastStress=o,this.updateNodePositions(),this.trigger({type:i.tick,alpha:this._alpha,stress:this._lastStress}),!1},t.prototype.updateNodePositions=function(){for(var t,e=this._descent.x[0],n=this._descent.x[1],i=this._nodes.length;i--;)(t=this._nodes[i]).x=e[i],t.y=n[i]},t.prototype.nodes=function(t){if(!t){if(0===this._nodes.length&&this._links.length>0){var e=0;this._links.forEach(function(t){e=Math.max(e,t.source,t.target)}),this._nodes=new Array(++e);for(var n=0;n<e;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},t.prototype.groups=function(t){var e=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(t){void 0===t.padding&&(t.padding=1),void 0!==t.leaves&&t.leaves.forEach(function(n,i){"number"==typeof n&&((t.leaves[i]=e._nodes[n]).parent=t)}),void 0!==t.groups&&t.groups.forEach(function(n,i){"number"==typeof n&&((t.groups[i]=e._groups[n]).parent=t)})}),this._rootGroup.leaves=this._nodes.filter(function(t){return void 0===t.parent}),this._rootGroup.groups=this._groups.filter(function(t){return void 0===t.parent}),this):this._groups},t.prototype.powerGraphGroups=function(t){var e=r.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(e.groups),t(e),this},t.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},t.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},t.prototype.flowLayout=function(t,e){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:"number"==typeof e?function(){return e}:e},this},t.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},t.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},t.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},t.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},t.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},t.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},t.prototype.linkDistance=function(t){return t?(this._linkDistance="function"==typeof t?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},t.prototype.linkType=function(t){return this._linkType=t,this},t.prototype.convergenceThreshold=function(t){return t?(this._threshold="function"==typeof t?t:+t,this):this._threshold},t.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?this._alpha=t>0?t:0:t>0&&(this._running||(this._running=!0,this.trigger({type:i.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},t.prototype.getLinkLength=function(t){return"function"==typeof this._linkDistance?+this._linkDistance(t):this._linkDistance},t.setLinkLength=function(t,e){t.length=e},t.prototype.getLinkType=function(t){return"function"==typeof this._linkType?this._linkType(t):0},t.prototype.symmetricDiffLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance(function(e){return t*e.length}),this._linkLengthCalculator=function(){return o.symmetricDiffLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.jaccardLinkLengths=function(t,e){var n=this;return void 0===e&&(e=1),this.linkDistance(function(e){return t*e.length}),this._linkLengthCalculator=function(){return o.jaccardLinkLengths(n._links,n.linkAccessor,e)},this},t.prototype.start=function(e,n,i,r,c){var l=this;void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===c&&(c=!0);var h,d=this.nodes().length,p=d+2*this._groups.length,f=(this._links.length,this._canvasSize[0]),g=this._canvasSize[1],v=new Array(p),y=new Array(p),m=null,b=this._avoidOverlaps;this._nodes.forEach(function(t,e){t.index=e,void 0===t.x&&(t.x=f/2,t.y=g/2),v[e]=t.x,y[e]=t.y}),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?h=this._distanceMatrix:(h=new u.Calculator(p,this._links,t.getSourceIndex,t.getTargetIndex,function(t){return l.getLinkLength(t)}).DistanceMatrix(),m=s.Descent.createSquareMatrix(p,function(){return 2}),this._links.forEach(function(t){"number"==typeof t.source&&(t.source=l._nodes[t.source]),"number"==typeof t.target&&(t.target=l._nodes[t.target])}),this._links.forEach(function(e){var n=t.getSourceIndex(e),i=t.getTargetIndex(e);m[n][i]=m[i][n]=e.weight||1}));var _=s.Descent.createSquareMatrix(p,function(t,e){return h[t][e]});if(this._rootGroup&&void 0!==this._rootGroup.groups){var x=d;this._groups.forEach(function(t){!function(t,e,n,i){m[t][e]=m[e][t]=n,_[t][e]=_[e][t]=i}(x,x+1,l._groupCompactness,.1),v[x]=0,y[x++]=0,v[x]=0,y[x++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var w=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,w=w.concat(o.generateDirectedEdgeConstraints(d,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new s.Descent([v,y],_),this._descent.locks.clear();for(x=0;x<d;++x){var E=this._nodes[x];if(E.fixed){E.px=E.x,E.py=E.y;var k=[E.x,E.y];this._descent.locks.add(x,k)}}if(this._descent.threshold=this._threshold,this.initialLayout(e,v,y),w.length>0&&(this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,w).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(f,g),this.avoidOverlaps(b),b&&(this._nodes.forEach(function(t,e){t.x=v[e],t.y=y[e]}),this._descent.project=new a.Projection(this._nodes,this._groups,this._rootGroup,w,!0).projectFunctions(),this._nodes.forEach(function(t,e){v[e]=t.x,y[e]=t.y})),this._descent.G=m,this._descent.run(i),r){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=d,this._descent.scaleSnapByMaxH=d!=p;var T=s.Descent.createSquareMatrix(p,function(t,e){return t>=d||e>=d?m[t][e]:0});this._descent.G=T,this._descent.run(r)}return this.updateNodePositions(),this.separateOverlappingComponents(f,g),c?this.resume():this},t.prototype.initialLayout=function(e,n,i){if(this._groups.length>0&&e>0){var r=this._nodes.length,o=this._links.map(function(t){return{source:t.source.index,target:t.target.index}}),s=this._nodes.map(function(t){return{index:t.index}});this._groups.forEach(function(t,e){s.push({index:t.index=r+e})}),this._groups.forEach(function(t,e){void 0!==t.leaves&&t.leaves.forEach(function(e){return o.push({source:t.index,target:e.index})}),void 0!==t.groups&&t.groups.forEach(function(e){return o.push({source:t.index,target:e.index})})}),(new t).size(this.size()).nodes(s).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(e,0,0,0,!1),this._nodes.forEach(function(t){n[t.index]=s[t.index].x,i[t.index]=s[t.index].y})}else this._descent.run(e)},t.prototype.separateOverlappingComponents=function(t,e){var n=this;if(!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],r=this._descent.x[1];this._nodes.forEach(function(t,e){t.x=i[e],t.y=r[e]});var o=l.separateGraphs(this._nodes,this._links);l.applyPacking(o,t,e,this._defaultNodeSize),this._nodes.forEach(function(t,e){n._descent.x[0][e]=t.x,n._descent.x[1][e]=t.y,t.bounds&&(t.bounds.setXCentre(t.x),t.bounds.setYCentre(t.y))})}},t.prototype.resume=function(){return this.alpha(.1)},t.prototype.stop=function(){return this.alpha(0)},t.prototype.prepareEdgeRouting=function(t){void 0===t&&(t=0),this._visibilityGraph=new c.TangentVisibilityGraph(this._nodes.map(function(e){return e.bounds.inflate(-t).vertices()}))},t.prototype.routeEdge=function(t,e,n){void 0===e&&(e=5);var i=[],r=new c.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),o={x:t.source.x,y:t.source.y},s={x:t.target.x,y:t.target.y},l=r.addPoint(o,t.source.index),h=r.addPoint(s,t.target.index);r.addEdgeIfVisible(o,s,t.source.index,t.target.index),void 0!==n&&n(r);var d=new u.Calculator(r.V.length,r.E,function(t){return t.source.id},function(t){return t.target.id},function(t){return t.length()}).PathFromNodeToNode(l.id,h.id);if(1===d.length||d.length===r.V.length){var p=a.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,e);i=[p.sourceIntersection,p.arrowStart]}else{for(var f=d.length-2,g=r.V[d[f]].p,v=r.V[d[0]].p,y=(i=[t.source.innerBounds.rayIntersection(g.x,g.y)],f);y>=0;--y)i.push(r.V[d[y]].p);i.push(a.makeEdgeTo(v,t.target.innerBounds,e))}return i},t.getSourceIndex=function(t){return"number"==typeof t.source?t.source:t.source.index},t.getTargetIndex=function(t){return"number"==typeof t.target?t.target:t.target.index},t.linkId=function(e){return t.getSourceIndex(e)+"-"+t.getTargetIndex(e)},t.dragStart=function(e){h(e)?t.storeOffset(e,t.dragOrigin(e)):(t.stopNode(e),e.fixed|=2)},t.stopNode=function(t){t.px=t.x,t.py=t.y},t.storeOffset=function(e,n){void 0!==e.leaves&&e.leaves.forEach(function(e){e.fixed|=2,t.stopNode(e),e._dragGroupOffsetX=e.x-n.x,e._dragGroupOffsetY=e.y-n.y}),void 0!==e.groups&&e.groups.forEach(function(e){return t.storeOffset(e,n)})},t.dragOrigin=function(t){return h(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},t.drag=function(e,n){h(e)?(void 0!==e.leaves&&e.leaves.forEach(function(t){e.bounds.setXCentre(n.x),e.bounds.setYCentre(n.y),t.px=t._dragGroupOffsetX+n.x,t.py=t._dragGroupOffsetY+n.y}),void 0!==e.groups&&e.groups.forEach(function(e){return t.drag(e,n)})):(e.px=n.x,e.py=n.y)},t.dragEnd=function(e){h(e)?(void 0!==e.leaves&&e.leaves.forEach(function(e){t.dragEnd(e),delete e._dragGroupOffsetX,delete e._dragGroupOffsetY}),void 0!==e.groups&&e.groups.forEach(t.dragEnd)):e.fixed&=-7},t.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},t.mouseOut=function(t){t.fixed&=-5},t}();n.Layout=d},{"./descent":7,"./geom":8,"./handledisconnected":10,"./linklengths":13,"./powergraph":14,"./rectangle":17,"./shortestpaths":18}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./shortestpaths"),r=t("./descent"),o=t("./rectangle"),s=t("./linklengths"),a=function(){function t(t,e){this.source=t,this.target=e}return t.prototype.actualLength=function(t){var e=this;return Math.sqrt(t.reduce(function(t,n){var i=n[e.target]-n[e.source];return t+i*i},0))},t}();n.Link3D=a;var u=function(){return function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n}}();n.Node3D=u;var c=function(){function t(e,n,i){void 0===i&&(i=1);var r=this;this.nodes=e,this.links=n,this.idealLinkLength=i,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(t.k);for(var o=0;o<t.k;++o)this.result[o]=new Array(e.length);e.forEach(function(e,n){for(var i=0,o=t.dims;i<o.length;i++){var s=o[i];void 0===e[s]&&(e[s]=Math.random())}r.result[0][n]=e.x,r.result[1][n]=e.y,r.result[2][n]=e.z})}return t.prototype.linkLength=function(t){return t.actualLength(this.result)},t.prototype.start=function(t){var e=this;void 0===t&&(t=100);var n=this.nodes.length,a=new l;this.useJaccardLinkLengths&&s.jaccardLinkLengths(this.links,a,1.5),this.links.forEach(function(t){return t.length*=e.idealLinkLength});var u=new i.Calculator(n,this.links,function(t){return t.source},function(t){return t.target},function(t){return t.length}).DistanceMatrix(),c=r.Descent.createSquareMatrix(n,function(t,e){return u[t][e]}),h=r.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(t){var e=t.source,n=t.target;return h[e][n]=h[n][e]=1}),this.descent=new r.Descent(this.result,c),this.descent.threshold=.001,this.descent.G=h,this.constraints&&(this.descent.project=new o.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var d=0;d<this.nodes.length;d++){var p=this.nodes[d];p.fixed&&this.descent.locks.add(d,[p.x,p.y,p.z])}return this.descent.run(t),this},t.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];e.fixed&&this.descent.locks.add(t,[e.x,e.y,e.z])}return this.descent.rungeKutta()},t.dims=["x","y","z"],t.k=t.dims.length,t}();n.Layout3D=c;var l=function(){function t(){}return t.prototype.getSourceIndex=function(t){return t.source},t.prototype.getTargetIndex=function(t){return t.target},t.prototype.getLength=function(t){return t.length},t.prototype.setLength=function(t,e){t.length=e},t}()},{"./descent":7,"./linklengths":13,"./rectangle":17,"./shortestpaths":18}],13:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)n[i]={};for(var i in e)n[i]={};return Object.keys(n).length}function r(t,e){var n=0;for(var i in t)void 0!==e[i]&&++n;return n}function o(t,e,n,i){var r=function(t,e){var n={},i=function(t,e){void 0===n[t]&&(n[t]={}),n[t][e]={}};return t.forEach(function(t){var n=e.getSourceIndex(t),r=e.getTargetIndex(t);i(n,r),i(r,n)}),n}(t,i);t.forEach(function(t){var o=r[i.getSourceIndex(t)],s=r[i.getTargetIndex(t)];i.setLength(t,1+e*n(o,s))})}function s(t,e,n){var i=[],r=0,o=[],s=[];function a(t){t.index=t.lowlink=r++,o.push(t),t.onStack=!0;for(var e=0,n=t.out;e<n.length;e++){var i=n[e];void 0===i.index?(a(i),t.lowlink=Math.min(t.lowlink,i.lowlink)):i.onStack&&(t.lowlink=Math.min(t.lowlink,i.index))}if(t.lowlink===t.index){for(var u=[];o.length&&((i=o.pop()).onStack=!1,u.push(i),i!==t););s.push(u.map(function(t){return t.id}))}}for(var u=0;u<t;u++)i.push({id:u,out:[]});for(var c=0,l=e;c<l.length;c++){var h=l[c],d=i[n.getSourceIndex(h)],p=i[n.getTargetIndex(h)];d.out.push(p)}for(var f=0,g=i;f<g.length;f++){var v=g[f];void 0===v.index&&a(v)}return s}Object.defineProperty(n,"__esModule",{value:!0}),n.symmetricDiffLinkLengths=function(t,e,n){void 0===n&&(n=1),o(t,n,function(t,e){return Math.sqrt(i(t,e)-r(t,e))},e)},n.jaccardLinkLengths=function(t,e,n){void 0===n&&(n=1),o(t,n,function(t,e){return Math.min(Object.keys(t).length,Object.keys(e).length)<1.1?0:r(t,e)/i(t,e)},e)},n.generateDirectedEdgeConstraints=function(t,e,n,i){var r=s(t,e,i),o={};r.forEach(function(t,e){return t.forEach(function(t){return o[t]=e})});var a=[];return e.forEach(function(t){var e=i.getSourceIndex(t),r=i.getTargetIndex(t);o[e]!==o[r]&&a.push({axis:n,left:e,right:r,gap:i.getMinSeparation(t)})}),a},n.stronglyConnectedComponents=s},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,e,n){this.source=t,this.target=e,this.type=n}}();n.PowerEdge=i;var r=function(){function t(t,e,n,i){var r=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],i)this.initModulesFromGroup(i);else{this.roots.push(new a);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new o(s))}this.R=e.length,e.forEach(function(t){var e=r.modules[n.getSourceIndex(t)],i=r.modules[n.getTargetIndex(t)],o=n.getType(t);e.outgoing.add(o,i),i.incoming.add(o,e)})}return t.prototype.initModulesFromGroup=function(t){var e=new a;this.roots.push(e);for(var n=0;n<t.leaves.length;++n){var i=t.leaves[n],r=new o(i.id);this.modules[i.id]=r,e.add(r)}if(t.groups)for(var s=0;s<t.groups.length;++s){var c=t.groups[s],l={};for(var h in c)"leaves"!==h&&"groups"!==h&&c.hasOwnProperty(h)&&(l[h]=c[h]);e.add(new o(-1-s,new u,new u,this.initModulesFromGroup(c),l))}return e},t.prototype.merge=function(t,e,n){void 0===n&&(n=0);var i=t.incoming.intersection(e.incoming),r=t.outgoing.intersection(e.outgoing),s=new a;s.add(t),s.add(e);var u=new o(this.modules.length,r,i,s);this.modules.push(u);var c=function(n,i,r){n.forAll(function(n,o){n.forAll(function(n){var s=n[i];s.add(o,u),s.remove(o,t),s.remove(o,e),t[r].remove(o,n),e[r].remove(o,n)})})};return c(r,"incoming","outgoing"),c(i,"outgoing","incoming"),this.R-=i.count()+r.count(),this.roots[n].remove(t),this.roots[n].remove(e),this.roots[n].add(u),u},t.prototype.rootMerges=function(t){void 0===t&&(t=0);for(var e=this.roots[t].modules(),n=e.length,i=new Array(n*(n-1)),r=0,o=0,s=n-1;o<s;++o)for(var a=o+1;a<n;++a){var u=e[o],c=e[a];i[r]={id:r,nEdges:this.nEdges(u,c),a:u,b:c},r++}return i},t.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var e=this.rootMerges(t).sort(function(t,e){return t.nEdges==e.nEdges?t.id-e.id:t.nEdges-e.nEdges})[0];if(!(e.nEdges>=this.R))return this.merge(e.a,e.b,t),!0}},t.prototype.nEdges=function(t,e){var n=t.incoming.intersection(e.incoming),i=t.outgoing.intersection(e.outgoing);return this.R-n.count()-i.count()},t.prototype.getGroupHierarchy=function(t){var e=this,n=[];return function t(e,n,i){e.forAll(function(e){if(e.isLeaf())n.leaves||(n.leaves=[]),n.leaves.push(e.id);else{var r=n;if(e.gid=i.length,!e.isIsland()||e.isPredefined()){if(r={id:e.gid},e.isPredefined())for(var o in e.definition)r[o]=e.definition[o];n.groups||(n.groups=[]),n.groups.push(e.gid),i.push(r)}t(e.children,r,i)}})}(this.roots[0],{},n),this.allEdges().forEach(function(r){var o=e.modules[r.source],s=e.modules[r.target];t.push(new i(void 0===o.gid?r.source:n[o.gid],void 0===s.gid?r.target:n[s.gid],r.type))}),n},t.prototype.allEdges=function(){var e=[];return t.getEdges(this.roots[0],e),e},t.getEdges=function(e,n){e.forAll(function(e){e.getEdges(n),t.getEdges(e.children,n)})},t}();n.Configuration=r;var o=function(){function t(t,e,n,i,r){void 0===e&&(e=new u),void 0===n&&(n=new u),void 0===i&&(i=new a),this.id=t,this.outgoing=e,this.incoming=n,this.children=i,this.definition=r}return t.prototype.getEdges=function(t){var e=this;this.outgoing.forAll(function(n,r){n.forAll(function(n){t.push(new i(e.id,n.id,r))})})},t.prototype.isLeaf=function(){return 0===this.children.count()},t.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},t.prototype.isPredefined=function(){return void 0!==this.definition},t}();function s(t,e){var n={};for(var i in t)i in e&&(n[i]=t[i]);return n}n.Module=o;var a=function(){function t(){this.table={}}return t.prototype.count=function(){return Object.keys(this.table).length},t.prototype.intersection=function(e){var n=new t;return n.table=s(this.table,e.table),n},t.prototype.intersectionCount=function(t){return this.intersection(t).count()},t.prototype.contains=function(t){return t in this.table},t.prototype.add=function(t){this.table[t.id]=t},t.prototype.remove=function(t){delete this.table[t.id]},t.prototype.forAll=function(t){for(var e in this.table)t(this.table[e])},t.prototype.modules=function(){var t=[];return this.forAll(function(e){e.isPredefined()||t.push(e)}),t},t}();n.ModuleSet=a;var u=function(){function t(){this.sets={},this.n=0}return t.prototype.count=function(){return this.n},t.prototype.contains=function(t){var e=!1;return this.forAllModules(function(n){e||n.id!=t||(e=!0)}),e},t.prototype.add=function(t,e){(t in this.sets?this.sets[t]:this.sets[t]=new a).add(e),++this.n},t.prototype.remove=function(t,e){var n=this.sets[t];n.remove(e),0===n.count()&&delete this.sets[t],--this.n},t.prototype.forAll=function(t){for(var e in this.sets)t(this.sets[e],Number(e))},t.prototype.forAllModules=function(t){this.forAll(function(e,n){return e.forAll(t)})},t.prototype.intersection=function(e){var n=new t;return this.forAll(function(t,i){if(i in e.sets){var r=t.intersection(e.sets[i]),o=r.count();o>0&&(n.sets[i]=r,n.n+=o)}}),n},t}();n.LinkSets=u,n.getGroups=function(t,e,n,i){for(var o=t.length,s=new r(o,e,n,i);s.greedyMerge(););var a=[],u=s.getGroupHierarchy(a);return a.forEach(function(e){var n=function(n){var i=e[n];"number"==typeof i&&(e[n]=t[i])};n("source"),n("target")}),{groups:u,powerEdges:a}}},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.elem=t,this.subheaps=[]}return t.prototype.toString=function(t){for(var e="",n=!1,i=0;i<this.subheaps.length;++i){var r=this.subheaps[i];r.elem?(n&&(e+=","),e+=r.toString(t),n=!0):n=!1}return""!==e&&(e="("+e+")"),(this.elem?t(this.elem):"")+e},t.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(e){return e.forEach(t)}))},t.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,e){return t+e.count()},0)},t.prototype.min=function(){return this.elem},t.prototype.empty=function(){return null==this.elem},t.prototype.contains=function(t){if(this===t)return!0;for(var e=0;e<this.subheaps.length;e++)if(this.subheaps[e].contains(t))return!0;return!1},t.prototype.isHeap=function(t){var e=this;return this.subheaps.every(function(n){return t(e.elem,n.elem)&&n.isHeap(t)})},t.prototype.insert=function(e,n){return this.merge(new t(e),n)},t.prototype.merge=function(t,e){return this.empty()?t:t.empty()?this:e(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},t.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},t.prototype.mergePairs=function(e){if(0==this.subheaps.length)return new t(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),e),i=this.mergePairs(e);return n.merge(i,e)},t.prototype.decreaseKey=function(e,n,i,r){var o=e.removeMin(r);e.elem=o.elem,e.subheaps=o.subheaps,null!==i&&null!==o.elem&&i(e.elem,e);var s=new t(n);return null!==i&&i(n,s),this.merge(s,r)},t}();n.PairingHeap=i;var r=function(){function t(t){this.lessThan=t}return t.prototype.top=function(){return this.empty()?null:this.root.elem},t.prototype.push=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r,o=0;r=e[o];++o)t=new i(r),this.root=this.empty()?t:this.root.merge(t,this.lessThan);return t},t.prototype.empty=function(){return!this.root||!this.root.elem},t.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},t.prototype.forEach=function(t){this.root.forEach(t)},t.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},t.prototype.reduceKey=function(t,e,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(t,e,n,this.lessThan)},t.prototype.toString=function(t){return this.root.toString(t)},t.prototype.count=function(){return this.root.count()},t}();n.PriorityQueue=r},{}],16:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.findIter=function(t){for(var e=this._root,n=this.iterator();null!==e;){var i=this._comparator(t,e.data);if(0===i)return n._cursor=e,n;n._ancestors.push(e),e=e.get_child(i>0)}return null}}return t.prototype.clear=function(){this._root=null,this.size=0},t.prototype.find=function(t){for(var e=this._root;null!==e;){var n=this._comparator(t,e.data);if(0===n)return e.data;e=e.get_child(n>0)}return null},t.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},t.prototype.upperBound=function(t){var e=this._comparator;return this._bound(t,function(t,n){return e(n,t)})},t.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},t.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},t.prototype.iterator=function(){return new s(this)},t.prototype.each=function(t){for(var e,n=this.iterator();null!==(e=n.next());)t(e)},t.prototype.reach=function(t){for(var e,n=this.iterator();null!==(e=n.prev());)t(e)},t.prototype._bound=function(t,e){for(var n=this._root,i=this.iterator();null!==n;){var r=this._comparator(t,n.data);if(0===r)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(r>0)}for(var o=i._ancestors.length-1;o>=0;--o)if(e(t,(n=i._ancestors[o]).data)>0)return i._cursor=n,i._ancestors.length=o,i;return i._ancestors.length=0,i},t}();n.TreeBase=o;var s=function(){function t(t){this._tree=t,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},t.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var e;if(null===this._cursor.right)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},t.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var e;if(null===this._cursor.left)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},t.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},t.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t}();n.Iterator=s;var a=function(){function t(t){this.data=t,this.left=null,this.right=null,this.red=!0}return t.prototype.get_child=function(t){return t?this.right:this.left},t.prototype.set_child=function(t,e){t?this.right=e:this.left=e},t}(),u=function(t){function e(e){var n=t.call(this)||this;return n._root=null,n._comparator=e,n.size=0,n}return r(e,t),e.prototype.insert=function(t){var n=!1;if(null===this._root)this._root=new a(t),n=!0,this.size++;else{var i=new a(void 0),r=!1,o=!1,s=null,u=i,c=null,l=this._root;for(u.right=this._root;;){if(null===l?(l=new a(t),c.set_child(r,l),n=!0,this.size++):e.is_red(l.left)&&e.is_red(l.right)&&(l.red=!0,l.left.red=!1,l.right.red=!1),e.is_red(l)&&e.is_red(c)){var h=u.right===s;l===c.get_child(o)?u.set_child(h,e.single_rotate(s,!o)):u.set_child(h,e.double_rotate(s,!o))}var d=this._comparator(l.data,t);if(0===d)break;o=r,r=d<0,null!==s&&(u=s),s=c,c=l,l=l.get_child(r)}this._root=i.right}return this._root.red=!1,n},e.prototype.remove=function(t){if(null===this._root)return!1;var n=new a(void 0),i=n;i.right=this._root;for(var r=null,o=null,s=null,u=!0;null!==i.get_child(u);){var c=u;o=r,r=i,i=i.get_child(u);var l=this._comparator(t,i.data);if(u=l>0,0===l&&(s=i),!e.is_red(i)&&!e.is_red(i.get_child(u)))if(e.is_red(i.get_child(!u))){var h=e.single_rotate(i,u);r.set_child(c,h),r=h}else if(!e.is_red(i.get_child(!u))){var d=r.get_child(!c);if(null!==d)if(e.is_red(d.get_child(!c))||e.is_red(d.get_child(c))){var p=o.right===r;e.is_red(d.get_child(c))?o.set_child(p,e.double_rotate(r,c)):e.is_red(d.get_child(!c))&&o.set_child(p,e.single_rotate(r,c));var f=o.get_child(p);f.red=!0,i.red=!0,f.left.red=!1,f.right.red=!1}else r.red=!1,d.red=!0,i.red=!0}}return null!==s&&(s.data=i.data,r.set_child(r.right===i,i.get_child(null===i.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==s},e.is_red=function(t){return null!==t&&t.red},e.single_rotate=function(t,e){var n=t.get_child(!e);return t.set_child(!e,n.get_child(e)),n.set_child(e,t),t.red=!0,n.red=!1,n},e.double_rotate=function(t,n){return t.set_child(!n,e.single_rotate(t.get_child(!n),!n)),e.single_rotate(t,n)},e}(o);n.RBTree=u},{}],17:[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o=t("./vpsc"),s=t("./rbtree");function a(t){return t.bounds=void 0!==t.leaves?t.leaves.reduce(function(t,e){return e.bounds.union(t)},u.empty()):u.empty(),void 0!==t.groups&&(t.bounds=t.groups.reduce(function(t,e){return a(e).union(t)},t.bounds)),t.bounds=t.bounds.inflate(t.padding),t.bounds}n.computeGroupBounds=a;var u=function(){function t(t,e,n,i){this.x=t,this.X=e,this.y=n,this.Y=i}return t.empty=function(){return new t(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},t.prototype.cx=function(){return(this.x+this.X)/2},t.prototype.cy=function(){return(this.y+this.Y)/2},t.prototype.overlapX=function(t){var e=this.cx(),n=t.cx();return e<=n&&t.x<this.X?this.X-t.x:n<=e&&this.x<t.X?t.X-this.x:0},t.prototype.overlapY=function(t){var e=this.cy(),n=t.cy();return e<=n&&t.y<this.Y?this.Y-t.y:n<=e&&this.y<t.Y?t.Y-this.y:0},t.prototype.setXCentre=function(t){var e=t-this.cx();this.x+=e,this.X+=e},t.prototype.setYCentre=function(t){var e=t-this.cy();this.y+=e,this.Y+=e},t.prototype.width=function(){return this.X-this.x},t.prototype.height=function(){return this.Y-this.y},t.prototype.union=function(e){return new t(Math.min(this.x,e.x),Math.max(this.X,e.X),Math.min(this.y,e.y),Math.max(this.Y,e.Y))},t.prototype.lineIntersections=function(e,n,i,r){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var u=t.lineIntersection(e,n,i,r,o[a][0],o[a][1],o[a][2],o[a][3]);null!==u&&s.push({x:u.x,y:u.y})}return s},t.prototype.rayIntersection=function(t,e){var n=this.lineIntersections(this.cx(),this.cy(),t,e);return n.length>0?n[0]:null},t.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},t.lineIntersection=function(t,e,n,i,r,o,s,a){var u=n-t,c=s-r,l=i-e,h=a-o,d=h*u-c*l;if(0==d)return null;var p=t-r,f=e-o,g=(c*f-h*p)/d,v=(u*f-l*p)/d;return g>=0&&g<=1&&v>=0&&v<=1?{x:t+g*u,y:e+g*l}:null},t.prototype.inflate=function(e){return new t(this.x-e,this.X+e,this.y-e,this.Y+e)},t}();n.Rectangle=u,n.makeEdgeBetween=function(t,e,n){var i=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},r=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},o=r.x-i.x,s=r.y-i.y,a=Math.sqrt(o*o+s*s),u=a-n;return{sourceIntersection:i,targetIntersection:r,arrowStart:{x:i.x+u*o/a,y:i.y+u*s/a}}},n.makeEdgeTo=function(t,e,n){var i=e.rayIntersection(t.x,t.y);i||(i={x:e.cx(),y:e.cy()});var r=i.x-t.x,o=i.y-t.y,s=Math.sqrt(r*r+o*o);return{x:i.x-n*r/s,y:i.y-n*o/s}};var c=function(){return function(t,e,n){this.v=t,this.r=e,this.pos=n,this.prev=d(),this.next=d()}}(),l=function(){return function(t,e,n){this.isOpen=t,this.v=e,this.pos=n}}();function h(t,e){return t.pos>e.pos?1:t.pos<e.pos?-1:t.isOpen?-1:e.isOpen?1:0}function d(){return new s.RBTree(function(t,e){return t.pos-e.pos})}var p={getCentre:function(t){return t.cx()},getOpen:function(t){return t.y},getClose:function(t){return t.Y},getSize:function(t){return t.width()},makeRect:function(t,e,n,i){return new u(n-i/2,n+i/2,t,e)},findNeighbours:function(t,e){var n=function(n,i){for(var r,o=e.findIter(t);null!==(r=o[n]());){var s=r.r.overlapX(t.r);if((s<=0||s<=r.r.overlapY(t.r))&&(t[n].insert(r),r[i].insert(t)),s<=0)break}};n("next","prev"),n("prev","next")}},f={getCentre:function(t){return t.cy()},getOpen:function(t){return t.x},getClose:function(t){return t.X},getSize:function(t){return t.height()},makeRect:function(t,e,n,i){return new u(t,e,n-i/2,n+i/2)},findNeighbours:function(t,e){var n=function(n,i){var r=e.findIter(t)[n]();null!==r&&r.r.overlapX(t.r)>0&&(t[n].insert(r),r[i].insert(t))};n("next","prev"),n("prev","next")}};function g(t,e,n,i){void 0===i&&(i=!1);var r=t.padding,o=void 0!==t.groups?t.groups.length:0,s=void 0!==t.leaves?t.leaves.length:0,a=o?t.groups.reduce(function(t,i){return t.concat(g(i,e,n,!0))},[]):[],u=(i?2:0)+s+o,c=new Array(u),l=new Array(u),h=0,d=function(t,e){l[h]=t,c[h++]=e};if(i){var p=t.bounds,f=e.getCentre(p),y=e.getSize(p)/2,m=e.getOpen(p),b=e.getClose(p),_=f-y+r/2,x=f+y-r/2;t.minVar.desiredPosition=_,d(e.makeRect(m,b,_,r),t.minVar),t.maxVar.desiredPosition=x,d(e.makeRect(m,b,x,r),t.maxVar)}s&&t.leaves.forEach(function(t){return d(t.bounds,t.variable)}),o&&t.groups.forEach(function(t){var n=t.bounds;d(e.makeRect(e.getOpen(n),e.getClose(n),e.getCentre(n),e.getSize(n)),t.minVar)});var w=v(l,c,e,n);return o&&(c.forEach(function(t){t.cOut=[],t.cIn=[]}),w.forEach(function(t){t.left.cOut.push(t),t.right.cIn.push(t)}),t.groups.forEach(function(t){var n=(t.padding-e.getSize(t.bounds))/2;t.minVar.cIn.forEach(function(t){return t.gap+=n}),t.minVar.cOut.forEach(function(e){e.left=t.maxVar,e.gap+=n})})),a.concat(w)}function v(t,e,n,i){var r,s=t.length,a=2*s;console.assert(e.length>=s);var u=new Array(a);for(r=0;r<s;++r){var p=t[r],f=new c(e[r],p,n.getCentre(p));u[r]=new l(!0,f,n.getOpen(p)),u[r+s]=new l(!1,f,n.getClose(p))}u.sort(h);var g=new Array,v=d();for(r=0;r<a;++r){var y=u[r];f=y.v;if(y.isOpen)v.insert(f),n.findNeighbours(f,v);else{v.remove(f);var m=function(t,e){var r=(n.getSize(t.r)+n.getSize(e.r))/2+i;g.push(new o.Constraint(t.v,e.v,r))},b=function(t,e,n){for(var i,r=f[t].iterator();null!==(i=r[t]());)n(i,f),i[e].remove(f)};b("prev","next",function(t,e){return m(t,e)}),b("next","prev",function(t,e){return m(e,t)})}}return console.assert(0===v.size),g}function y(t,e){return v(t,e,p,1e-6)}function m(t,e){return v(t,e,f,1e-6)}function b(t){return g(t,p,1e-6)}function _(t){return g(t,f,1e-6)}n.generateXConstraints=y,n.generateYConstraints=m,n.generateXGroupConstraints=b,n.generateYGroupConstraints=_,n.removeOverlaps=function(t){var e=t.map(function(t){return new o.Variable(t.cx())}),n=y(t,e),i=new o.Solver(e,n);i.solve(),e.forEach(function(e,n){return t[n].setXCentre(e.position())}),e=t.map(function(t){return new o.Variable(t.cy())}),n=m(t,e),(i=new o.Solver(e,n)).solve(),e.forEach(function(e,n){return t[n].setYCentre(e.position())})};var x=function(t){function e(e,n){var i=t.call(this,0,n)||this;return i.index=e,i}return r(e,t),e}(o.Variable);n.IndexedVariable=x;var w=function(){function t(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=!1);var o=this;if(this.nodes=t,this.groups=e,this.rootGroup=n,this.avoidOverlaps=r,this.variables=t.map(function(t,e){return t.variable=new x(e,1)}),i&&this.createConstraints(i),r&&n&&void 0!==n.groups){t.forEach(function(t){if(t.width&&t.height){var e=t.width/2,n=t.height/2;t.bounds=new u(t.x-e,t.x+e,t.y-n,t.y+n)}else t.bounds=new u(t.x,t.x,t.y,t.y)}),a(n);var s=t.length;e.forEach(function(t){o.variables[s]=t.minVar=new x(s++,void 0!==t.stiffness?t.stiffness:.01),o.variables[s]=t.maxVar=new x(s++,void 0!==t.stiffness?t.stiffness:.01)})}}return t.prototype.createSeparation=function(t){return new o.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,void 0!==t.equality&&t.equality)},t.prototype.makeFeasible=function(t){var e=this;if(this.avoidOverlaps){var n="x",i="width";"x"===t.axis&&(n="y",i="height");var r=t.offsets.map(function(t){return e.nodes[t.node]}).sort(function(t,e){return t[n]-e[n]}),o=null;r.forEach(function(t){if(o){var e=o[n]+o[i];e>t[n]&&(t[n]=e)}o=t})}},t.prototype.createAlignment=function(t){var e=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var i="x"===t.axis?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(t){var r=e.nodes[t.node].variable;i.push(new o.Constraint(n,r,t.offset,!0))})},t.prototype.createConstraints=function(t){var e=this,n=function(t){return void 0===t.type||"separation"===t.type};this.xConstraints=t.filter(function(t){return"x"===t.axis&&n(t)}).map(function(t){return e.createSeparation(t)}),this.yConstraints=t.filter(function(t){return"y"===t.axis&&n(t)}).map(function(t){return e.createSeparation(t)}),t.filter(function(t){return"alignment"===t.type}).forEach(function(t){return e.createAlignment(t)})},t.prototype.setupVariablesAndBounds=function(t,e,n,i){this.nodes.forEach(function(r,o){r.fixed?(r.variable.weight=r.fixedWeight?r.fixedWeight:1e3,n[o]=i(r)):r.variable.weight=1;var s=(r.width||0)/2,a=(r.height||0)/2,c=t[o],l=e[o];r.bounds=new u(c-s,c+s,l-a,l+a)})},t.prototype.xProject=function(t,e,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(t,e,t,n,function(t){return t.px},this.xConstraints,b,function(t){return t.bounds.setXCentre(n[t.variable.index]=t.variable.position())},function(t){var e=n[t.minVar.index]=t.minVar.position(),i=n[t.maxVar.index]=t.maxVar.position(),r=t.padding/2;t.bounds.x=e-r,t.bounds.X=i+r})},t.prototype.yProject=function(t,e,n){(this.rootGroup||this.yConstraints)&&this.project(t,e,e,n,function(t){return t.py},this.yConstraints,_,function(t){return t.bounds.setYCentre(n[t.variable.index]=t.variable.position())},function(t){var e=n[t.minVar.index]=t.minVar.position(),i=n[t.maxVar.index]=t.maxVar.position(),r=t.padding/2;t.bounds.y=e-r,t.bounds.Y=i+r})},t.prototype.projectFunctions=function(){var t=this;return[function(e,n,i){return t.xProject(e,n,i)},function(e,n,i){return t.yProject(e,n,i)}]},t.prototype.project=function(t,e,n,i,r,o,s,u,c){this.setupVariablesAndBounds(t,e,i,r),this.rootGroup&&this.avoidOverlaps&&(a(this.rootGroup),o=o.concat(s(this.rootGroup))),this.solve(this.variables,o,n,i),this.nodes.forEach(u),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(c),a(this.rootGroup))},t.prototype.solve=function(t,e,n,i){var r=new o.Solver(t,e);r.setStartingPositions(n),r.setDesiredPositions(i),r.solve()},t}();n.Projection=w},{"./rbtree":16,"./vpsc":19}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("./pqueue"),r=function(){return function(t,e){this.id=t,this.distance=e}}(),o=function(){return function(t){this.id=t,this.neighbours=[]}}(),s=function(){return function(t,e,n){this.node=t,this.prev=e,this.d=n}}(),a=function(){function t(t,e,n,i,s){this.n=t,this.es=e,this.neighbours=new Array(this.n);for(var a=this.n;a--;)this.neighbours[a]=new o(a);for(a=this.es.length;a--;){var u=this.es[a],c=n(u),l=i(u),h=s(u);this.neighbours[c].neighbours.push(new r(l,h)),this.neighbours[l].neighbours.push(new r(c,h))}}return t.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),e=0;e<this.n;++e)t[e]=this.dijkstraNeighbours(e);return t},t.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},t.prototype.PathFromNodeToNode=function(t,e){return this.dijkstraNeighbours(t,e)},t.prototype.PathFromNodeToNodeWithPrevCost=function(t,e,n){var r=new i.PriorityQueue(function(t,e){return t.d<=e.d}),o=this.neighbours[t],a=new s(o,null,0),u={};for(r.push(a);!r.empty()&&(o=(a=r.pop()).node).id!==e;)for(var c=o.neighbours.length;c--;){var l=o.neighbours[c],h=this.neighbours[l.id];if(!a.prev||h.id!==a.prev.node.id){var d=h.id+","+o.id;if(!(d in u&&u[d]<=a.d)){var p=a.prev?n(a.prev.node.id,o.id,h.id):0,f=a.d+l.distance+p;u[d]=f,r.push(new s(h,a,f))}}}for(var g=[];a.prev;)a=a.prev,g.push(a.node.id);return g},t.prototype.dijkstraNeighbours=function(t,e){void 0===e&&(e=-1);for(var n=new i.PriorityQueue(function(t,e){return t.d<=e.d}),r=this.neighbours.length,o=new Array(r);r--;){var s=this.neighbours[r];s.d=r===t?0:Number.POSITIVE_INFINITY,s.q=n.push(s)}for(;!n.empty();){var a=n.pop();if(o[a.id]=a.d,a.id===e){for(var u=[],c=a;void 0!==c.prev;)u.push(c.prev.id),c=c.prev;return u}for(r=a.neighbours.length;r--;){var l=a.neighbours[r],h=(c=this.neighbours[l.id],a.d+l.distance);a.d!==Number.MAX_VALUE&&c.d>h&&(c.d=h,c.prev=a,n.reduceKey(c.q,c,function(t,e){return t.q=e}))}}return o},t}();n.Calculator=a},{"./pqueue":15}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return t.prototype.addVariable=function(t){var e=this.scale/t.scale,n=t.offset/t.scale,i=t.weight;this.AB+=i*e*n,this.AD+=i*e*t.desiredPosition,this.A2+=i*e*e},t.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},t}();n.PositionStats=i;var r=function(){function t(t,e,n,i){void 0===i&&(i=!1),this.left=t,this.right=e,this.gap=n,this.equality=i,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=e,this.gap=n,this.equality=i}return t.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},t}();n.Constraint=r;var o=function(){function t(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.desiredPosition=t,this.weight=e,this.scale=n,this.offset=0}return t.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},t.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},t.prototype.visitNeighbours=function(t,e){var n=function(n,i){return n.active&&t!==i&&e(n,i)};this.cOut.forEach(function(t){return n(t,t.right)}),this.cIn.forEach(function(t){return n(t,t.left)})},t}();n.Variable=o;var s=function(){function t(t){this.vars=[],t.offset=0,this.ps=new i(t.scale),this.addVariable(t)}return t.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},t.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,e=this.vars.length;t<e;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},t.prototype.compute_lm=function(t,e,n){var i=this,r=t.dfdv();return t.visitNeighbours(e,function(e,o){var s=i.compute_lm(o,t,n);o===e.right?(r+=s*e.left.scale,e.lm=s):(r+=s*e.right.scale,e.lm=-s),n(e)}),r/t.scale},t.prototype.populateSplitBlock=function(t,e){var n=this;t.visitNeighbours(e,function(e,i){i.offset=t.offset+(i===e.right?e.gap:-e.gap),n.addVariable(i),n.populateSplitBlock(i,t)})},t.prototype.traverse=function(t,e,n,i){var r=this;void 0===n&&(n=this.vars[0]),void 0===i&&(i=null),n.visitNeighbours(i,function(i,o){e.push(t(i)),r.traverse(t,e,o,n)})},t.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(e){!e.equality&&(null===t||e.lm<t.lm)&&(t=e)}),t},t.prototype.findMinLMBetween=function(t,e){this.compute_lm(t,null,function(){});var n=null;return this.findPath(t,null,e,function(t,e){!t.equality&&t.right===e&&(null===n||t.lm<n.lm)&&(n=t)}),n},t.prototype.findPath=function(t,e,n,i){var r=this,o=!1;return t.visitNeighbours(e,function(e,s){o||s!==n&&!r.findPath(s,t,n,i)||(o=!0,i(e,s))}),o},t.prototype.isActiveDirectedPathBetween=function(t,e){if(t===e)return!0;for(var n=t.cOut.length;n--;){var i=t.cOut[n];if(i.active&&this.isActiveDirectedPathBetween(i.right,e))return!0}return!1},t.split=function(e){return e.active=!1,[t.createSplitBlock(e.left),t.createSplitBlock(e.right)]},t.createSplitBlock=function(e){var n=new t(e);return n.populateSplitBlock(e,null),n},t.prototype.splitBetween=function(e,n){var i=this.findMinLMBetween(e,n);if(null!==i){var r=t.split(i);return{constraint:i,lb:r[0],rb:r[1]}}return null},t.prototype.mergeAcross=function(t,e,n){e.active=!0;for(var i=0,r=t.vars.length;i<r;++i){var o=t.vars[i];o.offset+=n,this.addVariable(o)}this.posn=this.ps.getPosn()},t.prototype.cost=function(){for(var t=0,e=this.vars.length;e--;){var n=this.vars[e],i=n.position()-n.desiredPosition;t+=i*i*n.weight}return t},t}();n.Block=s;var a=function(){function t(t){this.vs=t;var e=t.length;for(this.list=new Array(e);e--;){var n=new s(t[e]);this.list[e]=n,n.blockInd=e}}return t.prototype.cost=function(){for(var t=0,e=this.list.length;e--;)t+=this.list[e].cost();return t},t.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},t.prototype.remove=function(t){var e=this.list.length-1,n=this.list[e];this.list.length=e,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},t.prototype.merge=function(t){var e=t.left.block,n=t.right.block,i=t.right.offset-t.left.offset-t.gap;e.vars.length<n.vars.length?(n.mergeAcross(e,t,i),this.remove(e)):(e.mergeAcross(n,t,-i),this.remove(n))},t.prototype.forEach=function(t){this.list.forEach(t)},t.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},t.prototype.split=function(t){var e=this;this.updateBlockPositions(),this.list.forEach(function(n){var i=n.findMinLM();null!==i&&i.lm<u.LAGRANGIAN_TOLERANCE&&(n=i.left.block,s.split(i).forEach(function(t){return e.insert(t)}),e.remove(n),t.push(i))})},t}();n.Blocks=a;var u=function(){function t(t,e){this.vs=t,this.cs=e,this.vs=t,t.forEach(function(t){t.cIn=[],t.cOut=[]}),this.cs=e,e.forEach(function(t){t.left.cOut.push(t),t.right.cIn.push(t)}),this.inactive=e.map(function(t){return t.active=!1,t}),this.bs=null}return t.prototype.cost=function(){return this.bs.cost()},t.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(t){return t.active=!1,t}),this.bs=new a(this.vs),this.bs.forEach(function(e,n){return e.posn=t[n]})},t.prototype.setDesiredPositions=function(t){this.vs.forEach(function(e,n){return e.desiredPosition=t[n]})},t.prototype.mostViolated=function(){for(var e=Number.MAX_VALUE,n=null,i=this.inactive,r=i.length,o=r,s=0;s<r;++s){var a=i[s];if(!a.unsatisfiable){var u=a.slack();if((a.equality||u<e)&&(e=u,n=a,o=s,a.equality))break}}return o!==r&&(e<t.ZERO_UPPERBOUND&&!n.active||n.equality)&&(i[o]=i[r-1],i.length=r-1),n},t.prototype.satisfy=function(){null==this.bs&&(this.bs=new a(this.vs)),this.bs.split(this.inactive);for(var e=null;(e=this.mostViolated())&&(e.equality||e.slack()<t.ZERO_UPPERBOUND&&!e.active);){var n=e.left.block;if(n!==e.right.block)this.bs.merge(e);else{if(n.isActiveDirectedPathBetween(e.right,e.left)){e.unsatisfiable=!0;continue}var i=n.splitBetween(e.left,e.right);if(null===i){e.unsatisfiable=!0;continue}this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(n),this.inactive.push(i.constraint),e.slack()>=0?this.inactive.push(e):this.bs.merge(e)}}},t.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,e=this.bs.cost();Math.abs(t-e)>1e-4;)this.satisfy(),t=e,e=this.bs.cost();return e},t.LAGRANGIAN_TOLERANCE=-1e-4,t.ZERO_UPPERBOUND=-1e-10,t}();n.Solver=u,n.removeOverlapInOneDimension=function(t,e,n){for(var i=t.map(function(t){return new o(t.desiredCenter)}),s=[],a=t.length,c=0;c<a-1;c++){var l=t[c],h=t[c+1];s.push(new r(i[c],i[c+1],(l.size+h.size)/2))}var d=i[0],p=i[a-1],f=t[0].size/2,g=t[a-1].size/2,v=null,y=null;return e&&(v=new o(e,1e3*d.weight),i.push(v),s.push(new r(v,d,f))),n&&(y=new o(n,1e3*p.weight),i.push(y),s.push(new r(p,y,g))),new u(i,s).solve(),{newCenters:i.slice(0,t.length).map(function(t){return t.position()}),lowerBound:v?v.position():d.position()-f,upperBound:y?y.position():p.position()+g}}},{}]},{},[1])(1)}),window.QueryFilter=class{constructor(t,e){this.new_condition=this.new_condition.bind(this),this.to_string=this.to_string.bind(this),this.to_html=this.to_html.bind(this),this.delete=this.delete.bind(this),this.node1=e,this.node2=null,this.v1_val=null,this.v2_val=null,this.datatype="^^xsd:string",this.operator_sym=">=",this.sparql_text=t,this.conditions=[],this.conditions.push(this.new_condition()),this.slots=[]}new_condition(){var t,e,n,i;return this.slots=[],void 0!==this.node1&&null!==this.node1&&this.node1.addClass("filtered"),void 0!==this.node2&&null!==this.node2&&this.node2.addClass("filtered"),(t=document.createElement("div")).style.display="flex",void 0!==this.node1&&null!==this.node1?(e=new window.HlBox(this.node1),t.appendChild(e.to_html()),this.slots.push(e)):(this.v=new window.Void(this,0,this.v1_val),this.v.div.addEventListener("input",()=>(console.log(this.v.div.innerHTML),this.v1_val=this.v.div.innerHTML,this.v.val=this.v.div.innerHTML)),t.appendChild(this.v.to_html()),this.slots.push(this.v)),(n=document.createElement("div")).innerHTML=this.operator_sym,n.style.marginLeft="5px",n.style.marginRight="5px",n.contentEditable="true",n.addEventListener("input",()=>this.operator_sym=n.innerHTML),t.appendChild(n),void 0!==this.node2&&null!==this.node2?(e=new window.HlBox(this.node2),t.appendChild(e.to_html()),this.slots.push(e)):(this.v=new window.Void(this,1,this.v2_val),this.v.div.addEventListener("input",()=>(this.v2_val=this.v.div.innerHTML,this.v.val=this.v.div.innerHTML)),t.appendChild(this.v.to_html()),this.slots.push(this.v)),(i=document.createElement("div")).style.marginLeft="5px",i.style.marginRight="5px",i.innerHTML=this.datatype,i.contentEditable="true",i.addEventListener("input",()=>this.datatype=i.innerHTML),t.appendChild(i),t}to_string(){var t;if(t="filter (",this.slots[0]instanceof HlBox)void 0!==this.node1&&null!==this.node1&&(t+=" "+this.node1.id());else{if(null===this.v1_val)return"";t+=this.v1_val}if(void 0!==this.operator_sym&&null!==this.operator_sym&&(t+=" "+this.operator_sym),this.slots[1]instanceof HlBox)void 0!==this.node2&&null!==this.node2&&(t+=" "+this.node2.id());else{if(null===this.v2_val)return"";t+=this.v2_val}return void 0!==this.datatype&&null!==this.datatype&&(t+=" "+this.datatype),t+" )"}to_html(){var t,e,n,i,r,o,s;for(o=document.createElement("div"),(s=document.createElement("div")).innerHTML="filter ",s.style.display="inline",o.append(s),(t=document.createElement("div")).className="filter_condition_container",e=0,n=(i=this.conditions).length;e<n;e++)i[e],t.appendChild(this.new_condition());return o.append(t),(r=document.createElement("div")).innerHTML="â",r.style.color="#F08080",r.style.fontSize="large",r.style.marginLeft="8px",r.style.visibility="hidden",r.style.display="inline-block",r.onclick=(()=>this.delete()),o.append(r),o.onmouseover=function(){return r.style.visibility="visible"},o.onmouseout=function(){return r.style.visibility="hidden"},o}delete(){var t;return t=this.sparql_text.filters.indexOf(this),void 0!==this.node1&&null!==this.node1&&this.node1.removeClass("filtered"),void 0!==this.node2&&null!==this.node2&&this.node2.removeClass("filtered"),this.sparql_text.filters.splice(t,1),this.sparql_text.update()}},function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("webcola")):"function"==typeof define&&define.amd?define(["webcola"],e):"object"==typeof exports?exports.cytoscapeCola=e(require("webcola")):t.cytoscapeCola=e(t.webcola)}(this,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(1),o=n(2),s=n(5)||("undefined"!=typeof window?window.cola:null),a=n(4),u=function(t){return(void 0===t?"undefined":i(t))===i(0)},c=function(){},l=function(t,e){var n;return null!=(n=t)&&(void 0===n?"undefined":i(n))===i(function(){})?t.apply(e,[e]):t};function h(t){this.options=r({},o,t)}h.prototype.run=function(){var t=this,e=this.options;t.manuallyStopped=!1;var n=e.cy,r=e.eles,o=r.nodes(),h=r.edges(),d=!1,p=o.filter(function(t){return t.isParent()}),f=o.subtract(p),g=e.boundingBox||{x1:0,y1:0,w:n.width(),h:n.height()};void 0===g.x2&&(g.x2=g.x1+g.w),void 0===g.w&&(g.w=g.x2-g.x1),void 0===g.y2&&(g.y2=g.y1+g.h),void 0===g.h&&(g.h=g.y2-g.y1);var v=function(){for(var t=0;t<o.length;t++){var i=o[t],r=i.layoutDimensions(e),s=i.scratch("cola");if(!s.updatedDims){var a=l(e.nodeSpacing,i);s.width=r.w+2*a,s.height=r.h+2*a}}o.positions(function(t){var e=t.scratch().cola,n=void 0;return!t.grabbed()&&f.contains(t)&&(n={x:g.x1+e.x,y:g.y1+e.y},u(n.x)&&u(n.y)||(n=void 0)),n}),o.updateCompoundBounds(),d||(m(),d=!0),e.fit&&n.fit(e.padding)},y=function(){e.ungrabifyWhileSimulating&&x.grabify(),n.off("destroy",w),o.off("grab free position",E),o.off("lock unlock",k),t.one("layoutstop",e.stop),t.trigger({type:"layoutstop",layout:t})},m=function(){t.one("layoutready",e.ready),t.trigger({type:"layoutready",layout:t})},b=e.refresh;b=e.refresh<0?1:Math.max(1,b);var _=t.adaptor=s.adaptor({trigger:function(t){var n=s.EventType?s.EventType.tick:null,i=s.EventType?s.EventType.end:null;switch(t.type){case"tick":case n:e.animate&&v();break;case"end":case i:v(),e.infinite||y()}},kick:function(){var n=function(){if(t.manuallyStopped)return y(),!0;var n=_.tick();return n&&e.infinite&&_.resume(),n};if(e.animate){a(function t(){(function(){for(var t=void 0,e=0;e<b&&!t;e++)t=t||n();return t})()||a(t)})}else for(;!n(););},on:c,drag:c});t.adaptor=_;var x=o.filter(":grabbable");e.ungrabifyWhileSimulating&&x.ungrabify();var w=void 0;n.one("destroy",w=function(){t.stop()});var E=void 0;o.on("grab free position",E=function(t){var e=this.scratch().cola,n=this.position();if(t.cyTarget===this||t.target===this)switch(t.type){case"grab":_.dragstart(e);break;case"free":_.dragend(e);break;case"position":e.px===n.x-g.x1&&e.py===n.y-g.y1||(e.px=n.x-g.x1,e.py=n.y-g.y1)}});var k=void 0;o.on("lock unlock",k=function(){var t=this.scratch().cola;t.fixed=this.locked(),this.locked()?_.dragstart(t):_.dragend(t)}),_.nodes(f.map(function(t,n){var i=l(e.nodeSpacing,t),r=t.position(),o=t.layoutDimensions(e);return t.scratch().cola={x:e.randomize||void 0===r.x?Math.round(Math.random()*g.w):r.x,y:e.randomize||void 0===r.y?Math.round(Math.random()*g.h):r.y,width:o.w+2*i,height:o.h+2*i,index:n,fixed:t.locked()}}));var T=[];if(e.alignment){var C=[],A=[];f.forEach(function(t){var n=l(e.alignment,t),i=t.scratch().cola.index;n&&(null!=n.x&&C.push({node:i,offset:n.x}),null!=n.y&&A.push({node:i,offset:n.y}))}),C.length>0&&T.push({type:"alignment",axis:"x",offsets:C}),A.length>0&&T.push({type:"alignment",axis:"y",offsets:A})}e.gapInequalities&&e.gapInequalities.forEach(function(t){var e=t.left.scratch().cola.index,n=t.right.scratch().cola.index;T.push({axis:t.axis,left:e,right:n,gap:t.gap,equality:t.equality})}),T.length>0&&_.constraints(T),_.groups(p.map(function(t,n){var i=l(e.nodeSpacing,t),r=function(e){return parseFloat(t.style("padding-"+e))},o=r("left")+i,s=r("right")+i,a=r("top")+i,u=r("bottom")+i;return t.scratch().cola={index:n,padding:Math.max(o,s,a,u),leaves:t.children().intersection(f).map(function(t){return t[0].scratch().cola.index}),fixed:t.locked()},t}).map(function(t){return t.scratch().cola.groups=t.children().intersection(p).map(function(t){return t.scratch().cola.index}),t.scratch().cola}));var S=void 0,F=void 0;null!=e.edgeLength?(S=e.edgeLength,F="linkDistance"):null!=e.edgeSymDiffLength?(S=e.edgeSymDiffLength,F="symmetricDiffLinkLengths"):null!=e.edgeJaccardLength?(S=e.edgeJaccardLength,F="jaccardLinkLengths"):(S=100,F="linkDistance");var D;if(_.links(h.stdFilter(function(t){return f.contains(t.source())&&f.contains(t.target())}).map(function(t){var e=t.scratch().cola={source:t.source()[0].scratch().cola.index,target:t.target()[0].scratch().cola.index};return null!=S&&(e.calcLength=l(S,t)),e})),_.size([g.w,g.h]),null!=S&&_[F](function(t){return t.calcLength}),e.flow){var L=void 0;(void 0===(D=e.flow)?"undefined":i(D))===i("")?L={axis:e.flow,minSeparation:50}:u(e.flow)?L={axis:"y",minSeparation:e.flow}:!function(t){return null!=t&&(void 0===t?"undefined":i(t))===i({})}(e.flow)?L={axis:"y",minSeparation:50}:((L=e.flow).axis=L.axis||"y",L.minSeparation=null!=L.minSeparation?L.minSeparation:50),_.flowLayout(L.axis,L.minSeparation)}return t.trigger({type:"layoutstart",layout:t}),_.avoidOverlaps(e.avoidOverlap).handleDisconnected(e.handleDisconnected).start(e.unconstrIter,e.userConstIter,e.allConstIter),e.infinite||setTimeout(function(){t.manuallyStopped||_.stop()},e.maxSimulationTime),this},h.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},t.exports=h},function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";var i={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(t){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.exports=i},function(t,e,n){"use strict";var i=n(0),r=function(t){t&&t("layout","cola",i)};"undefined"!=typeof cytoscape&&r(cytoscape),t.exports=r},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=void 0;r="undefined"!==("undefined"==typeof window?"undefined":i(window))?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame:function(t){t()},t.exports=r},function(e,n){e.exports=t}])}),window.QueryLine=class{constructor(t,e){this.to_html=this.to_html.bind(this),this.create_highlighting_box=this.create_highlighting_box.bind(this),this.link=t,console.log(this.link),this.sparql_text=e}to_html(){var t,e,n,i,r,o;return i=document.createElement("div"),"concept"===this.link.link_type?(i.append(this.create_highlighting_box(this.link.node_var1)),(e=document.createElement("div")).innerHTML="rdf:type "+this.link.node_concept.data("label")+" .",i.append(e)):(i.append(this.create_highlighting_box(this.link.source)),(n=document.createElement("div")).innerHTML=this.link.node_link.data("label")+"&nbsp;",i.append(n),i.append(this.create_highlighting_box(this.link.target)),(e=document.createElement("div")).innerHTML=" .",i.append(e)),(t=document.createElement("div")).style.visibility="hidden","concept"!==this.link.link_type&&((o=document.createElement("div")).innerHTML="ð",o.style.color="#ADD8E6",o.style.fontSize="large",o.style.marginLeft="8px",o.style.display="inline-block",o.onclick=(()=>(this.link.reverse(),this.sparql_text.update())),t.append(o)),(r=document.createElement("div")).innerHTML="â",r.style.color="#F08080",r.style.fontSize="large",r.style.marginLeft="8px",r.style.display="inline-block",r.onclick=(()=>(this.link.delete(),this.sparql_text.update())),t.append(r),i.append(t),i.onmouseover=function(){return t.style.visibility="visible"},i.onmouseout=function(){return t.style.visibility="hidden"},i.className="q_line",i}create_highlighting_box(t){var e,n;return(e=document.createElement("div")).className="highlighting_box_container",(n=document.createElement("div")).className="highlighting_box",n.id=t.id()+Math.round(1e3*Math.random()),n.dataset.prevname=t.id(),n.dataset.node_id=t.id(),n.ondblclick=(()=>(n.setAttribute("contenteditable","true"),this.sparql_text.cy.center(t),setTimeout(function(){return n.focus()},0),n.onkeydown=(e=>{if(t.data("label",n.innerHTML),13===e.keyCode)return e.preventDefault(),n.innerHTML.length<=2&&(n.innerHTML=t.id()),n.setAttribute("contenteditable","false"),this.sparql_text.update()}))),n.onmouseover=function(e){return t.addClass("highlight")},n.onmouseout=function(e){return t.removeClass("highlight")},n.onclick=(e=>(this.sparql_text.cy.nodes().unselect(),t.select())),n.innerHTML=t.data("label"),n.style.backgroundColor=t.data("color"),e.append(n),e}},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dragula=t()}}(function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i={},r="(?:^|\\s)",o="(?:\\s|$)";function s(t){var e=i[t];return e?e.lastIndex=0:i[t]=e=new RegExp(r+t+o,"g"),e}e.exports={add:function(t,e){var n=t.className;n.length?s(e).test(n)||(t.className+=" "+e):t.className=e},rm:function(t,e){t.className=t.className.replace(s(e)," ").trim()}}},{}],2:[function(t,e,n){(function(n){"use strict";var i=t("contra/emitter"),r=t("crossvent"),o=t("./classes"),s=document,a=s.documentElement;function u(t,e,i,o){n.navigator.pointerEnabled?r[e](t,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[i],o):n.navigator.msPointerEnabled?r[e](t,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[i],o):(r[e](t,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[i],o),r[e](t,i,o))}function c(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function l(t,e){return void 0!==n[e]?n[e]:a.clientHeight?a[t]:s.body[t]}function h(t,e,n){var i,r=t||{},o=r.className;return r.className+=" gu-hide",i=s.elementFromPoint(e,n),r.className=o,i}function d(){return!1}function p(){return!0}function f(t){return t.width||t.right-t.left}function g(t){return t.height||t.bottom-t.top}function v(t){return t.parentNode===s?null:t.parentNode}function y(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function t(e){if(!e)return!1;if("false"===e.contentEditable)return!1;if("true"===e.contentEditable)return!0;return t(v(e))}(t)}function m(t){return t.nextElementSibling||function(){var e=t;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}()}function b(t,e){var n=function(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}(e),i={pageX:"clientX",pageY:"clientY"};return t in i&&!(t in n)&&i[t]in n&&(t=i[t]),n[t]}e.exports=function(t,e){var n,_,x,w,E,k,T,C,A,S,F;1===arguments.length&&!1===Array.isArray(t)&&(e=t,t=[]);var D,L=null,N=e||{};void 0===N.moves&&(N.moves=p),void 0===N.accepts&&(N.accepts=p),void 0===N.invalid&&(N.invalid=function(){return!1}),void 0===N.containers&&(N.containers=t||[]),void 0===N.isContainer&&(N.isContainer=d),void 0===N.copy&&(N.copy=!1),void 0===N.copySortSource&&(N.copySortSource=!1),void 0===N.revertOnSpill&&(N.revertOnSpill=!1),void 0===N.removeOnSpill&&(N.removeOnSpill=!1),void 0===N.direction&&(N.direction="vertical"),void 0===N.ignoreInputTextSelection&&(N.ignoreInputTextSelection=!0),void 0===N.mirrorContainer&&(N.mirrorContainer=s.body);var P=i({containers:N.containers,start:function(t){var e=H(t);e&&z(e)},end:$,cancel:W,remove:X,destroy:function(){O(!0),U({})},canMove:function(t){return!!H(t)},dragging:!1});return!0===N.removeOnSpill&&P.on("over",function(t){o.rm(t,"gu-hide")}).on("out",function(t){P.dragging&&o.add(t,"gu-hide")}),O(),P;function I(t){return-1!==P.containers.indexOf(t)||N.isContainer(t)}function O(t){var e=t?"remove":"add";u(a,e,"mousedown",j),u(a,e,"mouseup",U)}function M(t){u(a,t?"remove":"add","mousemove",B)}function R(t){var e=t?"remove":"add";r[e](a,"selectstart",q),r[e](a,"click",q)}function q(t){D&&t.preventDefault()}function j(t){if(k=t.clientX,T=t.clientY,1===c(t)&&!t.metaKey&&!t.ctrlKey){var e=t.target,n=H(e);n&&(D=n,M(),"mousedown"===t.type&&(y(e)?e.focus():t.preventDefault()))}}function B(t){if(D)if(0!==c(t)){if(void 0===t.clientX||t.clientX!==k||void 0===t.clientY||t.clientY!==T){if(N.ignoreInputTextSelection){var e=b("clientX",t),i=b("clientY",t);if(y(s.elementFromPoint(e,i)))return}var r=D;M(!0),R(),$(),z(r);var h,d={left:(h=x.getBoundingClientRect()).left+l("scrollLeft","pageXOffset"),top:h.top+l("scrollTop","pageYOffset")};w=b("pageX",t)-d.left,E=b("pageY",t)-d.top,o.add(S||x,"gu-transit"),function(){if(!n){var t=x.getBoundingClientRect();(n=x.cloneNode(!0)).style.width=f(t)+"px",n.style.height=g(t)+"px",o.rm(n,"gu-transit"),o.add(n,"gu-mirror"),N.mirrorContainer.appendChild(n),u(a,"add","mousemove",K),o.add(N.mirrorContainer,"gu-unselectable"),P.emit("cloned",n,x,"mirror")}}(),K(t)}}else U({})}function H(t){if(!(P.dragging&&n||I(t))){for(var e=t;v(t)&&!1===I(v(t));){if(N.invalid(t,e))return;if(!(t=v(t)))return}var i=v(t);if(i&&!N.invalid(t,e)&&N.moves(t,i,e,m(t)))return{item:t,source:i}}}function z(t){var e,n;e=t.item,n=t.source,("boolean"==typeof N.copy?N.copy:N.copy(e,n))&&(S=t.item.cloneNode(!0),P.emit("cloned",S,t.item,"copy")),_=t.source,x=t.item,C=A=m(t.item),P.dragging=!0,P.emit("drag",x,_)}function $(){if(P.dragging){var t=S||x;V(t,v(t))}}function G(){D=!1,M(!0),R(!0)}function U(t){if(G(),P.dragging){var e=S||x,i=b("clientX",t),r=b("clientY",t),o=Z(h(n,i,r),i,r);o&&(S&&N.copySortSource||!S||o!==_)?V(e,o):N.removeOnSpill?X():W()}}function V(t,e){var n=v(t);S&&N.copySortSource&&e===_&&n.removeChild(x),Q(e)?P.emit("cancel",t,_,_):P.emit("drop",t,e,_,A),Y()}function X(){if(P.dragging){var t=S||x,e=v(t);e&&e.removeChild(t),P.emit(S?"cancel":"remove",t,e,_),Y()}}function W(t){if(P.dragging){var e=arguments.length>0?t:N.revertOnSpill,n=S||x,i=v(n),r=Q(i);!1===r&&e&&(S?i&&i.removeChild(S):_.insertBefore(n,C)),r||e?P.emit("cancel",n,_,_):P.emit("drop",n,i,_,A),Y()}}function Y(){var t=S||x;G(),n&&(o.rm(N.mirrorContainer,"gu-unselectable"),u(a,"remove","mousemove",K),v(n).removeChild(n),n=null),t&&o.rm(t,"gu-transit"),F&&clearTimeout(F),P.dragging=!1,L&&P.emit("out",t,L,_),P.emit("dragend",t),_=x=S=C=A=F=L=null}function Q(t,e){var i;return i=void 0!==e?e:n?A:m(S||x),t===_&&i===C}function Z(t,e,n){for(var i=t;i&&!r();)i=v(i);return i;function r(){if(!1===I(i))return!1;var r=J(i,t),o=tt(i,r,e,n);return!!Q(i,o)||N.accepts(x,i,_,o)}}function K(t){if(n){t.preventDefault();var e=b("clientX",t),i=b("clientY",t),r=e-w,o=i-E;n.style.left=r+"px",n.style.top=o+"px";var s=S||x,a=h(n,e,i),u=Z(a,e,i),c=null!==u&&u!==L;(c||null===u)&&(L&&f("out"),L=u,c&&f("over"));var l=v(s);if(u!==_||!S||N.copySortSource){var d,p=J(u,a);if(null!==p)d=tt(u,p,e,i);else{if(!0!==N.revertOnSpill||S)return void(S&&l&&l.removeChild(s));d=C,u=_}(null===d&&c||d!==s&&d!==m(s))&&(A=d,u.insertBefore(s,d),P.emit("shadow",s,u,_))}else l&&l.removeChild(s)}function f(t){P.emit(t,s,L,_)}}function J(t,e){for(var n=e;n!==t&&v(n)!==t;)n=v(n);return n===a?null:n}function tt(t,e,n,i){var r,o="horizontal"===N.direction;return e!==t?(r=e.getBoundingClientRect(),s(o?n>r.left+f(r)/2:i>r.top+g(r)/2)):function(){var e,r,s,a=t.children.length;for(e=0;e<a;e++){if(r=t.children[e],s=r.getBoundingClientRect(),o&&s.left+s.width/2>n)return r;if(!o&&s.top+s.height/2>i)return r}return null}();function s(t){return t?m(e):e}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(t,e,n){e.exports=function(t,e){return Array.prototype.slice.call(t,e)}},{}],4:[function(t,e,n){"use strict";var i=t("ticky");e.exports=function(t,e,n){t&&i(function(){t.apply(n||null,e||[])})}},{ticky:9}],5:[function(t,e,n){"use strict";var i=t("atoa"),r=t("./debounce");e.exports=function(t,e){var n=e||{},o={};return void 0===t&&(t={}),t.on=function(e,n){return o[e]?o[e].push(n):o[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var i=arguments.length;if(1===i)delete o[e];else if(0===i)o={};else{var r=o[e];if(!r)return t;r.splice(r.indexOf(n),1)}return t},t.emit=function(){var e=i(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var s=(o[e]||[]).slice(0);return function(){var o=i(arguments),a=this||t;if("error"===e&&!1!==n.throws&&!s.length)throw 1===o.length?o[0]:o;return s.forEach(function(i){n.async?r(i,o,a):i.apply(a,o),i._once&&t.off(e,i)}),t}},t}},{"./debounce":4,atoa:3}],6:[function(t,e,n){(function(n){"use strict";var i=t("custom-event"),r=t("./eventmap"),o=n.document,s=function(t,e,n,i){return t.addEventListener(e,n,i)},a=function(t,e,n,i){return t.removeEventListener(e,n,i)},u=[];function c(t,e,n){var i=function(t,e,n){var i,r;for(i=0;i<u.length;i++)if((r=u[i]).element===t&&r.type===e&&r.fn===n)return i}(t,e,n);if(i){var r=u[i].wrapper;return u.splice(i,1),r}}n.addEventListener||(s=function(t,e,i){return t.attachEvent("on"+e,function(t,e,i){var r=c(t,e,i)||function(t,e,i){return function(e){var r=e||n.event;r.target=r.target||r.srcElement,r.preventDefault=r.preventDefault||function(){r.returnValue=!1},r.stopPropagation=r.stopPropagation||function(){r.cancelBubble=!0},r.which=r.which||r.keyCode,i.call(t,r)}}(t,0,i);return u.push({wrapper:r,element:t,type:e,fn:i}),r}(t,e,i))},a=function(t,e,n){var i=c(t,e,n);if(i)return t.detachEvent("on"+e,i)}),e.exports={add:s,remove:a,fabricate:function(t,e,n){var s=-1===r.indexOf(e)?new i(e,{detail:n}):function(){var t;o.createEvent?(t=o.createEvent("Event")).initEvent(e,!0,!0):o.createEventObject&&(t=o.createEventObject());return t}();t.dispatchEvent?t.dispatchEvent(s):t.fireEvent("on"+e,s)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(t,e,n){(function(t){"use strict";var n=[],i="",r=/^on/;for(i in t)r.test(i)&&n.push(i.slice(2));e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){(function(t){var n=t.CustomEvent;e.exports=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?n:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){var i;i="function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)},e.exports=i},{}]},{},[2])(2)}),window.QueryLoader=class{constructor(t){this.check_existence=this.check_existence.bind(this),this.remove_prefix=this.remove_prefix.bind(this),this.is_valid_triple=this.is_valid_triple.bind(this),this.is_concept_triple=this.is_concept_triple.bind(this),this.load=this.load.bind(this),this.context=t,this.cy=this.context.graph.cy,this.sparql_text=this.context.graph.sparql_text,this.color_index=this.context.graph.color_index,this.links=this.context.graph.links}check_existence(t){var e,n,i,r;for(e=0,n=(r=this.context.graphol.predicates).length;e<n;e++)if(void 0!==(i=r[e]).data("label")&&t===(-1!==i.data("label").indexOf(":")?i.data("label").split(":")[1]:i.data("label")).replace(/[\n\r]+/g,"").replace(/^\s+|\s+$/,""))return!0;return this.context.alert.say("node "+t+" does not exist in current ontology, invalid query"),!1}remove_prefix(t){return t.split("#")[1]}is_valid_triple(t){if(this.is_concept_triple(t)){if(this.check_existence(this.remove_prefix(t.object)))return!0}else if(this.check_existence(this.remove_prefix(t.predicate)))return!0;return!1}is_concept_triple(t){return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===t.predicate}load(t){var e,n,i,r,o,s,a,u;for(e=0,n=(s=(o=window.sparqljs.Parser().parse(t)).where[0].triples).length;e<n;e++){if(u=s[e],!this.is_valid_triple(u))return;0===this.cy.getElementById(u.subject.slice(1)).length?(a=this.cy.add({group:"nodes",classes:"node-variable",data:{id:u.subject.slice(1),label:"?"+u.subject,color:"#"+palette[this.color_index%palette.length],links:[]}}),this.color_index+=1,a=a[0]):a=this.cy.getElementById(u.subject.slice(1)),"?"===u.object.charAt(0)?0===this.cy.getElementById(u.object.slice(1)).length?(r=(r=this.cy.add({group:"nodes",classes:"node-variable",data:{id:u.object.slice(1),label:u.object,color:"#"+palette[this.color_index%palette.length],links:[]}}))[0],this.color_index+=1):r=this.cy.getElementById(u.object.slice(1)):r=(r=this.cy.add({group:"nodes",classes:"node-constant-value",data:{id:u.object,label:u.object,color:"#aaa",links:[]}}))[0],$.each(o.prefixes,t=>{if(-1!==u.predicate.indexOf(o.prefixes[t]))return u.predicate=u.predicate.substr(o.prefixes[t].length)}),i=new PainlessLink(this,this.cy,u.predicate,"role",a,r),this.links.push(i)}return $.each(o.variables,t=>this.sparql_text.select_boxes.push(o.variables[t].slice(1))),this.context.graph.reshape(),this.sparql_text.update()}},function(t,e){"object"==typeof exports?module.exports=e(window,document):t.SimpleScrollbar=e(window,document)}(this,function(t,e){var n=t.requestAnimationFrame||t.setImmediate||function(t){return setTimeout(t,0)};function i(t){Object.prototype.hasOwnProperty.call(t,"data-simple-scrollbar")||Object.defineProperty(t,"data-simple-scrollbar",{value:new s(t)})}function r(i){for(this.target=i,this.direction=t.getComputedStyle(this.target).direction,this.bar='<div class="ss-scroll">',this.wrapper=e.createElement("div"),this.wrapper.setAttribute("class","ss-wrapper"),this.el=e.createElement("div"),this.el.setAttribute("class","ss-content"),"rtl"===this.direction&&this.el.classList.add("rtl"),this.wrapper.appendChild(this.el);this.target.firstChild;)this.el.appendChild(this.target.firstChild);this.target.appendChild(this.wrapper),this.target.insertAdjacentHTML("beforeend",this.bar),this.bar=this.target.lastChild,function(t,i){var r;function o(t){var e=t.pageY-r;r=t.pageY,n(function(){i.el.scrollTop+=e/i.scrollRatio})}function s(){t.classList.remove("ss-grabbed"),e.body.classList.remove("ss-grabbed"),e.removeEventListener("mousemove",o),e.removeEventListener("mouseup",s)}t.addEventListener("mousedown",function(n){return r=n.pageY,t.classList.add("ss-grabbed"),e.body.classList.add("ss-grabbed"),e.addEventListener("mousemove",o),e.addEventListener("mouseup",s),!1})}(this.bar,this),this.moveBar(),t.addEventListener("resize",this.moveBar.bind(this)),this.el.addEventListener("scroll",this.moveBar.bind(this)),this.el.addEventListener("mouseenter",this.moveBar.bind(this)),this.target.classList.add("ss-container");var r=t.getComputedStyle(i);"0px"===r.height&&"0px"!==r["max-height"]&&(i.style.height=r["max-height"])}function o(){for(var t=e.querySelectorAll("*[ss-container]"),n=0;n<t.length;n++)i(t[n])}r.prototype={moveBar:function(t){var e=this.el.scrollHeight,i=this.el.clientHeight,r=this;this.scrollRatio=i/e;var o="rtl"===r.direction?r.target.clientWidth-r.bar.clientWidth+18:-1*(r.target.clientWidth-r.bar.clientWidth);n(function(){r.scrollRatio>=1?r.bar.classList.add("ss-hidden"):(r.bar.classList.remove("ss-hidden"),r.bar.style.cssText="height:"+Math.max(100*r.scrollRatio,10)+"%; top:"+r.el.scrollTop/e*100+"%;right:"+o+"px;")})}},e.addEventListener("DOMContentLoaded",o),r.initEl=i,r.initAll=o;var s=r;return s}),window.SparqlText=function(){var t,e,n;return e=null,n=[],t=null,null,null,class{constructor(i,r){if(this.create_highlighting_box=this.create_highlighting_box.bind(this),this.remove_from_select_boxes=this.remove_from_select_boxes.bind(this),this.generate_plaintext_query=this.generate_plaintext_query.bind(this),this.copy_to_clipboard=this.copy_to_clipboard.bind(this),this.add_filter=this.add_filter.bind(this),this.update=this.update.bind(this),e)return e;(t=document.getElementById("sparql_textbox")).className="unselectable",this.div_sparql_text=t,this.select_boxes=n,this.cy=i,this.links=r,this.filters=[],e=this}add_to_select(t){return n.push(t),this.update()}create_tab(){var t;return(t=document.createElement("div")).innerHTML="&nbsp;",t}rename(t){var e,i,r,o;for(r=this.cy.getElementById(t.dataset.node_id),e=i=0,o=n.length;0<=o?i<o:i>o;e=0<=o?++i:--i)n[e]===t.dataset.prevname&&(n[e]=t.innerHTML.substr(e));return r.data("label",t.innerHTML.substr(1))}create_highlighting_box(t){var e,n,i;return(e=document.createElement("div")).className="highlighting_box_container",(i=document.createElement("div")).className="highlighting_box",i.id=t.id()+Math.round(1e3*Math.random()),i.dataset.prevname=t.id(),i.dataset.node_id=t.id(),i.ondblclick=(()=>(i.setAttribute("contenteditable","true"),this.cy.center(t),setTimeout(function(){return i.focus()},0),i.onkeydown=(e=>{if(t.data("label",i.innerHTML),13===e.keyCode)return e.preventDefault(),i.innerHTML.length<=2&&(i.innerHTML=t.id()),i.setAttribute("contenteditable","false"),this.update()}))),i.onmouseover=function(e){return t.addClass("highlight")},i.onmouseout=function(e){return t.removeClass("highlight")},i.onclick=(e=>(this.cy.nodes().unselect(),t.select())),i.innerHTML=t.data("label"),i.style.backgroundColor=t.data("color"),e.append(i),(n=document.createElement("div")).innerHTML=" x ",n.className="minicross",n.dataset.linkedhbox=i.id,n.dataset.node_id=i.dataset.node_id,n.style.visibility="hidden",n.onclick=(t=>(console.log("a"),this.remove_from_select_boxes(n.dataset.node_id))),e.append(n),e.onmouseover=function(t){return n.style.visibility="visible"},e.onmouseout=function(t){return n.style.visibility="hidden"},e}remove_from_select_boxes(t){return console.log(this.select_boxes),this.select_boxes=this.select_boxes.filter(function(e){return e!==t}),this.update()}generate_plaintext_query(){var t,e,i,r,o,s,a,u,c;if(c="Select ",0===n.length)c+="*";else for(t=0,r=n.length;t<r;t++)c+="?"+n[t]+" ";for(c+="\r\nwhere {",e=0,o=(a=this.links).length;e<o;e++)c+="\r\n",c+=a[e].to_string();for(i=0,s=(u=this.filters).length;i<s;i++)c+="\r\n",c+=u[i].to_string();return c+="\r\n}",console.log(c),c}copy_to_clipboard(){var t;return(t=document.createElement("textarea")).value=this.generate_plaintext_query(),t.id="tmp_div",document.body.appendChild(t),document.getElementById("tmp_div").select(),document.execCommand("Copy"),t.style.display="none",document.body.removeChild(t)}add_filter(t){return this.filters.push(new window.QueryFilter(this,t)),this.update()}update(){var e,n,i,r,o,s,a,u,c,l,h,d,p,f,g,v,y,m,b,_;if(t.innerHTML="",(s=document.createElement("div")).className="init_string",(m=document.createElement("div")).className="s_line",0===this.select_boxes.length)m.innerHTML="&nbsp;*";else for(m.append(this.create_tab()),a=0,l=(g=this.select_boxes).length;a<l;a++)n=g[a],void 0!==this.cy.getElementById(n).id()&&m.append(this.create_highlighting_box(this.cy.getElementById(n)));for((b=document.createElement("div")).innerHTML="Select ",s.append(b),s.append(m),s.append(document.createElement("br")),(_=document.createElement("div")).innerHTML=" where {",s.append(_),t.append(s),u=0,h=(v=this.links).length;u<h;u++)p=v[u],f=new window.QueryLine(p,this),t.append(f.to_html());for(c=0,d=(y=this.filters).length;c<d;c++)r=y[c],t.append(r.to_html());return(i=document.createElement("div")).style.display="inline-block",i.style.marginRight="5px",i.innerHTML="} ",t.append(i),(o=document.createElement("div")).className="filter_button",o.innerHTML="+ filter",o.onclick=(()=>this.add_filter()),t.append(o),e=Array.prototype.slice.call(document.getElementsByClassName("q_line")).concat(Array.prototype.slice.call(document.getElementsByClassName("void_box"))).concat(m),dragula({containers:e,copy:(t,e)=>!!e.classList.contains("q_line"),accepts:function(t,e,n){return!(e.classList.contains("q_line")&&n.classList.contains("q_line")||(e.classList.contains("void_box")&&e.innerHTML.replace("&nbsp;",""),0))},invalid:function(t,e){return!t.classList.contains("highlighting_box")&&!t.classList.contains("highlighting_box_container")},revertOnSpill:!0}).on("drop",(t,e)=>{var n,i,r,o;for(e.classList.contains("void_box")&&("0"===e.dataset.filter_position?($(e).data("parent").node1=this.cy.getElementById(t.firstChild.dataset.node_id),$(e).data("parent").conditions=[],$(e).data("parent").conditions.push($(e).data("parent").new_condition())):"1"===e.dataset.filter_position&&($(e).data("parent").node2=this.cy.getElementById(t.firstChild.dataset.node_id),$(e).data("parent").conditions=[],$(e).data("parent").conditions.push($(e).data("parent").new_condition()))),this.select_boxes=[],r=0,i=(o=m.children).length;r<i;r++)void 0!==(n=o[r]).firstChild.innerHTML&&this.select_boxes.push(n.firstChild.innerHTML.substr(1));return this.update()})}}}.call(this),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.cytoscapeCxtmenu=e():t.cytoscapeCxtmenu=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";var i=n(2),r=n(1),o=n(3),s=o.removeEles,a=o.setStyles,u=o.createElement,c=o.getPixelRatio,l=o.getOffset;t.exports=function(t){var e=r({},i,t),n=this,o=n.container(),h=void 0,d={options:e,handlers:[],container:u({class:"cxtmenu"})},p=d.container,f=u(),g=u({tag:"canvas"}),v=[],y=g.getContext("2d"),m=e.menuRadius,b=2*(m+e.activePadding),_=void 0,x=void 0;function w(t){T.drawBg=[t]}function E(){var t=c(),e=o.clientWidth,n=o.clientHeight;g.width=e*t,g.height=n*t,g.style.width=e+"px",g.style.height=n+"px",y.setTransform(1,0,0,1,0,0),y.scale(t,t)}o.insertBefore(p,o.firstChild),p.appendChild(f),f.appendChild(g),a(p,{position:"absolute",zIndex:e.zIndex,userSelect:"none"}),a(f,{display:"none",width:b+"px",height:b+"px",position:"absolute",zIndex:1,marginLeft:-e.activePadding+"px",marginTop:-e.activePadding+"px",userSelect:"none"}),g.width=b,g.height=b;var k=!0,T={},C=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;E(),function t(){T.drawBg&&function(t){t=void 0!==t?t:R,y.globalCompositeOperation="source-over",y.clearRect(0,0,b,b),y.fillStyle=e.fillColor;for(var n=2*Math.PI/v.length,i=Math.PI/2,r=i+n,o=0;o<v.length;o++){var s=v[o];s.fillColor&&(y.fillStyle=s.fillColor),y.beginPath(),y.moveTo(m+e.activePadding,m+e.activePadding),y.arc(m+e.activePadding,m+e.activePadding,m,2*Math.PI-i,2*Math.PI-r,!0),y.closePath(),y.fill(),i+=n,r+=n,y.fillStyle=e.fillColor}y.globalCompositeOperation="destination-out",y.strokeStyle="white",y.lineWidth=e.separatorWidth,r=(i=Math.PI/2)+n;for(var a=0;a<v.length;a++){var u=m*Math.cos(i),c=m*Math.sin(i);y.beginPath(),y.moveTo(m+e.activePadding,m+e.activePadding),y.lineTo(m+e.activePadding+u,m+e.activePadding-c),y.closePath(),y.stroke(),i+=n,r+=n}y.fillStyle="white",y.globalCompositeOperation="destination-out",y.beginPath(),y.arc(m+e.activePadding,m+e.activePadding,t+e.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill(),y.globalCompositeOperation="source-over"}.apply(null,T.drawBg),T.drawCommands&&function(t,n,i){var r=2*Math.PI/v.length,o=Math.PI/2,s=o+r;o+=r*_,s+=r*_,y.fillStyle=e.activeFillColor,y.strokeStyle="black",y.lineWidth=1,y.beginPath(),y.moveTo(m+e.activePadding,m+e.activePadding),y.arc(m+e.activePadding,m+e.activePadding,m+e.activePadding,2*Math.PI-o,2*Math.PI-s,!0),y.closePath(),y.fill(),y.fillStyle="white",y.globalCompositeOperation="destination-out";var a=m+e.activePadding+t/m*(R+e.spotlightPadding-e.indicatorSize/4),u=m+e.activePadding+n/m*(R+e.spotlightPadding-e.indicatorSize/4),c=Math.PI/4-i;y.translate(a,u),y.rotate(c),y.beginPath(),y.fillRect(-e.indicatorSize/2,-e.indicatorSize/2,e.indicatorSize,e.indicatorSize),y.closePath(),y.fill(),y.rotate(-c),y.translate(-a,-u),y.beginPath(),y.arc(m+e.activePadding,m+e.activePadding,R+e.spotlightPadding,0,2*Math.PI,!0),y.closePath(),y.fill(),y.globalCompositeOperation="source-over"}.apply(null,T.drawCommands),T={},k&&C(t)}();var A,S,F,D,L,N,P,I,O=void 0,M=void 0,R=void 0,q={on:function(t,e,i){var r=i;return"core"===e&&(r=function(t){if(t.cyTarget===n||t.target===n)return i.apply(this,[t])}),d.handlers.push({events:t,selector:e,fn:r}),"core"===e?n.on(t,r):n.on(t,e,r),this}};function j(){k=!1,function(){for(var t=d.handlers,e=0;e<t.length;e++){var i=t[e];"core"===i.selector?n.off(i.events,i.fn):n.off(i.events,i.selector,i.fn)}window.removeEventListener("resize",E)}(),p.remove()}return A=void 0,S=!1,F=void 0,D=void 0,L=void 0,N=void 0,P=void 0,I=function(){A&&h.grabify(),D&&n.userZoomingEnabled(!0),L&&n.userPanningEnabled(!0),N&&n.boxSelectionEnabled(!0)},window.addEventListener("resize",E),q.on("resize",function(){E()}).on(e.openMenuEvents,e.selector,function(t){h=this;var i=this===n;if(S&&(f.style.display="none",S=!1,I()),(v="function"==typeof e.commands?e.commands(h):e.commands)&&0!==v.length){D=n.userZoomingEnabled(),n.userZoomingEnabled(!1),L=n.userPanningEnabled(),n.userPanningEnabled(!1),N=n.boxSelectionEnabled(),n.boxSelectionEnabled(!1),(A=h.grabbable&&h.grabbable())&&h.ungrabify();var r=void 0,c=void 0,d=void 0;i||!this.isNode()||this.isParent()||e.atMouse?(r=t.renderedPosition||t.cyRenderedPosition,c=1,d=1):(r=this.renderedPosition(),c=this.renderedWidth(),d=this.renderedHeight()),x=l(o),O=r.x,M=r.y,function(){s(".cxtmenu-item",f);for(var t=2*Math.PI/v.length,n=Math.PI/2,i=n+t,r=0;r<v.length;r++){var o=v[r],c=(n+i)/2,l=.66*m*Math.cos(c),h=.66*m*Math.sin(c),d=u({class:"cxtmenu-item"});a(d,{color:e.itemColor,cursor:"default",display:"table","text-align":"center",position:"absolute","text-shadow":"-1px -1px 2px "+e.itemTextShadowColor+", 1px -1px 2px "+e.itemTextShadowColor+", -1px 1px 2px "+e.itemTextShadowColor+", 1px 1px 1px "+e.itemTextShadowColor,left:"50%",top:"50%","min-height":.66*m+"px",width:.66*m+"px",height:.66*m+"px",marginLeft:l-.33*m+"px",marginTop:-h-.33*m+"px"});var p=u({class:"cxtmenu-content"});o.content instanceof HTMLElement?p.appendChild(o.content):p.innerHTML=o.content,a(p,{width:.66*m+"px",height:.66*m+"px","vertical-align":"middle",display:"table-cell"}),a(p,o.contentStyle||{}),!0!==o.disabled&&!1!==o.enabled||p.classList.add("cxtmenu-disabled"),f.appendChild(d),d.appendChild(p),n+=t,i+=t}}(),a(f,{display:"block",left:r.x-m+"px",top:r.y-m+"px"}),R=Math.max(c,d)/2,R=Math.max(R,e.minSpotlightRadius),R=Math.min(R,e.maxSpotlightRadius),w(),_=void 0,S=!0,P=t}}).on("cxtdrag tapdrag",e.selector,F=function(t){if(S){var n=t.originalEvent,i=n.touches&&n.touches.length>0,r=i?n.touches[0].pageX:n.pageX,o=i?n.touches[0].pageY:n.pageY;_=void 0;var s=r-x.left-O,a=o-x.top-M;0===s&&(s=.01);var u=Math.sqrt(s*s+a*a),c=(a*a-u*u-s*s)/(-2*u*s),l=Math.acos(c);if(u<R+e.spotlightPadding)w();else{w();var h=s*m/u,d=a*m/u;a>0&&(l=Math.PI+Math.abs(l-Math.PI));for(var p=2*Math.PI/v.length,f=Math.PI/2,g=f+p,y=0;y<v.length;y++){var b=v[y],E=f<=l&&l<=g||f<=l+2*Math.PI&&l+2*Math.PI<=g;if(!0!==b.disabled&&!1!==b.enabled||(E=!1),E){_=y;break}f+=p,g+=p}!function(t,e,n){T.drawCommands=[t,e,n]}(h,d,l)}}}).on("tapdrag",F).on("cxttapend tapend",function(){if(f.style.display="none",void 0!==_){var t=v[_].select;t&&(t.apply(h,[h,P]),_=void 0)}S=!1,I()}),{destroy:function(){j()}}}},function(t,e,n){"use strict";t.exports=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=e[n]})}),t}},function(t,e,n){"use strict";t.exports={menuRadius:100,selector:"node",commands:[],fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1}},function(t,e,n){"use strict";var i=function(t,e){for(var n=Object.keys(e),i=0,r=n.length;i<r;i++)t.style[n[i]]=e[n[i]]};t.exports={removeEles:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(t).forEach(function(t){return t.parentNode.removeChild(t)})},setStyles:i,createElement:function(t){t=t||{};var e=document.createElement(t.tag||"div");return e.className=t.class||"",t.style&&i(e,t.style),e},getPixelRatio:function(){return window.devicePixelRatio||1},getOffset:function(t){var e=t.getBoundingClientRect();return{left:e.left+document.body.scrollLeft+parseFloat(getComputedStyle(document.body)["padding-left"])+parseFloat(getComputedStyle(document.body)["border-left-width"]),top:e.top+document.body.scrollTop+parseFloat(getComputedStyle(document.body)["padding-top"])+parseFloat(getComputedStyle(document.body)["border-top-width"])}}}},function(t,e,n){"use strict";var i=n(0),r=function(t){t&&t("core","cxtmenu",i)};"undefined"!=typeof cytoscape&&r(cytoscape),t.exports=r}])}),window.Sparqling=function(){var t,e,n;return t=null,e=null,n=null,class{constructor(e){if(this.add_to_query=this.add_to_query.bind(this),this.extract_datatype=this.extract_datatype.bind(this),this.onkeypress_handler=this.onkeypress_handler.bind(this),this.doubleclick_handler=this.doubleclick_handler.bind(this),t)return t;this.graphol=e,this.graphol_cy=e.cy,t=this,this.init()}init(){return this.sidenav=new SparqlingNavbar(this),this.graph=new SparqlingGraph(this),this.menu=new SparqlingMenu(this),this.loader=new QueryLoader(this),this.alert=new SparqlingAlert,this.sparql_text=this.graph.sparql_text,this.add_event_listener()}add_to_query(){var t;switch(0===(t=this.graphol_cy.nodes(":selected")).length&&this.alert.say("please, select a node in the main graph"),t.data("type")){case"role":return this.graph.add_link(t.data("label"),"role");case"attribute":return this.graph.add_link(t.data("label"),"attribute",this.extract_datatype(t));case"concept":return this.graph.add_link(t.data("label"),"concept")}}extract_datatype(t){var e,n,i,r,o,s,a,u;for(e=0,i=(a=t.neighborhood("node")).length;e<i;e++)if("range-restriction"===(o=a[e]).data("type"))for(n=0,r=(u=o.neighborhood("node")).length;n<r;n++)if("value-domain"===(s=u[n]).data("type"))return s.data("label")}onkeypress_handler(t){var e,n,i,r,o;if("d"===t.key&&console.log(this.graph.cy.nodes(":selected").data("links")),"c"===t.key)return console.log(this.graph.links);if(46===t.keyCode||8===t.keyCode||127===t.keyCode){for(o=[],e=0,n=(r=this.graph.cy.nodes(":selected").data("links")).length;e<n;e++)i=r[e],o.push(i.delete());return o}}doubleclick_handler(t){var i;return i=t.target,n&&e&&clearTimeout(n),e===i?(i.trigger("doubleTap",t),e=null,this.add_to_query()):(n=setTimeout(()=>e=null,300),e=i)}add_event_listener(){return window.addEventListener("keypress",t=>this.onkeypress_handler(t)),window.addEventListener("resize",()=>(this.sidenav.resize_navbar(),this.menu.change_size(50))),this.graphol_cy.on("tap",t=>this.doubleclick_handler(t))}}}.call(this),function(t){function e(t,i){if(i=i||{},(t=t||"")instanceof e)return t;if(!(this instanceof e))return new e(t,i);var r=n(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=P(100*this._a)/100,this._format=i.format||r.format,this._gradientType=i.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=r.ok,this._tc_id=N++}function n(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,s=null,a=!1,u=!1;return"string"==typeof t&&(t=function(t){t=t.replace(D,"").replace(L,"").toLowerCase();var e,n=!1;if(R[t])t=R[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=j.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=j.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=j.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=j.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=j.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=j.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=j.hex8.exec(t))?{r:k(e[1]),g:k(e[2]),b:k(e[3]),a:S(e[4]),format:n?"name":"hex8"}:(e=j.hex6.exec(t))?{r:k(e[1]),g:k(e[2]),b:k(e[3]),format:n?"name":"hex"}:(e=j.hex4.exec(t))?{r:k(e[1]+""+e[1]),g:k(e[2]+""+e[2]),b:k(e[3]+""+e[3]),a:S(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=j.hex3.exec(t))&&{r:k(e[1]+""+e[1]),g:k(e[2]+""+e[2]),b:k(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(F(t.r)&&F(t.g)&&F(t.b)?(e=function(t,e,n){return{r:255*w(t,255),g:255*w(e,255),b:255*w(n,255)}}(t.r,t.g,t.b),a=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):F(t.h)&&F(t.s)&&F(t.v)?(i=C(t.s),r=C(t.v),e=o(t.h,i,r),a=!0,u="hsv"):F(t.h)&&F(t.s)&&F(t.l)&&(i=C(t.s),s=C(t.l),e=function(t,e,n){function i(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+6*(e-t)*(2/3-n):t}var r,o,s;if(t=w(t,360),e=w(e,100),n=w(n,100),0===e)r=o=s=n;else{var a=.5>n?n*(1+e):n+e-n*e,u=2*n-a;r=i(u,a,t+1/3),o=i(u,a,t),s=i(u,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}(t.h,i,s),a=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=x(n),{ok:a,format:t.format||u,r:I(255,O(e.r,0)),g:I(255,O(e.g,0)),b:I(255,O(e.b,0)),a:n}}function i(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var i,r,o=O(t,e,n),s=I(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var u=o-s;switch(r=a>.5?u/(2-o-s):u/(o+s),o){case t:i=(e-n)/u+(n>e?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:a}}function r(t,e,n){t=w(t,255),e=w(e,255),n=w(n,255);var i,r,o=O(t,e,n),s=I(t,e,n),a=o,u=o-s;if(r=0===o?0:u/o,o==s)i=0;else{switch(o){case t:i=(e-n)/u+(n>e?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:a}}function o(e,n,i){e=6*w(e,360),n=w(n,100),i=w(i,100);var r=t.floor(e),o=e-r,s=i*(1-n),a=i*(1-o*n),u=i*(1-(1-o)*n),c=r%6;return{r:255*[i,a,s,s,u,i][c],g:255*[u,i,i,a,s,s][c],b:255*[s,s,u,i,i,a][c]}}function s(t,e,n,i){var r=[T(P(t).toString(16)),T(P(e).toString(16)),T(P(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){return[T(A(i)),T(P(t).toString(16)),T(P(e).toString(16)),T(P(n).toString(16))].join("")}function u(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.s-=n/100,i.s=E(i.s),e(i)}function c(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.s+=n/100,i.s=E(i.s),e(i)}function l(t){return e(t).desaturate(100)}function h(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.l+=n/100,i.l=E(i.l),e(i)}function d(t,n){n=0===n?0:n||10;var i=e(t).toRgb();return i.r=O(0,I(255,i.r-P(-n/100*255))),i.g=O(0,I(255,i.g-P(-n/100*255))),i.b=O(0,I(255,i.b-P(-n/100*255))),e(i)}function p(t,n){n=0===n?0:n||10;var i=e(t).toHsl();return i.l-=n/100,i.l=E(i.l),e(i)}function f(t,n){var i=e(t).toHsl(),r=(i.h+n)%360;return i.h=0>r?360+r:r,e(i)}function g(t){var n=e(t).toHsl();return n.h=(n.h+180)%360,e(n)}function v(t){var n=e(t).toHsl(),i=n.h;return[e(t),e({h:(i+120)%360,s:n.s,l:n.l}),e({h:(i+240)%360,s:n.s,l:n.l})]}function y(t){var n=e(t).toHsl(),i=n.h;return[e(t),e({h:(i+90)%360,s:n.s,l:n.l}),e({h:(i+180)%360,s:n.s,l:n.l}),e({h:(i+270)%360,s:n.s,l:n.l})]}function m(t){var n=e(t).toHsl(),i=n.h;return[e(t),e({h:(i+72)%360,s:n.s,l:n.l}),e({h:(i+216)%360,s:n.s,l:n.l})]}function b(t,n,i){n=n||6,i=i||30;var r=e(t).toHsl(),o=360/i,s=[e(t)];for(r.h=(r.h-(o*n>>1)+720)%360;--n;)r.h=(r.h+o)%360,s.push(e(r));return s}function _(t,n){n=n||6;for(var i=e(t).toHsv(),r=i.h,o=i.s,s=i.v,a=[],u=1/n;n--;)a.push(e({h:r,s:o,v:s})),s=(s+u)%1;return a}function x(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function w(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var i=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=I(n,O(0,parseFloat(e))),i&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function E(t){return I(1,O(0,t))}function k(t){return parseInt(t,16)}function T(t){return 1==t.length?"0"+t:""+t}function C(t){return 1>=t&&(t=100*t+"%"),t}function A(e){return t.round(255*parseFloat(e)).toString(16)}function S(t){return k(t)/255}function F(t){return!!j.CSS_UNIT.exec(t)}var D=/^\s+/,L=/\s+$/,N=0,P=t.round,I=t.min,O=t.max,M=t.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,i,r=this.toRgb();return e=r.r/255,n=r.g/255,i=r.b/255,.2126*(.03928>=e?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(.03928>=n?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(.03928>=i?i/12.92:t.pow((i+.055)/1.055,2.4))},setAlpha:function(t){return this._a=x(t),this._roundA=P(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=P(360*t.h),n=P(100*t.s),i=P(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b),e=P(360*t.h),n=P(100*t.s),r=P(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,i,r){var o=[T(P(t).toString(16)),T(P(e).toString(16)),T(P(n).toString(16)),T(A(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*w(this._r,255))+"%",g:P(100*w(this._g,255))+"%",b:P(100*w(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*w(this._r,255))+"%, "+P(100*w(this._g,255))+"%, "+P(100*w(this._b,255))+"%)":"rgba("+P(100*w(this._r,255))+"%, "+P(100*w(this._g,255))+"%, "+P(100*w(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(q[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var n="#"+a(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=e(t);i="#"+a(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(p,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(l,arguments)},spin:function(){return this._applyModification(f,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(m,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},e.fromRatio=function(t,n){if("object"==typeof t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]="a"===r?t[r]:C(t[r]));t=i}return e(t,n)},e.equals=function(t,n){return!(!t||!n)&&e(t).toRgbString()==e(n).toRgbString()},e.random=function(){return e.fromRatio({r:M(),g:M(),b:M()})},e.mix=function(t,n,i){i=0===i?0:i||50;var r=e(t).toRgb(),o=e(n).toRgb(),s=i/100;return e({r:(o.r-r.r)*s+r.r,g:(o.g-r.g)*s+r.g,b:(o.b-r.b)*s+r.b,a:(o.a-r.a)*s+r.a})},e.readability=function(n,i){var r=e(n),o=e(i);return(t.max(r.getLuminance(),o.getLuminance())+.05)/(t.min(r.getLuminance(),o.getLuminance())+.05)},e.isReadable=function(t,n,i){var r,o,s=e.readability(t,n);switch(o=!1,(r=function(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}(i)).level+r.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7}return o},e.mostReadable=function(t,n,i){var r,o,s,a,u=null,c=0;o=(i=i||{}).includeFallbackColors,s=i.level,a=i.size;for(var l=0;l<n.length;l++)(r=e.readability(t,n[l]))>c&&(c=r,u=e(n[l]));return e.isReadable(t,u,{level:s,size:a})||!o?u:(i.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],i))};var R=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=e.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(R),j=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}(Math),window.SparqlingAlert=function(){class t{constructor(){this.say=this.say.bind(this),this.dialog=document.createElement("div"),this.dialog.className="sparqling_dialog",this.dialog.style.opacity="0",this.dialog.style.bottom="5%",document.getElementById("grapholscape-container").append(this.dialog)}say(t){return this.dialog.innerHTML=t,this.dialog.style.opacity="1",this.dialog.onmouseover=(()=>setTimeout(()=>this.dialog.style.opacity="0",300)),setTimeout(()=>this.dialog.style.opacity="0",3e3)}}return null,t.dialog=null,t}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).sparqljs=t()}}(function(){return function(){return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return r(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}}()({1:[function(t,e,n){function i(t,e){this._options=t||{},e=e||{},this._prefixByIri={};var n=[];for(var i in e){var r=e[i];"string"==typeof r&&(this._prefixByIri[r]=i,n.push(r))}var o=n.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+o+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={}}i.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=u(t.variables,void 0,function(t){return a(t)?this.toEntity(t):"("+this.toExpression(t.expression)+" AS "+t.variable+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+"\n"),t.from&&(e+=u(t.from.default||[],"",function(t){return"FROM "+this.toEntity(t)+"\n"},this)+u(t.from.named||[],"",function(t){return"FROM NAMED "+this.toEntity(t)+"\n"},this)),t.where&&(e+="WHERE "+this.group(t.where,!0)+"\n"),t.updates&&(e+=u(t.updates,";\n",this.toUpdate,this)),t.group&&(e+="GROUP BY "+u(t.group,void 0,function(t){var e=a(t.expression)?t.expression:"("+this.toExpression(t.expression)+")";return t.variable?"("+e+" AS "+t.variable+")":e},this)+"\n"),t.having&&(e+="HAVING ("+u(t.having,void 0,this.toExpression,this)+")\n"),t.order&&(e+="ORDER BY "+u(t.order,void 0,function(t){var e="("+this.toExpression(t.expression)+")";return t.descending?"DESC "+e:e},this)+"\n"),t.offset&&(e+="OFFSET "+t.offset+"\n"),t.limit&&(e+="LIMIT "+t.limit+"\n"),t.values&&(e+=this.values(t)),(e=this.baseAndPrefixes(t)+e).trim()},i.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">\n":"",n="";for(var i in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[i])&&(n+="PREFIX "+i+": <"+t.prefixes[i]+">\n");return e+n},i.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)},i.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."},i.prototype.array=function(t){return u(t,"\n",this.toPattern,this)},i.prototype.bgp=function(t){return u(t.triples,"\n",this.triple,this)},i.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)},i.prototype.group=function(t,e){return-1===(t=!0!==e?this.array(t.patterns||t.triples):this.toPattern("group"!==t.type?t:t.patterns)).indexOf("\n")?"{ "+t+" }":"{\n"+t.replace(/^/gm,"  ")+"\n}"},i.prototype.query=function(t){return this.toQuery(t)},i.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"},i.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+t.variable+")"},i.prototype.optional=function(t){return"OPTIONAL "+this.group(t)},i.prototype.union=function(t){return u(t.patterns,"\nUNION\n",function(t){return this.group(t,!0)},this)},i.prototype.minus=function(t){return"MINUS "+this.group(t)},i.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(t,e){for(var n in e)t[n]=!0;return t},{}));return"VALUES ("+e.join(" ")+") {\n"+u(t.values,"\n",function(t){return"  ("+u(e,void 0,function(e){return void 0!==t[e]?this.toEntity(t[e]):"UNDEF"},this)+")"},this)+"\n}"},i.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)},i.prototype.toExpression=function(t){if(a(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(t.separator?"; SEPARATOR = "+this.toEntity('"'+t.separator+'"'):"")+")";case"functioncall":return this.toEntity(t.function)+"("+u(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),n=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(a(n[0])?this.toEntity(n[0]):"("+this.toExpression(n[0])+")")+" "+e+" "+(a(n[1])?this.toEntity(n[1]):"("+this.toExpression(n[1])+")");case"!":return"!"+this.toExpression(n[0]);case"notin":e="NOT IN";case"in":return this.toExpression(n[0])+" "+e+"("+(a(n[1])?n[1]:u(n[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(n[0],!0);default:return e+"("+u(n,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}},i.prototype.toEntity=function(t){if(a(t))switch(t[0]){case"?":case"$":case"*":case"_":return t;case'"':var e=t.match(/^"([^]*)"(?:(@.+)|\^\^(.+))?$/)||{},n=e[1]||"",i=e[2]||"",s=e[3];if(t='"'+n.replace(r,o)+'"'+i,s){if("http://www.w3.org/2001/XMLSchema#integer"===s&&/^\d+$/.test(n))return n+" ";t+="^^"+this.encodeIRI(s)}return t;default:return this.encodeIRI(t)}else{var u=t.items.map(this.toEntity,this),c=t.pathType;switch(c){case"^":case"!":return c+u[0];case"*":case"+":case"?":return"("+u[0]+c+")";default:return"("+u.join(c)+")"}}};var r=/["\\\t\n\r\b\f]/g,o=function(t){return s[t]},s={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function a(t){return"string"==typeof t}function u(t,e,n,i){return t.map(n,i).join(a(e)?e:" ")}i.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var n=this._prefixByIri[e[1]];return this._usedPrefixes[n]=!0,n+":"+e[2]}return"<"+t+">"},i.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+"\n":"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+"\n":"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+"\n":"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+(t.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(t.destination.name);default:throw new Error("Unknown update query type: "+t.type)}},e.exports=function(t){return{stringify:function(e){return new i(t,e.prefixes).toQuery(e)}}}},{}],2:[function(t,e,n){(function(i){var r=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[6,12,15,24,34,43,48,97,107,110,112,113,122,123,128,295,296,297,298,299],n=[2,194],i=[97,107,110,112,113,122,123,128,295,296,297,298,299],r=[1,18],o=[1,27],s=[6,83],a=[38,39,51],u=[38,51],c=[1,55],l=[1,57],h=[1,53],d=[1,56],p=[28,29,290],f=[13,16,283],g=[109,131,293,300],v=[13,16,109,131,283],y=[1,79],m=[1,83],b=[1,85],_=[109,131,293,294,300],x=[13,16,109,131,283,294],w=[1,91],E=[2,234],k=[1,90],T=[13,16,28,29,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],C=[6,38,39,51,61,68,71,79,81,83],A=[6,13,16,28,38,39,51,61,68,71,79,81,83,283],S=[6,13,16,28,29,31,32,38,39,41,51,61,68,71,79,80,81,83,90,106,109,122,123,125,130,157,158,160,163,164,165,183,194,205,210,212,213,215,216,220,224,228,243,248,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,304,305,307,308,309,310,311,312,313,314],F=[1,106],D=[1,107],L=[6,13,16,28,29,39,41,80,83,109,157,158,160,163,164,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],N=[28,32],P=[2,291],I=[1,122],O=[1,120],M=[6,194],R=[2,308],q=[2,296],j=[38,125],B=[6,41,68,71,79,81,83],H=[2,236],z=[1,136],$=[1,138],G=[1,148],U=[1,154],V=[1,157],X=[1,153],W=[1,155],Y=[1,151],Q=[1,152],Z=[1,158],K=[1,159],J=[1,162],tt=[1,163],et=[1,164],nt=[1,165],it=[1,166],rt=[1,167],ot=[1,168],st=[1,169],at=[1,170],ut=[1,171],ct=[1,172],lt=[1,173],ht=[6,61,68,71,79,81,83],dt=[28,29,38,39,51],pt=[13,16,28,29,80,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,314,315,316,317,318,319],ft=[2,405],gt=[1,186],vt=[1,187],yt=[1,188],mt=[13,16,41,80,90,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],bt=[6,106,194],_t=[41,109],xt=[6,41,71,79,81,83],wt=[2,320],Et=[2,312],kt=[13,16,28,183,283],Tt=[2,348],Ct=[2,344],At=[13,16,28,29,32,39,41,80,83,109,157,158,160,163,164,165,183,194,205,210,212,213,215,216,248,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],St=[13,16,28,29,31,32,39,41,80,83,90,109,157,158,160,163,164,165,183,194,205,210,212,213,215,216,220,224,228,243,248,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314],Ft=[13,16,28,29,31,32,39,41,80,83,90,109,157,158,160,163,164,165,183,194,205,210,212,213,215,216,220,224,228,243,248,265,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314],Dt=[31,32,194,220,248],Lt=[31,32,194,220,224,248],Nt=[31,32,194,220,224,228,243,248,265,277,278,279,280,281,282,308,309,310,311,312,313,314],Pt=[31,32,194,220,224,228,243,248,265,277,278,279,280,281,282,290,305,308,309,310,311,312,313,314],It=[1,252],Ot=[1,253],Mt=[1,255],Rt=[1,256],qt=[1,257],jt=[1,258],Bt=[1,260],Ht=[1,261],zt=[2,412],$t=[1,263],Gt=[1,264],Ut=[1,265],Vt=[1,271],Xt=[1,266],Wt=[1,267],Yt=[1,268],Qt=[1,269],Zt=[1,270],Kt=[1,278],Jt=[1,289],te=[6,41,79,81,83],ee=[1,306],ne=[1,305],ie=[39,41,83,109,157,158,160,163,164],re=[1,314],oe=[1,315],se=[41,109,301],ae=[13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],ue=[13,16,28,29,32,39,41,80,83,109,157,158,160,163,164,165,194,212,213,215,216,248,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],ce=[13,16,28,29,80,205,243,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,308,314,315,316,317,318,319],le=[1,341],he=[1,342],de=[1,344],pe=[1,343],fe=[6,13,16,28,29,31,32,39,41,68,71,74,76,79,80,81,83,109,157,158,160,163,164,165,194,212,215,216,220,224,228,243,245,246,247,248,249,251,252,254,255,258,260,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314,315,316,317,318,319],ge=[1,352],ve=[1,351],ye=[29,165],me=[13,16,32,41,80,90,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],be=[29,41],_e=[2,311],xe=[6,41,83],we=[6,13,16,29,41,71,79,81,83,245,246,247,249,251,252,254,255,258,260,283,314,315,316,317,318,319],Ee=[6,13,16,28,29,39,41,71,74,76,79,80,81,83,109,157,158,160,163,164,165,212,215,216,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301,314,315,316,317,318,319],ke=[6,13,16,28,29,41,68,71,79,81,83,245,246,247,249,251,252,254,255,258,260,283,314,315,316,317,318,319],Te=[6,13,16,28,29,31,32,39,41,61,68,71,74,76,79,80,81,83,109,157,158,160,163,164,165,194,212,215,216,220,224,228,243,245,246,247,248,249,251,252,254,255,258,260,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,302,305,308,309,310,311,312,313,314,315,316,317,318,319],Ce=[13,16,29,183,205,210,283],Ae=[2,362],Se=[1,393],Fe=[39,41,83,109,157,158,160,163,164,301],De=[2,350],Le=[13,16,28,29,32,39,41,80,83,109,157,158,160,163,164,165,183,194,212,213,215,216,248,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],Ne=[13,16,28,29,80,205,243,245,246,247,249,251,252,254,255,258,260,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,308,314,315,316,317,318,319],Pe=[1,443],Ie=[1,440],Oe=[1,441],Me=[13,16,28,29,39,41,80,83,109,157,158,160,163,164,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],Re=[13,16,28,283],qe=[13,16,28,29,39,41,80,83,109,157,158,160,163,164,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,301],je=[2,323],Be=[13,16,28,183,194,283],He=[13,16,32,80,90,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],ze=[6,13,16,28,29,41,74,76,79,81,83,245,246,247,249,251,252,254,255,258,260,283,314,315,316,317,318,319],$e=[2,318],Ge=[13,16,29,183,205,283],Ue=[39,41,83,109,157,158,160,163,164,194,213,301],Ve=[13,16,28,29,41,80,109,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283],Xe=[13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,304,305],We=[13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,304,305,307,308],Ye=[1,553],Qe=[1,554],Ze=[2,306],Ke=[13,16,32,183,210,283],Je={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClause:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifier:21,SubSelect:22,SubSelect_option0:23,SELECT:24,SelectClause_option0:25,SelectClause_group0:26,SelectClauseItem:27,VAR:28,"(":29,Expression:30,AS:31,")":32,ConstructQuery:33,CONSTRUCT:34,ConstructTemplate:35,ConstructQuery_repetition0:36,ConstructQuery_repetition1:37,WHERE:38,"{":39,ConstructQuery_option0:40,"}":41,DescribeQuery:42,DESCRIBE:43,DescribeQuery_group0:44,DescribeQuery_repetition0:45,DescribeQuery_option0:46,AskQuery:47,ASK:48,AskQuery_repetition0:49,DatasetClause:50,FROM:51,DatasetClause_option0:52,iri:53,WhereClause_option0:54,GroupGraphPattern:55,SolutionModifier_option0:56,SolutionModifier_option1:57,SolutionModifier_option2:58,SolutionModifier_option3:59,GroupClause:60,GROUP:61,BY:62,GroupClause_repetition_plus0:63,GroupCondition:64,BuiltInCall:65,FunctionCall:66,HavingClause:67,HAVING:68,HavingClause_repetition_plus0:69,OrderClause:70,ORDER:71,OrderClause_repetition_plus0:72,OrderCondition:73,ASC:74,BrackettedExpression:75,DESC:76,Constraint:77,LimitOffsetClauses:78,LIMIT:79,INTEGER:80,OFFSET:81,ValuesClause:82,VALUES:83,InlineData:84,InlineData_repetition0:85,InlineData_repetition1:86,InlineData_repetition2:87,DataBlockValue:88,Literal:89,UNDEF:90,DataBlockValueList:91,DataBlockValueList_repetition0:92,Update:93,Update_repetition0:94,Update1:95,Update_option0:96,LOAD:97,Update1_option0:98,Update1_option1:99,Update1_group0:100,Update1_option2:101,GraphRefAll:102,Update1_group1:103,Update1_option3:104,GraphOrDefault:105,TO:106,CREATE:107,Update1_option4:108,GRAPH:109,INSERTDATA:110,QuadPattern:111,DELETEDATA:112,DELETEWHERE:113,Update1_option5:114,InsertClause:115,Update1_option6:116,Update1_repetition0:117,Update1_option7:118,DeleteClause:119,Update1_option8:120,Update1_repetition1:121,DELETE:122,INSERT:123,UsingClause:124,USING:125,UsingClause_option0:126,WithClause:127,WITH:128,IntoGraphClause:129,INTO:130,DEFAULT:131,GraphOrDefault_option0:132,GraphRefAll_group0:133,QuadPattern_option0:134,QuadPattern_repetition0:135,QuadsNotTriples:136,QuadsNotTriples_group0:137,QuadsNotTriples_option0:138,QuadsNotTriples_option1:139,QuadsNotTriples_option2:140,TriplesTemplate:141,TriplesTemplate_repetition0:142,TriplesSameSubject:143,TriplesTemplate_option0:144,GroupGraphPatternSub:145,GroupGraphPatternSub_option0:146,GroupGraphPatternSub_repetition0:147,GroupGraphPatternSubTail:148,GraphPatternNotTriples:149,GroupGraphPatternSubTail_option0:150,GroupGraphPatternSubTail_option1:151,TriplesBlock:152,TriplesBlock_repetition0:153,TriplesSameSubjectPath:154,TriplesBlock_option0:155,GraphPatternNotTriples_repetition0:156,OPTIONAL:157,MINUS:158,GraphPatternNotTriples_group0:159,SERVICE:160,GraphPatternNotTriples_option0:161,GraphPatternNotTriples_group1:162,FILTER:163,BIND:164,NIL:165,FunctionCall_option0:166,FunctionCall_repetition0:167,ExpressionList:168,ExpressionList_repetition0:169,ConstructTemplate_option0:170,ConstructTriples:171,ConstructTriples_repetition0:172,ConstructTriples_option0:173,VarOrTerm:174,PropertyListNotEmpty:175,TriplesNode:176,PropertyList:177,PropertyList_option0:178,PropertyListNotEmpty_repetition0:179,VerbObjectList:180,Verb:181,ObjectList:182,a:183,ObjectList_repetition0:184,GraphNode:185,PropertyListPathNotEmpty:186,TriplesNodePath:187,TriplesSameSubjectPath_option0:188,PropertyListPathNotEmpty_group0:189,PropertyListPathNotEmpty_repetition0:190,GraphNodePath:191,PropertyListPathNotEmpty_repetition1:192,PropertyListPathNotEmptyTail:193,";":194,PropertyListPathNotEmptyTail_group0:195,Path:196,Path_repetition0:197,PathSequence:198,PathSequence_repetition0:199,PathEltOrInverse:200,PathElt:201,PathPrimary:202,PathElt_option0:203,PathEltOrInverse_option0:204,"!":205,PathNegatedPropertySet:206,PathOneInPropertySet:207,PathNegatedPropertySet_repetition0:208,PathNegatedPropertySet_option0:209,"^":210,TriplesNode_repetition_plus0:211,"[":212,"]":213,TriplesNodePath_repetition_plus0:214,BLANK_NODE_LABEL:215,ANON:216,ConditionalAndExpression:217,Expression_repetition0:218,ExpressionTail:219,"||":220,RelationalExpression:221,ConditionalAndExpression_repetition0:222,ConditionalAndExpressionTail:223,"&&":224,AdditiveExpression:225,RelationalExpression_group0:226,RelationalExpression_option0:227,IN:228,MultiplicativeExpression:229,AdditiveExpression_repetition0:230,AdditiveExpressionTail:231,AdditiveExpressionTail_group0:232,NumericLiteralPositive:233,AdditiveExpressionTail_repetition0:234,NumericLiteralNegative:235,AdditiveExpressionTail_repetition1:236,UnaryExpression:237,MultiplicativeExpression_repetition0:238,MultiplicativeExpressionTail:239,MultiplicativeExpressionTail_group0:240,UnaryExpression_option0:241,PrimaryExpression:242,"-":243,Aggregate:244,FUNC_ARITY0:245,FUNC_ARITY1:246,FUNC_ARITY2:247,",":248,IF:249,BuiltInCall_group0:250,BOUND:251,BNODE:252,BuiltInCall_option0:253,EXISTS:254,COUNT:255,Aggregate_option0:256,Aggregate_group0:257,FUNC_AGGREGATE:258,Aggregate_option1:259,GROUP_CONCAT:260,Aggregate_option2:261,Aggregate_option3:262,GroupConcatSeparator:263,SEPARATOR:264,"=":265,String:266,LANGTAG:267,"^^":268,DECIMAL:269,DOUBLE:270,true:271,false:272,STRING_LITERAL1:273,STRING_LITERAL2:274,STRING_LITERAL_LONG1:275,STRING_LITERAL_LONG2:276,INTEGER_POSITIVE:277,DECIMAL_POSITIVE:278,DOUBLE_POSITIVE:279,INTEGER_NEGATIVE:280,DECIMAL_NEGATIVE:281,DOUBLE_NEGATIVE:282,PNAME_LN:283,QueryOrUpdate_group0_option0:284,Prologue_repetition0_group0:285,SelectClause_option0_group0:286,DISTINCT:287,REDUCED:288,SelectClause_group0_repetition_plus0:289,"*":290,DescribeQuery_group0_repetition_plus0_group0:291,DescribeQuery_group0_repetition_plus0:292,NAMED:293,SILENT:294,CLEAR:295,DROP:296,ADD:297,MOVE:298,COPY:299,ALL:300,".":301,UNION:302,PropertyListNotEmpty_repetition0_repetition_plus0:303,"|":304,"/":305,PathElt_option0_group0:306,"?":307,"+":308,"!=":309,"<":310,">":311,"<=":312,">=":313,NOT:314,CONCAT:315,COALESCE:316,SUBSTR:317,REGEX:318,REPLACE:319,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"SELECT",28:"VAR",29:"(",31:"AS",32:")",34:"CONSTRUCT",38:"WHERE",39:"{",41:"}",43:"DESCRIBE",48:"ASK",51:"FROM",61:"GROUP",62:"BY",68:"HAVING",71:"ORDER",74:"ASC",76:"DESC",79:"LIMIT",80:"INTEGER",81:"OFFSET",83:"VALUES",90:"UNDEF",97:"LOAD",106:"TO",107:"CREATE",109:"GRAPH",110:"INSERTDATA",112:"DELETEDATA",113:"DELETEWHERE",122:"DELETE",123:"INSERT",125:"USING",128:"WITH",130:"INTO",131:"DEFAULT",157:"OPTIONAL",158:"MINUS",160:"SERVICE",163:"FILTER",164:"BIND",165:"NIL",183:"a",194:";",205:"!",210:"^",212:"[",213:"]",215:"BLANK_NODE_LABEL",216:"ANON",220:"||",224:"&&",228:"IN",243:"-",245:"FUNC_ARITY0",246:"FUNC_ARITY1",247:"FUNC_ARITY2",248:",",249:"IF",251:"BOUND",252:"BNODE",254:"EXISTS",255:"COUNT",258:"FUNC_AGGREGATE",260:"GROUP_CONCAT",264:"SEPARATOR",265:"=",267:"LANGTAG",268:"^^",269:"DECIMAL",270:"DOUBLE",271:"true",272:"false",273:"STRING_LITERAL1",274:"STRING_LITERAL2",275:"STRING_LITERAL_LONG1",276:"STRING_LITERAL_LONG2",277:"INTEGER_POSITIVE",278:"DECIMAL_POSITIVE",279:"DOUBLE_POSITIVE",280:"INTEGER_NEGATIVE",281:"DECIMAL_NEGATIVE",282:"DOUBLE_NEGATIVE",283:"PNAME_LN",287:"DISTINCT",288:"REDUCED",290:"*",293:"NAMED",294:"SILENT",295:"CLEAR",296:"DROP",297:"ADD",298:"MOVE",299:"COPY",300:"ALL",301:".",302:"UNION",304:"|",305:"/",307:"?",308:"+",309:"!=",310:"<",311:">",312:"<=",313:">=",314:"NOT",315:"CONCAT",316:"COALESCE",317:"SUBSTR",318:"REGEX",319:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[22,4],[18,3],[27,1],[27,5],[33,5],[33,7],[42,5],[47,4],[50,3],[20,2],[21,4],[60,3],[64,1],[64,1],[64,3],[64,5],[64,1],[67,2],[70,3],[73,2],[73,2],[73,1],[73,1],[78,2],[78,2],[78,4],[78,4],[82,2],[84,4],[84,6],[88,1],[88,1],[88,1],[91,3],[93,3],[95,4],[95,3],[95,5],[95,4],[95,2],[95,2],[95,2],[95,6],[95,6],[119,2],[115,2],[124,3],[127,2],[129,3],[105,1],[105,2],[102,2],[102,1],[111,4],[136,7],[141,3],[55,3],[55,3],[145,2],[148,3],[152,3],[149,2],[149,2],[149,2],[149,3],[149,4],[149,2],[149,6],[149,1],[77,1],[77,1],[77,1],[66,2],[66,6],[168,1],[168,4],[35,3],[171,3],[143,2],[143,2],[177,1],[175,2],[180,2],[181,1],[181,1],[181,1],[182,2],[154,2],[154,2],[186,4],[193,1],[193,3],[196,2],[198,2],[201,2],[200,2],[202,1],[202,1],[202,2],[202,3],[206,1],[206,1],[206,4],[207,1],[207,1],[207,2],[207,2],[176,3],[176,3],[187,3],[187,3],[185,1],[185,1],[191,1],[191,1],[174,1],[174,1],[174,1],[174,1],[174,1],[174,1],[30,2],[219,2],[217,2],[223,2],[221,1],[221,3],[221,4],[225,2],[231,2],[231,2],[231,2],[229,2],[239,2],[237,2],[237,2],[237,2],[242,1],[242,1],[242,1],[242,1],[242,1],[242,1],[75,3],[65,1],[65,2],[65,4],[65,6],[65,8],[65,2],[65,4],[65,2],[65,4],[65,3],[244,5],[244,5],[244,6],[263,4],[89,1],[89,2],[89,3],[89,1],[89,1],[89,1],[89,1],[89,1],[89,1],[89,1],[266,1],[266,1],[266,1],[266,1],[233,1],[233,1],[233,1],[235,1],[235,1],[235,1],[53,1],[53,1],[53,1],[284,0],[284,1],[5,1],[5,1],[285,1],[285,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,1],[286,1],[286,1],[25,0],[25,1],[289,1],[289,2],[26,1],[26,1],[36,0],[36,2],[37,0],[37,2],[40,0],[40,1],[291,1],[291,1],[292,1],[292,2],[44,1],[44,1],[45,0],[45,2],[46,0],[46,1],[49,0],[49,2],[52,0],[52,1],[54,0],[54,1],[56,0],[56,1],[57,0],[57,1],[58,0],[58,1],[59,0],[59,1],[63,1],[63,2],[69,1],[69,2],[72,1],[72,2],[85,0],[85,2],[86,0],[86,2],[87,0],[87,2],[92,0],[92,2],[94,0],[94,4],[96,0],[96,2],[98,0],[98,1],[99,0],[99,1],[100,1],[100,1],[101,0],[101,1],[103,1],[103,1],[103,1],[104,0],[104,1],[108,0],[108,1],[114,0],[114,1],[116,0],[116,1],[117,0],[117,2],[118,0],[118,1],[120,0],[120,1],[121,0],[121,2],[126,0],[126,1],[132,0],[132,1],[133,1],[133,1],[133,1],[134,0],[134,1],[135,0],[135,2],[137,1],[137,1],[138,0],[138,1],[139,0],[139,1],[140,0],[140,1],[142,0],[142,3],[144,0],[144,1],[146,0],[146,1],[147,0],[147,2],[150,0],[150,1],[151,0],[151,1],[153,0],[153,3],[155,0],[155,1],[156,0],[156,3],[159,1],[159,1],[161,0],[161,1],[162,1],[162,1],[166,0],[166,1],[167,0],[167,3],[169,0],[169,3],[170,0],[170,1],[172,0],[172,3],[173,0],[173,1],[178,0],[178,1],[303,1],[303,2],[179,0],[179,3],[184,0],[184,3],[188,0],[188,1],[189,1],[189,1],[190,0],[190,3],[192,0],[192,2],[195,1],[195,1],[197,0],[197,3],[199,0],[199,3],[306,1],[306,1],[306,1],[203,0],[203,1],[204,0],[204,1],[208,0],[208,3],[209,0],[209,1],[211,1],[211,2],[214,1],[214,2],[218,0],[218,2],[222,0],[222,2],[226,1],[226,1],[226,1],[226,1],[226,1],[226,1],[227,0],[227,1],[230,0],[230,2],[232,1],[232,1],[234,0],[234,2],[236,0],[236,2],[238,0],[238,2],[240,1],[240,1],[241,0],[241,1],[250,1],[250,1],[250,1],[250,1],[250,1],[253,0],[253,1],[256,0],[256,1],[257,1],[257,1],[259,0],[259,1],[261,0],[261,1],[262,0],[262,1]],performAction:function(t,e,n,i,r,o,s){var a,u,c=o.length-1;switch(r){case 1:return o[c-1]=o[c-1]||{},Bn.base&&(o[c-1].base=Bn.base),Bn.base=pn=fn=gn="",o[c-1].prefixes=Bn.prefixes,Bn.prefixes=null,o[c-1];case 3:this.$=bn(o[c-1],o[c],{type:"query"});break;case 4:Bn.base=xn(o[c]),pn=fn=gn="";break;case 5:Bn.prefixes||(Bn.prefixes={}),o[c-1]=o[c-1].substr(0,o[c-1].length-1),o[c]=xn(o[c]),Bn.prefixes[o[c-1]]=o[c];break;case 6:this.$=bn(o[c-3],An(o[c-2]),o[c-1],o[c]);break;case 7:this.$=bn(o[c-3],o[c-2],o[c-1],o[c],{type:"query"});break;case 8:this.$=bn({queryType:"SELECT",variables:"*"===o[c]?["*"]:o[c]},o[c-1]&&(o[c-2]=vn(o[c-1]),o[c-1]={},o[c-1][o[c-2]]=!0,o[c-1]));break;case 9:case 90:case 122:case 149:this.$=wn(o[c]);break;case 10:case 22:this.$=kn(o[c-3],{variable:wn(o[c-1])});break;case 11:this.$=bn({queryType:"CONSTRUCT",template:o[c-3]},An(o[c-2]),o[c-1],o[c]);break;case 12:this.$=bn({queryType:"CONSTRUCT",template:o[c-2]=o[c-2]?o[c-2].triples:[]},An(o[c-5]),{where:[{type:"bgp",triples:mn([],o[c-2])}]},o[c]);break;case 13:this.$=bn({queryType:"DESCRIBE",variables:"*"===o[c-3]?["*"]:o[c-3].map(wn)},An(o[c-2]),o[c-1],o[c]);break;case 14:this.$=bn({queryType:"ASK"},An(o[c-2]),o[c-1],o[c]);break;case 15:case 53:this.$={iri:o[c],named:!!o[c-1]};break;case 16:this.$={where:o[c].patterns};break;case 17:this.$=bn(o[c-3],o[c-2],o[c-1],o[c]);break;case 18:this.$={group:o[c]};break;case 19:case 20:case 26:case 28:this.$=kn(o[c]);break;case 21:this.$=kn(o[c-1]);break;case 23:case 29:this.$=kn(wn(o[c]));break;case 24:this.$={having:o[c]};break;case 25:this.$={order:o[c]};break;case 27:this.$=kn(o[c],{descending:!0});break;case 30:this.$={limit:Sn(o[c])};break;case 31:this.$={offset:Sn(o[c])};break;case 32:this.$={limit:Sn(o[c-2]),offset:Sn(o[c])};break;case 33:this.$={limit:Sn(o[c]),offset:Sn(o[c-2])};break;case 34:this.$={type:"values",values:o[c]};break;case 35:o[c-3]=wn(o[c-3]),this.$=o[c-1].map(function(t){var e={};return e[o[c-3]]=t,e});break;case 36:var l=o[c-4].length;o[c-4]=o[c-4].map(wn),this.$=o[c-1].map(function(t){if(t.length!==l)throw Error("Inconsistent VALUES length");for(var e={},n=0;n<l;n++)e[o[c-4][n]]=t[n];return e});break;case 39:this.$=void 0;break;case 40:case 83:case 106:case 150:this.$=o[c-1];break;case 41:this.$={type:"update",updates:yn(o[c-2],o[c-1])};break;case 42:this.$=bn({type:"load",silent:!!o[c-2],source:o[c-1]},o[c]&&{destination:o[c]});break;case 43:this.$={type:vn(o[c-2]),silent:!!o[c-1],graph:o[c]};break;case 44:this.$={type:vn(o[c-4]),silent:!!o[c-3],source:o[c-2],destination:o[c]};break;case 45:this.$={type:"create",silent:!!o[c-2],graph:o[c-1]};break;case 46:this.$={updateType:"insert",insert:o[c]};break;case 47:this.$={updateType:"delete",delete:o[c]};break;case 48:this.$={updateType:"deletewhere",delete:o[c]};break;case 49:this.$=bn({updateType:"insertdelete"},o[c-5],{insert:o[c-4]||[]},{delete:o[c-3]||[]},An(o[c-2]),{where:o[c].patterns});break;case 50:this.$=bn({updateType:"insertdelete"},o[c-5],{delete:o[c-4]||[]},{insert:o[c-3]||[]},An(o[c-2]),{where:o[c].patterns});break;case 51:case 52:case 55:case 141:this.$=o[c];break;case 54:this.$={graph:o[c]};break;case 56:this.$={type:"graph",default:!0};break;case 57:case 58:this.$={type:"graph",name:o[c]};break;case 59:this.$={},this.$[vn(o[c])]=!0;break;case 60:this.$=o[c-2]?_n(o[c-1],[o[c-2]]):_n(o[c-1]);break;case 61:var h=bn(o[c-3]||{triples:[]},{type:"graph",name:wn(o[c-5])});this.$=o[c]?[h,o[c]]:[h];break;case 62:case 67:this.$={type:"bgp",triples:_n(o[c-2],[o[c-1]])};break;case 63:this.$={type:"group",patterns:[o[c-1]]};break;case 64:this.$={type:"group",patterns:o[c-1]};break;case 65:this.$=o[c-1]?_n([o[c-1]],o[c]):_n(o[c]);break;case 66:this.$=o[c]?[o[c-2],o[c]]:o[c-2];break;case 68:o[c-1].length?this.$={type:"union",patterns:_n(o[c-1].map(Fn),[Fn(o[c])])}:this.$=o[c];break;case 69:this.$=bn(o[c],{type:"optional"});break;case 70:this.$=bn(o[c],{type:"minus"});break;case 71:this.$=bn(o[c],{type:"graph",name:wn(o[c-1])});break;case 72:this.$=bn(o[c],{type:"service",name:wn(o[c-1]),silent:!!o[c-2]});break;case 73:this.$={type:"filter",expression:o[c]};break;case 74:this.$={type:"bind",variable:wn(o[c-1]),expression:o[c-3]};break;case 79:this.$={type:"functionCall",function:o[c-1],args:[]};break;case 80:this.$={type:"functionCall",function:o[c-5],args:yn(o[c-2],o[c-1]),distinct:!!o[c-3]};break;case 81:case 97:case 108:case 194:case 202:case 214:case 216:case 226:case 230:case 250:case 252:case 254:case 256:case 258:case 281:case 287:case 298:case 308:case 314:case 320:case 324:case 334:case 336:case 340:case 348:case 350:case 356:case 358:case 362:case 364:case 373:case 381:case 383:case 393:case 397:case 399:case 401:this.$=[];break;case 82:this.$=yn(o[c-2],o[c-1]);break;case 84:this.$=_n(o[c-2],[o[c-1]]);break;case 85:case 94:this.$=o[c].map(function(t){return bn(Ln(o[c-1]),t)});break;case 86:this.$=mn(o[c].map(function(t){return bn(Ln(o[c-1].entity),t)}),o[c-1].triples);break;case 88:this.$=_n(o[c-1],[o[c]]);break;case 89:this.$=qn(o[c-1],o[c]);break;case 92:case 104:case 111:this.$=en;break;case 93:this.$=yn(o[c-1],o[c]);break;case 95:this.$=o[c]?mn(o[c].map(function(t){return bn(Ln(o[c-1].entity),t)}),o[c-1].triples):o[c-1].triples;break;case 96:this.$=qn(wn(o[c-3]),yn(o[c-2],o[c-1]),o[c]);break;case 98:this.$=qn(wn(o[c-1]),o[c]);break;case 99:this.$=o[c-1].length?Tn("|",yn(o[c-1],o[c])):o[c];break;case 100:this.$=o[c-1].length?Tn("/",yn(o[c-1],o[c])):o[c];break;case 101:this.$=o[c]?Tn(o[c],[o[c-1]]):o[c-1];break;case 102:this.$=o[c-1]?Tn(o[c-1],[o[c]]):o[c];break;case 105:case 112:this.$=Tn(o[c-1],[o[c]]);break;case 109:this.$=Tn("|",yn(o[c-2],o[c-1]));break;case 113:this.$=Tn(o[c-1],[en]);break;case 114:case 116:this.$=function(t){var e=Nn(),n=e,i=[],r=[];t.forEach(function(t){i.push(t.entity),mn(r,t.triples)});for(var o=0,s=0,a=i.length,u=Array(2*a);o<a;)u[s++]=Ln(n,nn,i[o]),u[s++]=Ln(n,rn,n=++o<a?Nn():on);return{entity:e,triples:mn(u,r)}}(o[c-1]);break;case 115:case 117:this.$=(a=o[c-1],{entity:u=Nn(),triples:a.map(function(t){return bn(Ln(u),t)})});break;case 118:case 120:this.$={entity:o[c],triples:[]};break;case 126:this.$=Nn();break;case 127:this.$=on;break;case 128:case 130:case 135:case 139:this.$=Cn(o[c-1],o[c]);break;case 129:this.$=["||",o[c]];break;case 131:this.$=["&&",o[c]];break;case 133:this.$=En(o[c-1],[o[c-2],o[c]]);break;case 134:this.$=En(o[c-2]?"notin":"in",[o[c-3],o[c]]);break;case 136:case 140:this.$=[o[c-1],o[c]];break;case 137:this.$=["+",Cn(o[c-1],o[c])];break;case 138:this.$=["-",Cn(o[c-1].replace("-",""),o[c])];break;case 142:this.$=En(o[c-1],[o[c]]);break;case 143:this.$=En("UMINUS",[o[c]]);break;case 152:this.$=En(vn(o[c-1]));break;case 153:this.$=En(vn(o[c-3]),[o[c-1]]);break;case 154:this.$=En(vn(o[c-5]),[o[c-3],o[c-1]]);break;case 155:this.$=En(vn(o[c-7]),[o[c-5],o[c-3],o[c-1]]);break;case 156:this.$=En(vn(o[c-1]),o[c]);break;case 157:this.$=En("bound",[wn(o[c-1])]);break;case 158:this.$=En(o[c-1],[]);break;case 159:this.$=En(o[c-3],[o[c-1]]);break;case 160:this.$=En(o[c-2]?"notexists":"exists",[Fn(o[c])]);break;case 161:case 162:this.$=kn(o[c-1],{type:"aggregate",aggregation:vn(o[c-4]),distinct:!!o[c-2]});break;case 163:this.$=kn(o[c-2],{type:"aggregate",aggregation:vn(o[c-5]),distinct:!!o[c-3],separator:o[c-1]||" "});break;case 164:this.$=o[c].substr(1,o[c].length-2);break;case 166:this.$=o[c-1]+vn(o[c]);break;case 167:this.$=o[c-2]+"^^"+o[c];break;case 168:case 182:this.$=Dn(o[c],an);break;case 169:case 183:this.$=Dn(o[c],un);break;case 170:case 184:this.$=Dn(vn(o[c]),cn);break;case 173:this.$=hn;break;case 174:this.$=dn;break;case 175:case 176:this.$=Rn(o[c],1);break;case 177:case 178:this.$=Rn(o[c],3);break;case 179:this.$=Dn(o[c].substr(1),an);break;case 180:this.$=Dn(o[c].substr(1),un);break;case 181:this.$=Dn(o[c].substr(1).toLowerCase(),cn);break;case 185:this.$=xn(o[c]);break;case 186:var d=o[c].indexOf(":"),p=o[c].substr(0,d),f=Bn.prefixes[p];if(!f)throw new Error("Unknown prefix: "+p);this.$=xn(f+o[c].substr(d+1));break;case 187:if(o[c]=o[c].substr(0,o[c].length-1),!(o[c]in Bn.prefixes))throw new Error("Unknown prefix: "+o[c]);this.$=xn(Bn.prefixes[o[c]]);break;case 195:case 203:case 211:case 215:case 217:case 223:case 227:case 231:case 245:case 247:case 249:case 251:case 253:case 255:case 257:case 282:case 288:case 299:case 315:case 347:case 359:case 378:case 380:case 382:case 384:case 394:case 398:case 400:case 402:o[c-1].push(o[c]);break;case 210:case 222:case 244:case 246:case 248:case 346:case 377:case 379:this.$=[o[c]];break;case 259:o[c-3].push(o[c-2]);break;case 309:case 321:case 325:case 335:case 337:case 341:case 349:case 351:case 357:case 363:case 365:case 374:o[c-2].push(o[c-1])}},table:[t(e,n,{3:1,4:2,7:3}),{1:[3]},t(i,[2,258],{5:4,8:5,284:6,9:7,93:8,17:9,33:10,42:11,47:12,94:13,18:14,6:[2,188],24:r,34:[1,15],43:[1,16],48:[1,17]}),t([6,24,34,43,48,97,107,110,112,113,122,123,128,295,296,297,298,299],[2,2],{285:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,190]},{6:[2,191]},{6:[2,200],10:25,82:26,83:o},{6:[2,189]},t(s,[2,196]),t(s,[2,197]),t(s,[2,198]),t(s,[2,199]),{95:28,97:[1,29],100:30,103:31,107:[1,32],110:[1,33],112:[1,34],113:[1,35],114:36,118:37,122:[2,283],123:[2,277],127:43,128:[1,44],295:[1,38],296:[1,39],297:[1,40],298:[1,41],299:[1,42]},t(a,[2,202],{19:45}),t(u,[2,216],{35:46,37:47,39:[1,48]}),{13:c,16:l,28:h,44:49,53:54,283:d,290:[1,51],291:52,292:50},t(a,[2,230],{49:58}),t(p,[2,208],{25:59,286:60,287:[1,61],288:[1,62]}),t(e,[2,195]),t(e,[2,192]),t(e,[2,193]),{13:[1,63]},{16:[1,64]},{1:[2,1]},{6:[2,3]},{6:[2,201]},{28:[1,66],29:[1,67],84:65},{6:[2,260],96:68,194:[1,69]},t(f,[2,262],{98:70,294:[1,71]}),t(g,[2,268],{101:72,294:[1,73]}),t(v,[2,273],{104:74,294:[1,75]}),{108:76,109:[2,275],294:[1,77]},{39:y,111:78},{39:y,111:80},{39:y,111:81},{115:82,123:m},{119:84,122:b},t(_,[2,266]),t(_,[2,267]),t(x,[2,270]),t(x,[2,271]),t(x,[2,272]),{122:[2,284],123:[2,278]},{13:c,16:l,53:86,283:d},{20:87,38:w,39:E,50:88,51:k,54:89},t(a,[2,214],{36:92}),{38:[1,93],50:94,51:k},t(T,[2,340],{170:95,171:96,172:97,41:[2,338]}),t(C,[2,226],{45:98}),t(C,[2,224],{53:54,291:99,13:c,16:l,28:h,283:d}),t(C,[2,225]),t(A,[2,222]),t(A,[2,220]),t(A,[2,221]),t(S,[2,185]),t(S,[2,186]),t(S,[2,187]),{20:100,38:w,39:E,50:101,51:k,54:89},{26:102,27:105,28:F,29:D,289:103,290:[1,104]},t(p,[2,209]),t(p,[2,206]),t(p,[2,207]),t(e,[2,4]),{13:[1,108]},t(L,[2,34]),{39:[1,109]},t(N,[2,252],{86:110}),{6:[2,41]},t(e,n,{7:3,4:111}),{13:c,16:l,53:112,283:d},t(f,[2,263]),{102:113,109:[1,114],131:[1,116],133:115,293:[1,117],300:[1,118]},t(g,[2,269]),t(f,P,{105:119,132:121,109:I,131:O}),t(v,[2,274]),{109:[1,123]},{109:[2,276]},t(M,[2,46]),t(T,R,{134:124,141:125,142:126,41:q,109:q}),t(M,[2,47]),t(M,[2,48]),t(j,[2,279],{116:127,119:128,122:b}),{39:y,111:129},t(j,[2,285],{120:130,115:131,123:m}),{39:y,111:132},t([122,123],[2,54]),t(B,H,{21:133,56:134,60:135,61:z}),t(a,[2,203]),{39:$,55:137},t(f,[2,232],{52:139,293:[1,140]}),{39:[2,235]},{20:141,38:w,39:E,50:142,51:k,54:89},{39:[1,143]},t(u,[2,217]),{41:[1,144]},{41:[2,339]},{13:c,16:l,28:G,29:U,53:149,80:V,89:150,143:145,165:X,174:146,176:147,212:W,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ht,[2,228],{54:89,46:174,50:175,20:176,38:w,39:E,51:k}),t(A,[2,223]),t(B,H,{56:134,60:135,21:177,61:z}),t(a,[2,231]),t(a,[2,8]),t(a,[2,212],{27:178,28:F,29:D}),t(a,[2,213]),t(dt,[2,210]),t(dt,[2,9]),t(pt,ft,{30:179,217:180,221:181,225:182,229:183,237:184,241:185,205:gt,243:vt,308:yt}),t(e,[2,5]),t(mt,[2,250],{85:189}),{28:[1,191],32:[1,190]},t(i,[2,259],{6:[2,261]}),t(M,[2,264],{99:192,129:193,130:[1,194]}),t(M,[2,43]),{13:c,16:l,53:195,283:d},t(M,[2,59]),t(M,[2,293]),t(M,[2,294]),t(M,[2,295]),{106:[1,196]},t(bt,[2,56]),{13:c,16:l,53:197,283:d},t(f,[2,292]),{13:c,16:l,53:198,283:d},t(_t,[2,298],{135:199}),t(_t,[2,297]),{13:c,16:l,28:G,29:U,53:149,80:V,89:150,143:200,165:X,174:146,176:147,212:W,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(j,[2,281],{117:201}),t(j,[2,280]),t([38,122,125],[2,52]),t(j,[2,287],{121:202}),t(j,[2,286]),t([38,123,125],[2,51]),t(s,[2,6]),t(xt,[2,238],{57:203,67:204,68:[1,205]}),t(B,[2,237]),{62:[1,206]},t([6,41,61,68,71,79,81,83],[2,16]),t(T,wt,{22:207,145:208,18:209,146:210,152:211,153:212,24:r,39:Et,41:Et,83:Et,109:Et,157:Et,158:Et,160:Et,163:Et,164:Et}),{13:c,16:l,53:213,283:d},t(f,[2,233]),t(B,H,{56:134,60:135,21:214,61:z}),t(a,[2,215]),t(T,R,{142:126,40:215,141:216,41:[2,218]}),t(a,[2,83]),{41:[2,342],173:217,301:[1,218]},t(kt,Tt,{175:219,179:220}),t(kt,Tt,{179:220,177:221,178:222,175:223,41:Ct,109:Ct,301:Ct}),t(At,[2,122]),t(At,[2,123]),t(At,[2,124]),t(At,[2,125]),t(At,[2,126]),t(At,[2,127]),{13:c,16:l,28:G,29:U,53:149,80:V,89:150,165:X,174:226,176:227,185:225,211:224,212:W,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(kt,Tt,{179:220,175:228}),t(St,[2,165],{267:[1,229],268:[1,230]}),t(St,[2,168]),t(St,[2,169]),t(St,[2,170]),t(St,[2,171]),t(St,[2,172]),t(St,[2,173]),t(St,[2,174]),t(Ft,[2,175]),t(Ft,[2,176]),t(Ft,[2,177]),t(Ft,[2,178]),t(St,[2,179]),t(St,[2,180]),t(St,[2,181]),t(St,[2,182]),t(St,[2,183]),t(St,[2,184]),t(B,H,{56:134,60:135,21:231,61:z}),t(C,[2,227]),t(ht,[2,229]),t(s,[2,14]),t(dt,[2,211]),{31:[1,232]},t(Dt,[2,381],{218:233}),t(Lt,[2,383],{222:234}),t(Lt,[2,132],{226:235,227:236,228:[2,391],265:[1,237],309:[1,238],310:[1,239],311:[1,240],312:[1,241],313:[1,242],314:[1,243]}),t(Nt,[2,393],{230:244}),t(Pt,[2,401],{238:245}),{13:c,16:l,28:It,29:Ot,53:249,65:248,66:250,75:247,80:V,89:251,233:160,235:161,242:246,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},{13:c,16:l,28:It,29:Ot,53:249,65:248,66:250,75:247,80:V,89:251,233:160,235:161,242:272,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},{13:c,16:l,28:It,29:Ot,53:249,65:248,66:250,75:247,80:V,89:251,233:160,235:161,242:273,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},t(pt,[2,406]),{13:c,16:l,41:[1,274],53:276,80:V,88:275,89:277,90:Kt,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},{39:[1,279]},t(N,[2,253]),t(M,[2,42]),t(M,[2,265]),{109:[1,280]},t(M,[2,58]),t(f,P,{132:121,105:281,109:I,131:O}),t(bt,[2,57]),t(M,[2,45]),{41:[1,282],109:[1,284],136:283},t(_t,[2,310],{144:285,301:[1,286]}),{38:[1,287],124:288,125:Jt},{38:[1,290],124:291,125:Jt},t(te,[2,240],{58:292,70:293,71:[1,294]}),t(xt,[2,239]),{13:c,16:l,29:Ot,53:300,65:298,66:299,69:295,75:297,77:296,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},{13:c,16:l,28:ee,29:ne,53:300,63:301,64:302,65:303,66:304,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},{41:[1,307]},{41:[1,308]},{20:309,38:w,39:E,54:89},t(ie,[2,314],{147:310}),t(ie,[2,313]),{13:c,16:l,28:G,29:re,53:149,80:V,89:150,154:311,165:X,174:312,187:313,212:oe,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(C,[2,15]),t(s,[2,11]),{41:[1,316]},{41:[2,219]},{41:[2,84]},t(T,[2,341],{41:[2,343]}),t(se,[2,85]),{13:c,16:l,28:[1,319],53:320,180:317,181:318,183:[1,321],283:d},t(se,[2,86]),t(se,[2,87]),t(se,[2,345]),{13:c,16:l,28:G,29:U,32:[1,322],53:149,80:V,89:150,165:X,174:226,176:227,185:323,212:W,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ae,[2,377]),t(ue,[2,118]),t(ue,[2,119]),{213:[1,324]},t(St,[2,166]),{13:c,16:l,53:325,283:d},t(s,[2,13]),{28:[1,326]},t([31,32,194,248],[2,128],{219:327,220:[1,328]}),t(Dt,[2,130],{223:329,224:[1,330]}),t(pt,ft,{229:183,237:184,241:185,225:331,205:gt,243:vt,308:yt}),{228:[1,332]},t(ce,[2,385]),t(ce,[2,386]),t(ce,[2,387]),t(ce,[2,388]),t(ce,[2,389]),t(ce,[2,390]),{228:[2,392]},t([31,32,194,220,224,228,248,265,309,310,311,312,313,314],[2,135],{231:333,232:334,233:335,235:336,243:[1,338],277:ot,278:st,279:at,280:ut,281:ct,282:lt,308:[1,337]}),t(Nt,[2,139],{239:339,240:340,290:le,305:he}),t(Pt,[2,141]),t(Pt,[2,144]),t(Pt,[2,145]),t(Pt,[2,146],{29:de,165:pe}),t(Pt,[2,147]),t(Pt,[2,148]),t(Pt,[2,149]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:345,205:gt,243:vt,308:yt}),t(fe,[2,151]),{165:[1,346]},{29:[1,347]},{29:[1,348]},{29:[1,349]},{29:ge,165:ve,168:350},{29:[1,353]},{29:[1,355],165:[1,354]},{254:[1,356]},{29:[1,357]},{29:[1,358]},{29:[1,359]},t(ye,[2,407]),t(ye,[2,408]),t(ye,[2,409]),t(ye,[2,410]),t(ye,[2,411]),{254:[2,413]},t(Pt,[2,142]),t(Pt,[2,143]),t(L,[2,35]),t(mt,[2,251]),t(me,[2,37]),t(me,[2,38]),t(me,[2,39]),t(be,[2,254],{87:360}),{13:c,16:l,53:361,283:d},t(M,[2,44]),t([6,38,122,123,125,194],[2,60]),t(_t,[2,299]),{13:c,16:l,28:[1,363],53:364,137:362,283:d},t(_t,[2,62]),t(T,[2,309],{41:_e,109:_e}),{39:$,55:365},t(j,[2,282]),t(f,[2,289],{126:366,293:[1,367]}),{39:$,55:368},t(j,[2,288]),t(xe,[2,242],{59:369,78:370,79:[1,371],81:[1,372]}),t(te,[2,241]),{62:[1,373]},t(xt,[2,24],{244:254,250:259,253:262,75:297,65:298,66:299,53:300,77:374,13:c,16:l,29:Ot,245:Mt,246:Rt,247:qt,249:jt,251:Bt,252:Ht,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt}),t(we,[2,246]),t(Ee,[2,76]),t(Ee,[2,77]),t(Ee,[2,78]),{29:de,165:pe},t(B,[2,18],{244:254,250:259,253:262,53:300,65:303,66:304,64:375,13:c,16:l,28:ee,29:ne,245:Mt,246:Rt,247:qt,249:jt,251:Bt,252:Ht,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt}),t(ke,[2,244]),t(ke,[2,19]),t(ke,[2,20]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:376,205:gt,243:vt,308:yt}),t(ke,[2,23]),t(Te,[2,63]),t(Te,[2,64]),t(B,H,{56:134,60:135,21:377,61:z}),{39:[2,324],41:[2,65],82:387,83:o,109:[1,383],148:378,149:379,156:380,157:[1,381],158:[1,382],160:[1,384],163:[1,385],164:[1,386]},t(ie,[2,322],{155:388,301:[1,389]}),t(Ce,Ae,{186:390,189:391,196:392,197:394,28:Se}),t(Fe,[2,352],{189:391,196:392,197:394,188:395,186:396,13:Ae,16:Ae,29:Ae,183:Ae,205:Ae,210:Ae,283:Ae,28:Se}),{13:c,16:l,28:G,29:re,53:149,80:V,89:150,165:X,174:399,187:400,191:398,212:oe,214:397,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(Ce,Ae,{189:391,196:392,197:394,186:401,28:Se}),t(B,H,{56:134,60:135,21:402,61:z}),t([41,109,213,301],[2,88],{303:403,194:[1,404]}),t(T,De,{182:405,184:406}),t(T,[2,90]),t(T,[2,91]),t(T,[2,92]),t(Le,[2,114]),t(ae,[2,378]),t(Le,[2,115]),t(St,[2,167]),{32:[1,407]},t(Dt,[2,382]),t(pt,ft,{221:181,225:182,229:183,237:184,241:185,217:408,205:gt,243:vt,308:yt}),t(Lt,[2,384]),t(pt,ft,{225:182,229:183,237:184,241:185,221:409,205:gt,243:vt,308:yt}),t(Lt,[2,133]),{29:ge,165:ve,168:410},t(Nt,[2,394]),t(pt,ft,{237:184,241:185,229:411,205:gt,243:vt,308:yt}),t(Pt,[2,397],{234:412}),t(Pt,[2,399],{236:413}),t(ce,[2,395]),t(ce,[2,396]),t(Pt,[2,402]),t(pt,ft,{241:185,237:414,205:gt,243:vt,308:yt}),t(ce,[2,403]),t(ce,[2,404]),t(fe,[2,79]),t(ce,[2,332],{166:415,287:[1,416]}),{32:[1,417]},t(fe,[2,152]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:418,205:gt,243:vt,308:yt}),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:419,205:gt,243:vt,308:yt}),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:420,205:gt,243:vt,308:yt}),t(fe,[2,156]),t(fe,[2,81]),t(ce,[2,336],{169:421}),{28:[1,422]},t(fe,[2,158]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:423,205:gt,243:vt,308:yt}),{39:$,55:424},t(Ne,[2,414],{256:425,287:[1,426]}),t(ce,[2,418],{259:427,287:[1,428]}),t(ce,[2,420],{261:429,287:[1,430]}),{29:[1,433],41:[1,431],91:432},t(M,[2,55]),{39:[1,434]},{39:[2,300]},{39:[2,301]},t(M,[2,49]),{13:c,16:l,53:435,283:d},t(f,[2,290]),t(M,[2,50]),t(xe,[2,17]),t(xe,[2,243]),{80:[1,436]},{80:[1,437]},{13:c,16:l,28:Pe,29:Ot,53:300,65:298,66:299,72:438,73:439,74:Ie,75:297,76:Oe,77:442,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},t(we,[2,247]),t(ke,[2,245]),{31:[1,445],32:[1,444]},{23:446,41:[2,204],82:447,83:o},t(ie,[2,315]),t(Me,[2,316],{150:448,301:[1,449]}),{39:$,55:450},{39:$,55:451},{39:$,55:452},{13:c,16:l,28:[1,454],53:455,159:453,283:d},t(Re,[2,328],{161:456,294:[1,457]}),{13:c,16:l,29:Ot,53:300,65:298,66:299,75:297,77:458,244:254,245:Mt,246:Rt,247:qt,249:jt,250:259,251:Bt,252:Ht,253:262,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt},{29:[1,459]},t(qe,[2,75]),t(ie,[2,67]),t(T,[2,321],{39:je,41:je,83:je,109:je,157:je,158:je,160:je,163:je,164:je}),t(Fe,[2,94]),t(T,[2,356],{190:460}),t(T,[2,354]),t(T,[2,355]),t(Ce,[2,364],{198:461,199:462}),t(Fe,[2,95]),t(Fe,[2,353]),{13:c,16:l,28:G,29:re,32:[1,463],53:149,80:V,89:150,165:X,174:399,187:400,191:464,212:oe,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ae,[2,379]),t(ue,[2,120]),t(ue,[2,121]),{213:[1,465]},t(s,[2,12]),t(kt,[2,349],{194:[1,466]}),t(Be,[2,346]),t([41,109,194,213,301],[2,89]),{13:c,16:l,28:G,29:U,53:149,80:V,89:150,165:X,174:226,176:227,185:467,212:W,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(dt,[2,10]),t(Dt,[2,129]),t(Lt,[2,131]),t(Lt,[2,134]),t(Nt,[2,136]),t(Nt,[2,137],{240:340,239:468,290:le,305:he}),t(Nt,[2,138],{240:340,239:469,290:le,305:he}),t(Pt,[2,140]),t(ce,[2,334],{167:470}),t(ce,[2,333]),t([6,13,16,28,29,31,32,39,41,71,74,76,79,80,81,83,109,157,158,160,163,164,165,194,212,215,216,220,224,228,243,245,246,247,248,249,251,252,254,255,258,260,265,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,290,301,305,308,309,310,311,312,313,314,315,316,317,318,319],[2,150]),{32:[1,471]},{248:[1,472]},{248:[1,473]},t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:474,205:gt,243:vt,308:yt}),{32:[1,475]},{32:[1,476]},t(fe,[2,160]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,257:477,30:479,205:gt,243:vt,290:[1,478],308:yt}),t(Ne,[2,415]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:480,205:gt,243:vt,308:yt}),t(ce,[2,419]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:481,205:gt,243:vt,308:yt}),t(ce,[2,421]),t(L,[2,36]),t(be,[2,255]),t(He,[2,256],{92:482}),t(T,R,{142:126,138:483,141:484,41:[2,302]}),t(j,[2,53]),t(xe,[2,30],{81:[1,485]}),t(xe,[2,31],{79:[1,486]}),t(te,[2,25],{244:254,250:259,253:262,75:297,65:298,66:299,53:300,77:442,73:487,13:c,16:l,28:Pe,29:Ot,74:Ie,76:Oe,245:Mt,246:Rt,247:qt,249:jt,251:Bt,252:Ht,254:zt,255:$t,258:Gt,260:Ut,283:d,314:Vt,315:Xt,316:Wt,317:Yt,318:Qt,319:Zt}),t(ze,[2,248]),{29:Ot,75:488},{29:Ot,75:489},t(ze,[2,28]),t(ze,[2,29]),t(ke,[2,21]),{28:[1,490]},{41:[2,7]},{41:[2,205]},t(T,wt,{153:212,151:491,152:492,39:$e,41:$e,83:$e,109:$e,157:$e,158:$e,160:$e,163:$e,164:$e}),t(Me,[2,317]),t(qe,[2,68],{302:[1,493]}),t(qe,[2,69]),t(qe,[2,70]),{39:$,55:494},{39:[2,326]},{39:[2,327]},{13:c,16:l,28:[1,496],53:497,162:495,283:d},t(Re,[2,329]),t(qe,[2,73]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:498,205:gt,243:vt,308:yt}),{13:c,16:l,28:G,29:re,53:149,80:V,89:150,165:X,174:399,187:400,191:499,212:oe,215:Y,216:Q,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},t(ae,[2,99],{304:[1,500]}),t(Ge,[2,371],{200:501,204:502,210:[1,503]}),t(At,[2,116]),t(ae,[2,380]),t(At,[2,117]),t(Be,[2,347]),t(Ue,[2,93],{248:[1,504]}),t(Pt,[2,398]),t(Pt,[2,400]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:505,205:gt,243:vt,308:yt}),t(fe,[2,153]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:506,205:gt,243:vt,308:yt}),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:507,205:gt,243:vt,308:yt}),{32:[1,508],248:[1,509]},t(fe,[2,157]),t(fe,[2,159]),{32:[1,510]},{32:[2,416]},{32:[2,417]},{32:[1,511]},{32:[2,422],194:[1,514],262:512,263:513},{13:c,16:l,32:[1,515],53:276,80:V,88:516,89:277,90:Kt,233:160,235:161,266:156,269:Z,270:K,271:J,272:tt,273:et,274:nt,275:it,276:rt,277:ot,278:st,279:at,280:ut,281:ct,282:lt,283:d},{41:[1,517]},{41:[2,303]},{80:[1,518]},{80:[1,519]},t(ze,[2,249]),t(ze,[2,26]),t(ze,[2,27]),{32:[1,520]},t(ie,[2,66]),t(ie,[2,319]),{39:[2,325]},t(qe,[2,71]),{39:$,55:521},{39:[2,330]},{39:[2,331]},{31:[1,522]},t(Ue,[2,358],{192:523,248:[1,524]}),t(Ce,[2,363]),t([13,16,28,29,32,80,165,212,215,216,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,304],[2,100],{305:[1,525]}),{13:c,16:l,29:[1,531],53:528,183:[1,529],201:526,202:527,205:[1,530],283:d},t(Ge,[2,372]),t(T,[2,351]),{32:[1,532],248:[1,533]},{32:[1,534]},{248:[1,535]},t(fe,[2,82]),t(ce,[2,337]),t(fe,[2,161]),t(fe,[2,162]),{32:[1,536]},{32:[2,423]},{264:[1,537]},t(be,[2,40]),t(He,[2,257]),t(Ve,[2,304],{139:538,301:[1,539]}),t(xe,[2,32]),t(xe,[2,33]),t(ke,[2,22]),t(qe,[2,72]),{28:[1,540]},t([39,41,83,109,157,158,160,163,164,213,301],[2,96],{193:541,194:[1,542]}),t(T,[2,357]),t(Ce,[2,365]),t(Xe,[2,102]),t(Xe,[2,369],{203:543,306:544,290:[1,546],307:[1,545],308:[1,547]}),t(We,[2,103]),t(We,[2,104]),{13:c,16:l,29:[1,551],53:552,165:[1,550],183:Ye,206:548,207:549,210:Qe,283:d},t(Ce,Ae,{197:394,196:555}),t(fe,[2,80]),t(ce,[2,335]),t(fe,[2,154]),t(pt,ft,{217:180,221:181,225:182,229:183,237:184,241:185,30:556,205:gt,243:vt,308:yt}),t(fe,[2,163]),{265:[1,557]},t(T,R,{142:126,140:558,141:559,41:Ze,109:Ze}),t(Ve,[2,305]),{32:[1,560]},t(Ue,[2,359]),t(Ue,[2,97],{197:394,195:561,196:562,13:Ae,16:Ae,29:Ae,183:Ae,205:Ae,210:Ae,283:Ae,28:[1,563]}),t(Xe,[2,101]),t(Xe,[2,370]),t(Xe,[2,366]),t(Xe,[2,367]),t(Xe,[2,368]),t(We,[2,105]),t(We,[2,107]),t(We,[2,108]),t(Ke,[2,373],{208:564}),t(We,[2,110]),t(We,[2,111]),{13:c,16:l,53:565,183:[1,566],283:d},{32:[1,567]},{32:[1,568]},{266:569,273:et,274:nt,275:it,276:rt},t(_t,[2,61]),t(_t,[2,307]),t(qe,[2,74]),t(T,De,{184:406,182:570}),t(T,[2,360]),t(T,[2,361]),{13:c,16:l,32:[2,375],53:552,183:Ye,207:572,209:571,210:Qe,283:d},t(We,[2,112]),t(We,[2,113]),t(We,[2,106]),t(fe,[2,155]),{32:[2,164]},t(Ue,[2,98]),{32:[1,573]},{32:[2,376],304:[1,574]},t(We,[2,109]),t(Ke,[2,374])],defaultActions:{5:[2,190],6:[2,191],8:[2,189],24:[2,1],25:[2,3],26:[2,201],68:[2,41],77:[2,276],91:[2,235],96:[2,339],216:[2,219],217:[2,84],243:[2,392],271:[2,413],363:[2,300],364:[2,301],446:[2,7],447:[2,205],454:[2,326],455:[2,327],478:[2,416],479:[2,417],484:[2,303],493:[2,325],496:[2,330],497:[2,331],513:[2,423],569:[2,164]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,u=0,c=0,l=r.slice.call(arguments,1),h=Object.create(this.lexer),d={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(d.yy[p]=this.yy[p]);h.setInput(t,d.yy),d.yy.lexer=h,d.yy.parser=this,void 0===h.yylloc&&(h.yylloc={});var f=h.yylloc;r.push(f);var g=h.options&&h.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,y,m,b,_,x,w,E,k,T=function(){var t;return"number"!=typeof(t=h.lex()||1)&&(t=e.symbols_[t]||t),t},C={};;){if(m=n[n.length-1],this.defaultActions[m]?b=this.defaultActions[m]:(null==v&&(v=T()),b=o[m]&&o[m][v]),void 0===b||!b.length||!b[0]){var A="";for(x in k=[],o[m])this.terminals_[x]&&x>2&&k.push("'"+this.terminals_[x]+"'");A=h.showPosition?"Parse error on line "+(a+1)+":\n"+h.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(A,{text:h.match,token:this.terminals_[v]||v,line:h.yylineno,loc:f,expected:k})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+v);switch(b[0]){case 1:n.push(v),i.push(h.yytext),r.push(h.yylloc),n.push(b[1]),v=null,y?(v=y,y=null):(u=h.yyleng,s=h.yytext,a=h.yylineno,f=h.yylloc,c>0&&c--);break;case 2:if(w=this.productions_[b[1]][1],C.$=i[i.length-w],C._$={first_line:r[r.length-(w||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(w||1)].first_column,last_column:r[r.length-1].last_column},g&&(C._$.range=[r[r.length-(w||1)].range[0],r[r.length-1].range[1]]),void 0!==(_=this.performAction.apply(C,[s,u,a,d.yy,b[1],i,r].concat(l))))return _;w&&(n=n.slice(0,-1*w*2),i=i.slice(0,-1*w),r=r.slice(0,-1*w)),n.push(this.productions_[b[1]][0]),i.push(C.$),r.push(C._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}},tn="http://www.w3.org/1999/02/22-rdf-syntax-ns#",en=tn+"type",nn=tn+"first",rn=tn+"rest",on=tn+"nil",sn="http://www.w3.org/2001/XMLSchema#",an=sn+"integer",un=sn+"decimal",cn=sn+"double",ln=sn+"boolean",hn='"true"^^'+ln,dn='"false"^^'+ln,pn="",fn="",gn="";function vn(t){return t.toLowerCase()}function yn(t,e){return t.push(e),t}function mn(t,e){return t.push.apply(t,e),t}function bn(t){t||(t={});for(var e,n=1,i=arguments.length;n<i&&(e=arguments[n]||{});n++)for(var r in e)t[r]=e[r];return t}function _n(){for(var t=[],e=0,n=arguments.length;e<n;e++)t=t.concat.apply(t,arguments[e]);return t}function xn(t){if("<"===t[0]&&(t=t.substring(1,t.length-1)),/^[a-z]+:/.test(t))return t;if(!Bn.base)throw new Error("Cannot resolve relative IRI "+t+" because no base IRI was set.");switch(pn||(pn=Bn.base,fn=pn.replace(/[^\/:]*$/,""),gn=pn.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),t[0]){case void 0:return pn;case"#":return pn+t;case"?":return pn.replace(/(?:\?.*)?$/,t);case"/":return gn+t;default:return fn+t}}function wn(t){if(t){var e=t[0];if("?"===e)return t;if("$"===e)return"?"+t.substr(1)}return t}function En(t,e){return{type:"operation",operator:t,args:e||[]}}function kn(t,e){var n={expression:t};if(e)for(var i in e)n[i]=e[i];return n}function Tn(t,e){return{type:"path",pathType:t,items:e}}function Cn(t,e){for(var n,i=0,r=e.length;i<r&&(n=e[i]);i++)t=En(n[0],[t,n[1]]);return t}function An(t){for(var e,n=[],i=[],r=t.length,o=0;o<r&&(e=t[o]);o++)(e.named?i:n).push(e.iri);return r?{from:{default:n,named:i}}:null}function Sn(t){return parseInt(t,10)}function Fn(t){return"group"===t.type&&1===t.patterns.length?t.patterns[0]:t}function Dn(t,e){return'"'+t+'"^^'+e}function Ln(t,e,n){var i={};return null!=t&&(i.subject=t),null!=e&&(i.predicate=e),null!=n&&(i.object=n),i}function Nn(){return"_:b"+Pn++}var Pn=0;Bn._resetBlanks=function(){Pn=0};var In=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,On={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Mn=String.fromCharCode;function Rn(t,e){t=t.substring(e,t.length-e);try{t=t.replace(In,function(t,e,n,i){var r;if(e){if(r=parseInt(e,16),isNaN(r))throw new Error;return Mn(r)}if(n){if(r=parseInt(n,16),isNaN(r))throw new Error;return r<65535?Mn(r):Mn(55296+((r-=65536)>>10),56320+(1023&r))}var o=On[i];if(!o)throw new Error;return o})}catch(t){return""}return'"'+t+'"'}function qn(t,e,n){var i=[],r=[];return e.forEach(function(e){i.push(Ln(null,t,e.entity)),mn(r,e.triples)}),_n(i,n||[],r)}var jn={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(t,e,n,i){switch(n){case 0:break;case 1:return 12;case 2:return 15;case 3:return 24;case 4:return 287;case 5:return 288;case 6:return 29;case 7:return 31;case 8:return 32;case 9:return 290;case 10:return 34;case 11:return 38;case 12:return 39;case 13:return 41;case 14:return 43;case 15:return 48;case 16:return 51;case 17:return 293;case 18:return 61;case 19:return 62;case 20:return 68;case 21:return 71;case 22:return 74;case 23:return 76;case 24:return 79;case 25:return 81;case 26:return 83;case 27:return 194;case 28:return 97;case 29:return 294;case 30:return 130;case 31:return 295;case 32:return 296;case 33:return 107;case 34:return 297;case 35:return 106;case 36:return 298;case 37:return 299;case 38:return 110;case 39:return 112;case 40:return 113;case 41:return 128;case 42:return 122;case 43:return 123;case 44:return 125;case 45:return 131;case 46:return 109;case 47:return 300;case 48:return 301;case 49:return 157;case 50:return 160;case 51:return 164;case 52:return 90;case 53:return 158;case 54:return 302;case 55:return 163;case 56:return 248;case 57:return 183;case 58:return 304;case 59:return 305;case 60:return 210;case 61:return 307;case 62:return 308;case 63:return 205;case 64:return 212;case 65:return 213;case 66:return 220;case 67:return 224;case 68:return 265;case 69:return 309;case 70:return 310;case 71:return 311;case 72:return 312;case 73:return 313;case 74:return 228;case 75:return 314;case 76:return 243;case 77:return 251;case 78:return 252;case 79:return 245;case 80:return 246;case 81:return 247;case 82:return 315;case 83:return 316;case 84:return 249;case 85:return 318;case 86:return 317;case 87:return 319;case 88:return 254;case 89:return 255;case 90:return 258;case 91:return 260;case 92:return 264;case 93:return 268;case 94:return 271;case 95:return 272;case 96:return 13;case 97:return 16;case 98:return 283;case 99:return 215;case 100:return 28;case 101:return 267;case 102:return 80;case 103:return 269;case 104:return 270;case 105:return 277;case 106:return 278;case 107:return 279;case 108:return 280;case 109:return 281;case 110:return 282;case 111:return"EXPONENT";case 112:return 273;case 113:return 274;case 114:return 275;case 115:return 276;case 116:return 165;case 117:return 216;case 118:return 6;case 119:return"INVALID";case 120:console.log(e.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT\s+DATA)/i,/^(?:DELETE\s+DATA)/i,/^(?:DELETE\s+WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(<([^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?))/i,/^(?:([\?\$]((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(([^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*'))/i,/^(?:("(([^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*"))/i,/^(?:('''(('|'')?([^'\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*'''))/i,/^(?:("""(("|"")?([^\"\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],inclusive:!0}}};function Bn(){this.yy={}}return Je.lexer=jn,Bn.prototype=Je,Je.Parser=Bn,new Bn}();void 0!==t&&void 0!==n&&(n.parser=r,n.Parser=r.Parser,n.parse=function(){return r.parse.apply(r,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),i.exit(1));var r=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(r)},void 0!==e&&t.main===e&&n.main(i.argv.slice(1)))}).call(this,t("_process"))},{_process:3,fs:3,path:3}],3:[function(t,e,n){},{}],4:[function(t,e,n){var i=t("./lib/SparqlParser").Parser,r=t("./lib/SparqlGenerator");e.exports={Parser:function(t,e){var n={};for(var r in t||{})n[r]=t[r];var o=new i;return o.parse=function(){return i.base=e||"",i.prefixes=Object.create(n),i.prototype.parse.apply(o,arguments)},o._resetBlanks=i._resetBlanks,o},Generator:r}},{"./lib/SparqlGenerator":1,"./lib/SparqlParser":2}]},{},[4])(4)}),window.PainlessContextMenu=class{constructor(t,e){this.init=this.init.bind(this),this.rename_var=this.rename_var.bind(this),this.context=e,this.cy=t,this.init()}init(){var t,e,n,i,r,o;return o={selector:".node-variable-full-options",commands:[{content:"delete node",select:t=>{var e,n,i,r,o,s,a;for(a=[],e=0,i=(s=t.data("links")).length;e<i;e++)null!=(o=s[e])&&a.push(o);for(n=0,r=a.length;n<r;n++)(o=a[n]).delete();return this.cy.remove(t)}},{content:"center view",select:t=>this.context.center_view(t)},{content:"add node to select statement",select:t=>this.context.add_to_select(t.id())},{content:"rename node",select:t=>this.rename_var(t)},{content:"filter",select:t=>this.context.sparql_text.add_filter(t)}]},r={selector:".node-role",commands:[{content:"reverse",select:function(t){return t.data("links")[0].reverse()}},{content:"delete",select:function(t){return t.data("links")[0].delete()}}]},i={selector:".node-attribute",commands:[{content:"delete",select:t=>t.data("links")[0].delete()}]},t={selector:".attr-range",commands:[{content:"delete",select:t=>t.data("links")[0].delete()},{content:"transform into constant [object]",select:t=>(t.data("color",tinycolor(t.data("color")).desaturate(50).toString()),t.data("label","const[o]"),t.classes("node-constant-object"))},{content:"transform into constant [value]",select:t=>(t.data("color",tinycolor(t.data("color")).desaturate(50).toString()),t.data("label","const[v]"),t.classes("node-constant-value"))},{content:"filter",select:t=>this.context.sparql_text.add_filter(t)}]},e={selector:".node-concept",commands:[{content:"delete",select:t=>t.data("links")[0].delete()}]},n={selector:".node-constant-value",commands:[{content:"define value",select:t=>this.rename_const(t)},{content:"delete",select:t=>t.data("links")[0].delete()}]},{selector:".node-constant-object",commands:[{content:"define value",select:t=>this.rename_const(t)},{content:"delete",select:t=>t.data("links")[0].delete()}]},this.cy.cxtmenu(o),this.cy.cxtmenu(r),this.cy.cxtmenu(i),this.cy.cxtmenu(e),this.cy.cxtmenu(n),this.cy.cxtmenu(t)}rename_const(t){var e,n,i,r,o;return o=t.data("label"),t.data("label",""),e=document.createElement(n),(n=document.createElement("div")).innerHTML=t.data("label").slice(1),n.style.display="inline-block",r=(s=>{if(s.target!==n)return""===n.innerHTML&&(n.innerHTML=o),t.data("label",n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),i=(s=>{if("Enter"===s.key)return""===n.innerHTML&&(n.innerHTML=o),t.data("label",n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),document.addEventListener("click",r),document.addEventListener("keypress",i),n.setAttribute("contenteditable",!0),e.appendChild(n),e.style.position="absolute",e.id="rename_div",e.style.top=document.getElementById("query_canvas").getBoundingClientRect().y+t.renderedPosition("y")-t.renderedWidth()/4+"px",e.style.left=document.getElementById("query_canvas").getBoundingClientRect().x+t.renderedPosition("x")-t.renderedWidth()/4+"px",e.style.backgroundColor=t.data("color"),e.style.fontSize="xx-large",e.style.color="#fdf6e3",e.style.borderRadius="100px",e.style.fontFamily="Courier New",e.style.padding="2px",e.style.textAlign="center",document.body.appendChild(e),n.focus()}rename_var(t){var e,n,i,r,o,s;return o=t.data("label").slice(1),t.data("label",""),e=document.createElement(n),(s=document.createElement("div")).innerHTML="?",s.style.display="inline-block",e.appendChild(s),(n=document.createElement("div")).innerHTML=t.data("label").slice(1),n.style.display="inline-block",r=(s=>{if(s.target!==n)return""===n.innerHTML&&(n.innerHTML=o),t.data("label","?"+n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),i=(s=>{if("Enter"===s.key)return""===n.innerHTML&&(n.innerHTML=o),t.data("label","?"+n.innerHTML),e.parentNode.removeChild(e),document.removeEventListener("click",r),document.removeEventListener("keypress",i)}),document.addEventListener("click",r),document.addEventListener("keypress",i),n.setAttribute("contenteditable",!0),e.appendChild(n),e.style.position="absolute",e.id="rename_div",e.style.top=document.getElementById("query_canvas").getBoundingClientRect().y-this.context.graphol.container.getBoundingClientRect().y+t.renderedPosition("y")-t.renderedWidth()/4+"px",e.style.left=document.getElementById("query_canvas").getBoundingClientRect().x-this.context.graphol.container.getBoundingClientRect().x+t.renderedPosition("x")-t.renderedWidth()/4+"px",e.style.backgroundColor=t.data("color"),e.style.fontSize="xx-large",e.style.color="#fdf6e3",e.style.borderRadius="100px",e.style.fontFamily="Courier New",e.style.padding="2px",e.style.textAlign="center",this.context.graphol.container.appendChild(e),n.focus()}},window.SparqlingGraph=function(){var t;return t=null,class{constructor(t){this.reshape=this.reshape.bind(this),this.download=this.download.bind(this),this.clear_all=this.clear_all.bind(this),this.center_view=this.center_view.bind(this),this.add_to_select=this.add_to_select.bind(this),this.reverse_relationship=this.reverse_relationship.bind(this),this.add_link=this.add_link.bind(this),this.check_collisions=this.check_collisions.bind(this),this.init=this.init.bind(this),this.utils=new window.PainlessUtils,this.context=t,this.graphol=t.graphol,this.links=[],this.layout_names=["cola","cose-bilkent","circle","cose","grid","breadthfirst","concentric"],this.layout_index=0,this.init(),this.reshape(),this.sparql_text=new SparqlText(this.cy,this.links),this.sparql_text.update(),new window.PainlessContextMenu(this.cy,this),this.color_index=0}reshape(){return this.layout=this.layout_names[this.layout_index%this.layout_names.length],this.cy.layout({name:this.layout,fit:!1,animate:!0,nodeDimensionsIncludeLabels:!0,edgeLength:200}).run()}download(){var t,e,n,i;return e=JSON.stringify(this.cy.json()),n=new Blob([e],{type:"text/plain"}),window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n,"sparql.json"):(t=document.createElement("a"),i=URL.createObjectURL(n),t.href=i,t.download="sparql.json",document.body.appendChild(t),t.click(),setTimeout(function(){return document.body.removeChild(t),window.URL.revokeObjectURL(i)},0))}clear_all(){var t,e,n,i;for(t=0,e=(i=this.links).length;t<e;t++){n=i[t];try{n.delete()}catch(t){console.log(n)}}return this.cy.remove(this.cy.nodes()),this.cy.remove(this.cy.edges()),this.links=[],this.sparql_text.filters=[],this.sparql_text.update()}center_view(t=null){return null===t?this.cy.nodes(":selected").length>0?this.cy.center(this.cy.nodes(":selected")):this.cy.fit():this.cy.center(t)}add_to_select(t){return this.sparql_text.add_to_select(t)}copy_to_clipboard(){return this.sparql_text.copy_to_clipboard()}save_state(){if(null===t&&(t=[]),this.cy.json()!==t[t.length-1]&&t.push(this.cy.json()),t.length>=state_buffer_max_length)return t.shift()}undo(){return null===t||t.length<1?this.context.alert("no saved states"):(this.cy.json(t[t.length-1]),this.cy.style(this.utils.generate_style()),t.pop(),this.reshape())}reverse_relationship(){var t;return null===(t=this.cy.nodes(":selected"))?console.warn("please select a node in the sparql graph"):t.hasClass("node-variable")?console.warn("please select a role and not a variable"):"attribute"===t.data("links").link_type?console.warn("attributes cannot be reversed"):t.hasClass("node-role")||t.hasClass("node-domain")||t.hasClass("node-range")?this.cy.nodes(":selected").data("links").reverse():console.warn("this action cannot be performed on the selected node")}merge(t,e){var n,i,r;for(this.save_state(),n=0,i=(r=e.data("links")).length;n<i;n++)r[n].switch_node(e,t);return this.cy.remove(e),this.sparql_text.update(),this.reshape()}add_link(t,e,n){var i,r,o,s,a;for(i=0,r=(a=this.context.graphol_cy.nodes()).length;i<r;i++)(s=a[i]).data("label")===t&&(s.style("border-color","#e38400"),s.style("border-width","5px"));return this.save_state(),"concept"===e?this.cy.nodes(":selected").length>0&&this.cy.nodes(":selected").hasClass("node-variable")?o=new PainlessLink(this,this.cy,t,e,this.cy.nodes(":selected")):(o=new PainlessLink(this,this.cy,t,e),this.sparql_text.add_to_select(o.node_var1.id())):this.cy.nodes(":selected").length>0&&this.cy.nodes(":selected").hasClass("node-variable")?(o=new PainlessLink(this,this.cy,t,e,this.cy.nodes(":selected"),null,n),this.sparql_text.add_to_select(o.node_var2.id())):(o=new PainlessLink(this,this.cy,t,e,null,null,n),this.sparql_text.add_to_select(o.node_var1.id()),this.sparql_text.add_to_select(o.node_var2.id())),this.links.push(o),this.sparql_text.update(),this.reshape()}compute_distance(t,e){var n,i;return n=Math.abs(t.position("x")-e.position("x")),i=Math.abs(t.position("y")-e.position("y")),Math.sqrt(n*n+i*i)}check_collisions(){var t,e,n,i,r,o,s,a;for(t=0,n=(s=this.cy.nodes(".node-variable")).length;t<n;t++)for(r=s[t],e=0,i=(a=this.cy.nodes(".node-variable")).length;e<i;e++)if(r!==(o=a[e])){if(this.compute_distance(r,o)<100)return r.addClass("highlight"),o.addClass("highlight"),[r,o];r.removeClass("highlight")}}init(){return this.cy=new cytoscape({container:document.getElementById("query_canvas"),style:this.utils.generate_style(),wheelSensitivity:.5}),this.cy.on("click",".node-variable",t=>(t.target.select(),this.reshape())),this.cy.on("mouseup",t=>{var e;return void 0!==this.check_collisions()&&(e=this.check_collisions(),this.merge(e[0],e[1])),this.reshape()}),this.cy.resize()}}}.call(this),window.PainlessLink=class{constructor(t,e,n,i,r=null,o=null,s){this.create_edge=this.create_edge.bind(this),this.reverse=this.reverse.bind(this),this.add_datatype=this.add_datatype.bind(this),this.create_node=this.create_node.bind(this),this.delete=this.delete.bind(this),this.switch_node=this.switch_node.bind(this),this.create_link=this.create_link.bind(this),this.create_concept=this.create_concept.bind(this),this.to_string=this.to_string.bind(this),this.cy=e,this.context=t,this.link_name=n,this.link_type=i,this.node_var1=r,this.node_var2=o,this.edge_source=null,this.edge_target=null,this.datatype=s,this.datatype_node=null,void 0!==this.link_name&&null!==this.link_name&&(this.link_name=this.link_name.replace("\n","").replace("\r","").replace(" ","")),"concept"===i?this.create_concept():this.create_link()}find_new_name(t=null){var e;for(null===t&&(t="x"),e=0;0!==this.cy.getElementById(t+e).length;)e+=1;return t+e}create_edge(t,e,n=null){return this.cy.add({group:"edges",data:{source:t.id(),target:e.id()},classes:n})}reverse(){return this.source===this.node_var1?(this.edge_source.classes("target-edge"),this.edge_target.classes("source-edge"),this.source=this.node_var2,this.target=this.node_var1):(this.edge_source.classes("source-edge"),this.edge_target.classes("target-edge"),this.source=this.node_var1,this.target=this.node_var2)}add_datatype(t,e){return this.datatype_node=this.cy.add({group:"nodes",data:{label:e},classes:"node-datatype"}),this.edge_datatype=this.cy.add({group:"edges",data:{source:t.id(),target:this.datatype_node.id(),weight:99},classes:"edge-datatype"})}create_node(t,e=null){var n;return n={},"node-variable"===t&&(e=this.find_new_name(e),n.id=e,n.color="#"+palette[this.context.color_index%palette.length],this.context.color_index+=1),n.label="node-concept"===t?this.link_name:"node-attribute"===t||"node-role"===t?e:"?"+e,n.links=[this],this.cy.add({group:"nodes",data:n,classes:t})}delete(){var t,e,n,i,r,o,s,a,u,c,l,h;for(e=this.context.links.indexOf(this),this.context.links.splice(e,1),this.context.sparql_text.update(),n=0,o=(c=this.context.context.graphol_cy.nodes()).length;n<o;n++)a=c[n],console.log(a.data("label")),console.log("link name: "+this.link_name),console.log(a.data("label")===this.link_name),a.data("label")===this.link_name&&(a.style("border-color","black"),a.style("border-width","1px"));for(null!==this.node_link&&void 0!==this.node_link&&this.cy.remove(this.node_link),null!==this.node_concept&&void 0!==this.node_concept&&this.cy.remove(this.node_concept),null!==this.datatype_node&&void 0!==this.datatype_node&&this.cy.remove(this.datatype_node),i=0,s=(l=[this.node_var1,this.node_var2]).length;i<s;i++)if(null!=(u=l[i])&&(e=u.data("links").indexOf(this),u.data("links").splice(e,1),0===u.data("links").length)){for(t=r=0,h=this.context.sparql_text.select_boxes.length;0<=h?r<h:r>h;t=0<=h?++r:--r)this.context.sparql_text.select_boxes[t]===u.id()&&this.context.sparql_text.select_boxes.splice(t,1);this.cy.remove(u)}return this.context.sparql_text.update()}switch_node(t,e){return t.id()===this.node_var1.id()?this.node_var1=e:t.id()===this.node_var2.id()&&(this.node_var2=e),"concept"===this.link_type?this.create_edge(this.node_var1,this.node_concept,"edge-concept"):t.id()===this.source.id()?(this.source=e,this.create_edge(this.node_link,this.source,"source-edge")):t.id()===this.target.id()&&(this.target=e,this.edge_target=this.create_edge(this.node_link,this.target,"target-edge")),e.data("links").push(this)}create_link(){if(null===this.node_var1||void 0===this.node_var1)this.node_var1=this.create_node("node-variable"),this.node_var1.classes("node-variable node-variable-full-options");else{if(this.node_var1.hasClass("attr-range"))return void console.warn("properties can't be added to the range of an attribute");this.node_var1.data("links").push(this)}return null===this.node_var2||void 0===this.node_var2?"attribute"===this.link_type?(this.node_var2=this.create_node("node-variable",this.link_name),this.node_var2.classes("node-variable attr-range"),null!==this.datatype&&void 0!==this.datatype&&this.add_datatype(this.node_var2,this.datatype)):(this.node_var2=this.create_node("node-variable"),this.node_var2.classes("node-variable node-variable-full-options")):this.node_var2.data("links").push(this),this.source=this.node_var1,this.target=this.node_var2,"role"===this.link_type?this.node_link=this.create_node("node-role",this.link_name):this.node_link=this.create_node("node-attribute",this.link_name),this.edge_source=this.create_edge(this.node_link,this.source,"source-edge"),this.edge_target=this.create_edge(this.node_link,this.target,"target-edge")}create_concept(){return null===this.node_var1||void 0===this.node_var1?(this.node_var1=this.create_node("node-variable"),this.node_var1.classes("node-variable node-variable-full-options")):this.node_var1.data("links").push(this),this.node_concept=this.create_node("node-concept"),this.create_edge(this.node_var1,this.node_concept,"edge-concept")}to_string(){return"concept"!==this.link_type?this.source.data("label")+" "+this.link_name+" "+this.target.data("label")+" .":this.node_var1.data("label")+" rdf:type "+this.node_concept.data("label")+" ."}},window.SparqlingMenu=class{constructor(t){this.change_size=this.change_size.bind(this),this.create_navigation_div=this.create_navigation_div.bind(this),this.init=this.init.bind(this),this.context=t,this.init(),this.change_size(50)}change_size(t){var e,n;return n=t*(e=document.getElementById("cy").clientHeight)/100,this.context.sidenav.query_canvas.style.height=n+"px",sparql_textbox.style.height=Math.max(e-100-n,0)+"px",setTimeout(()=>this.context.graph.cy.resize(),550)}create_div(t=null,e=null,n=null,i=null,r=null){var o,s;return(o=document.createElement("div")).innerHTML=t,o.className=e+" grapholscape-tooltip",o.id=n,o.onclick=i,null!==r&&((s=document.createElement("span")).innerHTML=r,s.className="tooltiptext",s.style.display="none",o.append(s),o.onmouseover=(()=>s.style.display="block"),o.onmouseout=(()=>s.style.display="none")),o}create_navigation_div(){var t;return(t=this.create_div(null,null,"nav_div")).append(this.create_div("â²","sparqling_resize_button",null,()=>this.change_size(90),"expand graph")),t.append(this.create_div("â¡","sparqling_resize_button",null,()=>this.change_size(50),"center")),t.append(this.create_div("â¼","sparqling_resize_button",null,()=>this.change_size(10),"expand sparql")),t}set_invisible(){var t,e,n,i,r,o,s,a;for(e=0,i=(o=document.getElementsByClassName("sparqling_menu_button")).length;e<i;e++)(t=o[e]).style.display="none";for(a=[],n=0,r=(s=document.getElementsByClassName("sparqling_resize_button")).length;n<r;n++)t=s[n],a.push(t.style.display="none");return a}set_visible(){var t,e,n,i,r,o,s,a;for(e=0,i=(o=document.getElementsByClassName("sparqling_menu_button")).length;e<i;e++)(t=o[e]).style.display="inline-block";for(a=[],n=0,r=(s=document.getElementsByClassName("sparqling_resize_button")).length;n<r;n++)t=s[n],a.push(t.style.display="inline-block");return a}init(){var t;return t=this.create_div(null,null,"painless_menu"),document.getElementById("sidenav").append(t),t.append(this.create_navigation_div()),"PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX : <http://www.aci.it/ontology#> PREFIX xml: <http://www.w3.org/XML/1998/namespace> PREFIX aci: <http://www.aci.it/ontology#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> Select ?idVeicolo ?inizioStato ?fineStato ?idFormalitaGeneratrice ?idFormalitaOriginaria ?codiceFormalitaOriginaria ?dataAccettazioneFormalitaOriginaria ?ufficioCompetenteFormalitaOriginaria ?serieTarga ?numeroTarga ?serieTargaPrecedente ?numeroTargaPrecedente ?telaio ?kw ?cilindrata ?peso ?portata ?tara ?classe ?uso ?carrozzeria ?specialita ?alimentazione ?alimentazioneDTT ?dataImmatricolazione ?codiceUltimaFormalitaDiParte ?dataUltimaFormalitaDiParte where { ?veicolo aci:ID_veicolo ?idVeicolo. ?veicolo aci:ha_stato_di_veicolo ?stato. ?stato a aci:Stato_rappresentato_valido. ?stato aci:ha_targa ?targa. ?targa aci:numero_targa ?numeroTarga. ?targa aci:serie_targa ?serieTarga. ?stato aci:ha_formalita_originaria ?formalitaOriginaria. ?formalitaOriginaria aci:ID_formalita ?idFormalitaOriginaria. ?formalitaOriginaria aci:codice_tipo ?codiceFormalitaOriginaria. ?evento aci:determina_stato ?stato. ?formalitaGeneratrice aci:formalita_genera_evento ?evento. ?formalitaGeneratrice aci:ID_formalita ?idFormalitaGeneratrice. ?stato aci:inizio_stato_del_mondo ?inizioStato. ?stato aci:fine_stato_del_mondo ?fineStato. ?formalitaOriginaria aci:data_accettazione_formalita ?dataAccettazioneFormalitaOriginaria. ?formalitaOriginaria aci:est_di_competenza_di_ufficio ?ufficio. ?ufficio aci:descrizione_ufficio ?ufficioCompetenteFormalitaOriginaria. ?stato aci:codice_tipo_ultima_formalita_di_parte ?codiceUltimaFormalitaDiParte. ?stato aci:data_accettazione_ultima_formalita_di_parte ?dataUltimaFormalitaDiParte. ?stato aci:ha_targa_precedente ?targaPrecedente. ?targaPrecedente aci:numero_targa ?numeroTargaPrecedente. ?targaPrecedente  aci:serie_targa ?serieTargaPrecedente. ?stato aci:numero_telaio ?telaio. ?stato aci:kw ?kw. ?stato aci:cilindrata ?cilindrata. ?stato aci:peso_complessivo ?peso. ?stato aci:portata ?portata. ?stato aci:tara ?tara. ?stato aci:classe_veicolo ?classe. ?stato aci:destinazione_di_uso ?uso. ?stato aci:carrozzeria ?carrozzeria. ?stato aci:descrizione_specialita ?specialita. ?stato aci:data_immatricolazione ?dataImmatricolazione. ?stato aci:alimentazione ?alimentazione. ?stato aci:alimentazione_DTT ?alimentazioneDTT. }",t.append(this.create_div('<i class="material-icons" style="font-size: 18px">undo</i>',"sparqling_menu_button",null,()=>this.context.graph.undo(),"undo")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">filter_center_focus</i>',"sparqling_menu_button",null,()=>this.context.graph.center_view(),"center view")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">file_copy</i>',"sparqling_menu_button",null,()=>this.context.graph.copy_to_clipboard(),"copy to clipboard")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">open_in_browser</i>',"sparqling_menu_button",null,()=>this.context.loader.load("PREFIX owl: <http://www.w3.org/2002/07/owl#> PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> PREFIX : <http://www.aci.it/ontology#> PREFIX xml: <http://www.w3.org/XML/1998/namespace> PREFIX aci: <http://www.aci.it/ontology#> PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> Select ?idVeicolo ?inizioStato ?fineStato ?idFormalitaGeneratrice ?idFormalitaOriginaria ?codiceFormalitaOriginaria ?dataAccettazioneFormalitaOriginaria ?ufficioCompetenteFormalitaOriginaria ?serieTarga ?numeroTarga ?serieTargaPrecedente ?numeroTargaPrecedente ?telaio ?kw ?cilindrata ?peso ?portata ?tara ?classe ?uso ?carrozzeria ?specialita ?alimentazione ?alimentazioneDTT ?dataImmatricolazione ?codiceUltimaFormalitaDiParte ?dataUltimaFormalitaDiParte where { ?veicolo aci:ID_veicolo ?idVeicolo. ?veicolo aci:ha_stato_di_veicolo ?stato. ?stato a aci:Stato_rappresentato_valido. ?stato aci:ha_targa ?targa. ?targa aci:numero_targa ?numeroTarga. ?targa aci:serie_targa ?serieTarga. ?stato aci:ha_formalita_originaria ?formalitaOriginaria. ?formalitaOriginaria aci:ID_formalita ?idFormalitaOriginaria. ?formalitaOriginaria aci:codice_tipo ?codiceFormalitaOriginaria. ?evento aci:determina_stato ?stato. ?formalitaGeneratrice aci:formalita_genera_evento ?evento. ?formalitaGeneratrice aci:ID_formalita ?idFormalitaGeneratrice. ?stato aci:inizio_stato_del_mondo ?inizioStato. ?stato aci:fine_stato_del_mondo ?fineStato. ?formalitaOriginaria aci:data_accettazione_formalita ?dataAccettazioneFormalitaOriginaria. ?formalitaOriginaria aci:est_di_competenza_di_ufficio ?ufficio. ?ufficio aci:descrizione_ufficio ?ufficioCompetenteFormalitaOriginaria. ?stato aci:codice_tipo_ultima_formalita_di_parte ?codiceUltimaFormalitaDiParte. ?stato aci:data_accettazione_ultima_formalita_di_parte ?dataUltimaFormalitaDiParte. ?stato aci:ha_targa_precedente ?targaPrecedente. ?targaPrecedente aci:numero_targa ?numeroTargaPrecedente. ?targaPrecedente  aci:serie_targa ?serieTargaPrecedente. ?stato aci:numero_telaio ?telaio. ?stato aci:kw ?kw. ?stato aci:cilindrata ?cilindrata. ?stato aci:peso_complessivo ?peso. ?stato aci:portata ?portata. ?stato aci:tara ?tara. ?stato aci:classe_veicolo ?classe. ?stato aci:destinazione_di_uso ?uso. ?stato aci:carrozzeria ?carrozzeria. ?stato aci:descrizione_specialita ?specialita. ?stato aci:data_immatricolazione ?dataImmatricolazione. ?stato aci:alimentazione ?alimentazione. ?stato aci:alimentazione_DTT ?alimentazioneDTT. }"),"import")),t.append(this.create_div('<i class="material-icons" style="font-size: 18px">clear_all</i>',"sparqling_menu_button",null,()=>this.context.graph.clear_all(),"clear all"))}},window.SparqlingNavbar=function(){var t;return t=0,class{constructor(t){this.create_sidenav=this.create_sidenav.bind(this),this.resize_navbar=this.resize_navbar.bind(this),this.context=t,this.create_sidenav()}create_sidenav(){var e,n,i,r;return this.side_nav_container=document.createElement("div"),this.side_nav_container.id="sidenav_container",this.grapholscape_container=document.getElementById("grapholscape-container"),this.grapholscape_container.appendChild(this.side_nav_container),this.context.graphol_cy.resize(),(n=document.createElement("div")).id="slider",sidenav_container.appendChild(n),(i=document.createElement("div")).innerHTML='<i class="material-icons">keyboard_arrow_left</i>',i.className="slider_button",i.onclick=(()=>this.resize_navbar(t+25)),n.appendChild(i),(i=document.createElement("div")).innerHTML='<i class="material-icons">keyboard_arrow_right</i>',i.className="slider_button",i.onclick=(()=>this.resize_navbar(t-25)),n.appendChild(i),(e=document.createElement("div")).innerHTML='<i class="material-icons">add</i><p style="font-size:xx-small; margin-top: -5px">query</p>',e.className="slider_button_down",e.onclick=(()=>this.context.add_to_query()),n.appendChild(e),this.side_nav=document.createElement("div"),this.side_nav.id="sidenav",this.side_nav.style.width=t+"%",this.side_nav_container.appendChild(this.side_nav),(r=document.createElement("div")).id="sparql_textbox",r.innerHTML="sparql_query_here",this.side_nav.appendChild(r),this.query_canvas=document.createElement("div"),this.query_canvas.id="query_canvas",this.side_nav.appendChild(this.query_canvas),this.resize_navbar()}resize_navbar(e=t){var n,i,r,o,s,a,u;return(t=e)<0&&(t=0),t>75&&(t=75),i=this.grapholscape_container.clientWidth,n=document.getElementById("center_button"),u=document.getElementById("zoom_tools"),a=document.getElementById("owl_translator"),o=document.getElementById("explorer"),r=document.getElementById("details"),s=document.getElementById("grapholscape-fullscreen-btn"),null!=n&&(n.style.right=t*i/100+50+"px",n.style.transitionDuration="0.1s"),null!=u&&(u.style.right=t*i/100+50+"px",u.style.transitionDuration="0.1s"),void 0!==document.getElementById("cy")&&null!==document.getElementById("cy")&&(document.getElementById("cy").style.width=(100-t)*i/100+0+"px"),null!=a&&(a.style.transitionDuration="0.1s",a.style.left=(100-t)/2+"%",a.style.display=t>50?"none":"block"),null!=o&&(o.style.transitionDuration="0.1s",o.style.left=(100-t)/2+"%",o.style.display=t>50?"none":"block"),null!=r&&(r.style.right=t*i/100+60+"px",r.style.transitionDuration="0.1s",r.style.display=t>25?"none":"block"),null!=s&&(s.style.right=t*i/100+50+"px",s.style.transitionDuration="0.1s"),100!==t?(this.side_nav_container.style.width=t*i/100+30+"px",this.side_nav.style.width=t*i/100+"px"):(this.side_nav_container.style.width=t*i/100+"px",this.side_nav.style.width=t*i/100-30+"px"),0===t?void 0!==this.context.menu&&(this.context.menu.set_invisible(),this.context.menu.change_size(50)):void 0!==this.context.menu&&(this.context.menu.set_visible(),this.context.menu.change_size(50)),this.context.graphol_cy.resize(),setTimeout(()=>this.context.graph.cy.resize(),150)}}}.call(this),window.PainlessUtils=class{constructor(){this.a=0}generate_style(){return(new cytoscape.stylesheet).selector("edge").style({"curve-style":"bezier",width:3,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","arrow-scale":1.5,"line-color":"#839496","font-family":"Roboto","font-size":"10","text-outline-color":"#fdf6e3","text-outline-width":"2px",color:"#002b36"}).selector(".source-edge").style({"target-arrow-shape":"square","target-arrow-fill":"hollow","target-arrow-color":"#002b36"}).selector(".target-edge").style({"target-arrow-shape":"square","target-arrow-color":"#002b36"}).selector(".edge-datatype").style({"line-style":"dotted"}).selector(".edge-concept").style({content:"rdf:type"}).selector("node").style({"background-color":"black",shape:"rectangle"}).selector(".node-domain").style({"background-color":"#002b36","border-color":"#002b36","border-style":"solid","border-width":"0.5px",width:15,height:15}).selector(".node-range").style({"background-color":"#fdf6e3","border-color":"#002b36","border-style":"solid","border-width":"2px",width:15,height:15}).selector(".node-datatype").style({shape:"ellipse","background-color":"#93a1a1",content:"data(label)","text-valign":"center","font-family":"Roboto","font-size":"12",width:15,height:15}).selector(".node-role").style({shape:"diamond","background-color":"#fdf6e3","border-style":"solid","border-color":"#002b36",color:"#002b36","border-width":"4px",content:"data(label)","text-valign":"center","font-family":"Roboto","text-outline-color":"#fdf6e3","text-outline-width":"3px",width:90,height:60}).selector(".node-attribute").style({shape:"ellipse","background-color":"#fdf6e3","border-style":"solid","border-color":"#002b36",color:"#002b36","border-width":"4px",content:"data(label)","text-valign":"center","font-family":"Roboto","text-outline-color":"#fdf6e3","text-outline-width":"3px",width:30,height:30}).selector(".node-variable").style({shape:"ellipse","background-color":function(t){return t.data("color")},width:function(t){return 100},height:function(t){return 100},"text-valign":"center","font-size":"30","font-family":"Roboto",color:"#fdf6e3","text-outline-color":function(t){return t.data("color")},"text-outline-width":"5px",content:"data(label)"}).selector(".node-constant-value").style({shape:"ellipse","background-color":function(t){return t.data("color")},width:function(t){return 100},height:function(t){return 100},"text-valign":"center","font-size":"20","font-family":"Roboto",color:"#fdf6e3","text-outline-color":"#fdf6e3","text-outline-width":"0px",content:"data(label)"}).selector(".node-constant-object").style({shape:"ellipse","background-color":function(t){return t.data("color")},width:function(t){return 100},height:function(t){return 100},"text-valign":"center","font-size":"20","font-family":"Roboto",color:"#fdf6e3","text-outline-color":"#fdf6e3","text-outline-width":"0px",content:"data(label)"}).selector(".node-concept").style({shape:"rectangle","background-color":"#073642",content:"data(label)","text-valign":"center",width:function(t){return 10*t.data("label").length+50},height:"80","border-color":"#073642","border-width":"2px","font-family":"Roboto","font-size":"20",color:"#fdf6e3","border-style":"solid"}).selector("node.highlight").style({"border-color":"#333","border-opacity":"0.5","border-width":"20px","border-style":"solid"}).selector("node.filtered").style({"border-color":"#ff0000","border-opacity":"1","border-width":"20px","border-style":"double"}).selector("node:selected").style({"border-color":"#daa","border-opacity":"0.5","border-width":"20px","border-style":"solid"})}},window.Void=class{constructor(t,e,n){this.to_html=this.to_html.bind(this),this.div=document.createElement("div"),this.div.className="void_box",this.div.contentEditable=!0,this.val=n,this.div.innerHTML=this.val,$(this.div).data("parent",t),this.position=e,this.div.dataset.filter_position=e,this.div.style.transitionDuration="0.1s"}to_html(){return this.div}};